(function(Ce,Ee){typeof exports=="object"&&typeof module<"u"?Ee(exports,require("https://unpkg.com/cliui@8.0.1/index.mjs"),require("https://unpkg.com/yargs-parser@21.1.1/browser.js")):typeof define=="function"&&define.amd?define(["exports","https://unpkg.com/cliui@8.0.1/index.mjs","https://unpkg.com/yargs-parser@21.1.1/browser.js"],Ee):(Ce=typeof globalThis<"u"?globalThis:Ce||self,Ee(Ce.CLIPrototype={},Ce.cliui,Ce.Parser))})(this,function(Ce,Ee,Ne){"use strict";var G1=Object.defineProperty;var Dd=Ce=>{throw TypeError(Ce)};var V1=(Ce,Ee,Ne)=>Ee in Ce?G1(Ce,Ee,{enumerable:!0,configurable:!0,writable:!0,value:Ne}):Ce[Ee]=Ne;var zr=(Ce,Ee,Ne)=>V1(Ce,typeof Ee!="symbol"?Ee+"":Ee,Ne),eu=(Ce,Ee,Ne)=>Ee.has(Ce)||Dd("Cannot "+Ne);var ue=(Ce,Ee,Ne)=>(eu(Ce,Ee,"read from private field"),Ne?Ne.call(Ce):Ee.get(Ce)),Ye=(Ce,Ee,Ne)=>Ee.has(Ce)?Dd("Cannot add the same private member more than once"):Ee instanceof WeakSet?Ee.add(Ce):Ee.set(Ce,Ne),Ae=(Ce,Ee,Ne,it)=>(eu(Ce,Ee,"write to private field"),it?it.call(Ce,Ne):Ee.set(Ce,Ne),Ne),ct=(Ce,Ee,Ne)=>(eu(Ce,Ee,"access private method"),Ne);var ws=(Ce,Ee,Ne,it)=>({set _($t){Ae(Ce,Ee,$t,Ne)},get _(){return ue(Ce,Ee,it)}});var zf,Gf,Vf,Kf,Yf,Jf,Xf,Zf,Qf,ed,td,rd,id,sd,nd,od,ad,ud,ld,hd,cd,fd,dd,pd,gd,md,_d,vd,Yt,Wt,bd,Cd,tu,Jt,Ur,yr,Ut,Ge,kt,et,br,$r,Ot,Rt,Pt,qr,bt,Ct,ht,ru,iu,wi;var it=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Sd(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})}),r}var su={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(self,()=>(()=>{var r={};return(()=>{var n=r;Object.defineProperty(n,"__esModule",{value:!0}),n.FitAddon=void 0,n.FitAddon=class{activate(o){this._terminal=o}dispose(){}fit(){const o=this.proposeDimensions();if(!o||!this._terminal||isNaN(o.cols)||isNaN(o.rows))return;const h=this._terminal._core;this._terminal.rows===o.rows&&this._terminal.cols===o.cols||(h._renderService.clear(),this._terminal.resize(o.cols,o.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const o=this._terminal._core,h=o._renderService.dimensions;if(h.css.cell.width===0||h.css.cell.height===0)return;const p=this._terminal.options.scrollback===0?0:o.viewport.scrollBarWidth,s=window.getComputedStyle(this._terminal.element.parentElement),l=parseInt(s.getPropertyValue("height")),c=Math.max(0,parseInt(s.getPropertyValue("width"))),a=window.getComputedStyle(this._terminal.element),f=l-(parseInt(a.getPropertyValue("padding-top"))+parseInt(a.getPropertyValue("padding-bottom"))),i=c-(parseInt(a.getPropertyValue("padding-right"))+parseInt(a.getPropertyValue("padding-left")))-p;return{cols:Math.max(2,Math.floor(i/h.css.cell.width)),rows:Math.max(1,Math.floor(f/h.css.cell.height))}}}})(),r})())})(su);var wd=su.exports,nu={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(self,()=>(()=>{var r={4567:function(p,s,l){var c=this&&this.__decorate||function(v,y,b,E){var F,C=arguments.length,A=C<3?y:E===null?E=Object.getOwnPropertyDescriptor(y,b):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(v,y,b,E);else for(var L=v.length-1;L>=0;L--)(F=v[L])&&(A=(C<3?F(A):C>3?F(y,b,A):F(y,b))||A);return C>3&&A&&Object.defineProperty(y,b,A),A},a=this&&this.__param||function(v,y){return function(b,E){y(b,E,v)}};Object.defineProperty(s,"__esModule",{value:!0}),s.AccessibilityManager=void 0;const f=l(9042),i=l(6114),d=l(9924),m=l(844),D=l(5596),u=l(4725),_=l(3656);let g=s.AccessibilityManager=class extends m.Disposable{constructor(v,y){super(),this._terminal=v,this._renderService=y,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let b=0;b<this._terminal.rows;b++)this._rowElements[b]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[b]);if(this._topBoundaryFocusListener=b=>this._handleBoundaryFocus(b,0),this._bottomBoundaryFocusListener=b=>this._handleBoundaryFocus(b,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new d.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(b=>this._handleResize(b.rows))),this.register(this._terminal.onRender(b=>this._refreshRows(b.start,b.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(b=>this._handleChar(b))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(b=>this._handleTab(b))),this.register(this._terminal.onKey(b=>this._handleKey(b.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new D.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,_.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,m.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(v){for(let y=0;y<v;y++)this._handleChar(" ")}_handleChar(v){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==v&&(this._charsToAnnounce+=v):this._charsToAnnounce+=v,v===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=f.tooMuchOutput)),i.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,i.isMac&&this._liveRegion.remove()}_handleKey(v){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(v)||this._charsToConsume.push(v)}_refreshRows(v,y){this._liveRegionDebouncer.refresh(v,y,this._terminal.rows)}_renderRows(v,y){const b=this._terminal.buffer,E=b.lines.length.toString();for(let F=v;F<=y;F++){const C=b.translateBufferLineToString(b.ydisp+F,!0),A=(b.ydisp+F+1).toString(),L=this._rowElements[F];L&&(C.length===0?L.innerText="Â ":L.textContent=C,L.setAttribute("aria-posinset",A),L.setAttribute("aria-setsize",E))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(v,y){const b=v.target,E=this._rowElements[y===0?1:this._rowElements.length-2];if(b.getAttribute("aria-posinset")===(y===0?"1":`${this._terminal.buffer.lines.length}`)||v.relatedTarget!==E)return;let F,C;if(y===0?(F=b,C=this._rowElements.pop(),this._rowContainer.removeChild(C)):(F=this._rowElements.shift(),C=b,this._rowContainer.removeChild(F)),F.removeEventListener("focus",this._topBoundaryFocusListener),C.removeEventListener("focus",this._bottomBoundaryFocusListener),y===0){const A=this._createAccessibilityTreeNode();this._rowElements.unshift(A),this._rowContainer.insertAdjacentElement("afterbegin",A)}else{const A=this._createAccessibilityTreeNode();this._rowElements.push(A),this._rowContainer.appendChild(A)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(y===0?-1:1),this._rowElements[y===0?1:this._rowElements.length-2].focus(),v.preventDefault(),v.stopImmediatePropagation()}_handleResize(v){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let y=this._rowContainer.children.length;y<this._terminal.rows;y++)this._rowElements[y]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[y]);for(;this._rowElements.length>v;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const v=document.createElement("div");return v.setAttribute("role","listitem"),v.tabIndex=-1,this._refreshRowDimensions(v),v}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let v=0;v<this._terminal.rows;v++)this._refreshRowDimensions(this._rowElements[v])}}_refreshRowDimensions(v){v.style.height=`${this._renderService.dimensions.css.cell.height}px`}};s.AccessibilityManager=g=c([a(1,u.IRenderService)],g)},3614:(p,s)=>{function l(i){return i.replace(/\r?\n/g,"\r")}function c(i,d){return d?"\x1B[200~"+i+"\x1B[201~":i}function a(i,d,m,D){i=c(i=l(i),m.decPrivateModes.bracketedPasteMode&&D.rawOptions.ignoreBracketedPasteMode!==!0),m.triggerDataEvent(i,!0),d.value=""}function f(i,d,m){const D=m.getBoundingClientRect(),u=i.clientX-D.left-10,_=i.clientY-D.top-10;d.style.width="20px",d.style.height="20px",d.style.left=`${u}px`,d.style.top=`${_}px`,d.style.zIndex="1000",d.focus()}Object.defineProperty(s,"__esModule",{value:!0}),s.rightClickHandler=s.moveTextAreaUnderMouseCursor=s.paste=s.handlePasteEvent=s.copyHandler=s.bracketTextForPaste=s.prepareTextForTerminal=void 0,s.prepareTextForTerminal=l,s.bracketTextForPaste=c,s.copyHandler=function(i,d){i.clipboardData&&i.clipboardData.setData("text/plain",d.selectionText),i.preventDefault()},s.handlePasteEvent=function(i,d,m,D){i.stopPropagation(),i.clipboardData&&a(i.clipboardData.getData("text/plain"),d,m,D)},s.paste=a,s.moveTextAreaUnderMouseCursor=f,s.rightClickHandler=function(i,d,m,D,u){f(i,d,m),u&&D.rightClickSelect(i),d.value=D.selectionText,d.select()}},7239:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorContrastCache=void 0;const c=l(1505);s.ColorContrastCache=class{constructor(){this._color=new c.TwoKeyMap,this._css=new c.TwoKeyMap}setCss(a,f,i){this._css.set(a,f,i)}getCss(a,f){return this._css.get(a,f)}setColor(a,f,i){this._color.set(a,f,i)}getColor(a,f){return this._color.get(a,f)}clear(){this._color.clear(),this._css.clear()}}},3656:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.addDisposableDomListener=void 0,s.addDisposableDomListener=function(l,c,a,f){l.addEventListener(c,a,f);let i=!1;return{dispose:()=>{i||(i=!0,l.removeEventListener(c,a,f))}}}},6465:function(p,s,l){var c=this&&this.__decorate||function(u,_,g,v){var y,b=arguments.length,E=b<3?_:v===null?v=Object.getOwnPropertyDescriptor(_,g):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(u,_,g,v);else for(var F=u.length-1;F>=0;F--)(y=u[F])&&(E=(b<3?y(E):b>3?y(_,g,E):y(_,g))||E);return b>3&&E&&Object.defineProperty(_,g,E),E},a=this&&this.__param||function(u,_){return function(g,v){_(g,v,u)}};Object.defineProperty(s,"__esModule",{value:!0}),s.Linkifier2=void 0;const f=l(3656),i=l(8460),d=l(844),m=l(2585);let D=s.Linkifier2=class extends d.Disposable{get currentLink(){return this._currentLink}constructor(u){super(),this._bufferService=u,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new i.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new i.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,d.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,d.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(u){return this._linkProviders.push(u),{dispose:()=>{const _=this._linkProviders.indexOf(u);_!==-1&&this._linkProviders.splice(_,1)}}}attachToDom(u,_,g){this._element=u,this._mouseService=_,this._renderService=g,this.register((0,f.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,f.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,f.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,f.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(u){if(this._lastMouseEvent=u,!this._element||!this._mouseService)return;const _=this._positionFromMouseEvent(u,this._element,this._mouseService);if(!_)return;this._isMouseOut=!1;const g=u.composedPath();for(let v=0;v<g.length;v++){const y=g[v];if(y.classList.contains("xterm"))break;if(y.classList.contains("xterm-hover"))return}this._lastBufferCell&&_.x===this._lastBufferCell.x&&_.y===this._lastBufferCell.y||(this._handleHover(_),this._lastBufferCell=_)}_handleHover(u){if(this._activeLine!==u.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(u,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,u)||(this._clearCurrentLink(),this._askForLink(u,!0))}_askForLink(u,_){var g,v;this._activeProviderReplies&&_||((g=this._activeProviderReplies)===null||g===void 0||g.forEach(b=>{b==null||b.forEach(E=>{E.link.dispose&&E.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=u.y);let y=!1;for(const[b,E]of this._linkProviders.entries())_?!((v=this._activeProviderReplies)===null||v===void 0)&&v.get(b)&&(y=this._checkLinkProviderResult(b,u,y)):E.provideLinks(u.y,F=>{var C,A;if(this._isMouseOut)return;const L=F==null?void 0:F.map(T=>({link:T}));(C=this._activeProviderReplies)===null||C===void 0||C.set(b,L),y=this._checkLinkProviderResult(b,u,y),((A=this._activeProviderReplies)===null||A===void 0?void 0:A.size)===this._linkProviders.length&&this._removeIntersectingLinks(u.y,this._activeProviderReplies)})}_removeIntersectingLinks(u,_){const g=new Set;for(let v=0;v<_.size;v++){const y=_.get(v);if(y)for(let b=0;b<y.length;b++){const E=y[b],F=E.link.range.start.y<u?0:E.link.range.start.x,C=E.link.range.end.y>u?this._bufferService.cols:E.link.range.end.x;for(let A=F;A<=C;A++){if(g.has(A)){y.splice(b--,1);break}g.add(A)}}}}_checkLinkProviderResult(u,_,g){var v;if(!this._activeProviderReplies)return g;const y=this._activeProviderReplies.get(u);let b=!1;for(let E=0;E<u;E++)this._activeProviderReplies.has(E)&&!this._activeProviderReplies.get(E)||(b=!0);if(!b&&y){const E=y.find(F=>this._linkAtPosition(F.link,_));E&&(g=!0,this._handleNewLink(E))}if(this._activeProviderReplies.size===this._linkProviders.length&&!g)for(let E=0;E<this._activeProviderReplies.size;E++){const F=(v=this._activeProviderReplies.get(E))===null||v===void 0?void 0:v.find(C=>this._linkAtPosition(C.link,_));if(F){g=!0,this._handleNewLink(F);break}}return g}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(u){if(!this._element||!this._mouseService||!this._currentLink)return;const _=this._positionFromMouseEvent(u,this._element,this._mouseService);_&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,_)&&this._currentLink.link.activate(u,this._currentLink.link.text)}_clearCurrentLink(u,_){this._element&&this._currentLink&&this._lastMouseEvent&&(!u||!_||this._currentLink.link.range.start.y>=u&&this._currentLink.link.range.end.y<=_)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,d.disposeArray)(this._linkCacheDisposables))}_handleNewLink(u){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const _=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);_&&this._linkAtPosition(u.link,_)&&(this._currentLink=u,this._currentLink.state={decorations:{underline:u.link.decorations===void 0||u.link.decorations.underline,pointerCursor:u.link.decorations===void 0||u.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,u.link,this._lastMouseEvent),u.link.decorations={},Object.defineProperties(u.link.decorations,{pointerCursor:{get:()=>{var g,v;return(v=(g=this._currentLink)===null||g===void 0?void 0:g.state)===null||v===void 0?void 0:v.decorations.pointerCursor},set:g=>{var v,y;!((v=this._currentLink)===null||v===void 0)&&v.state&&this._currentLink.state.decorations.pointerCursor!==g&&(this._currentLink.state.decorations.pointerCursor=g,this._currentLink.state.isHovered&&((y=this._element)===null||y===void 0||y.classList.toggle("xterm-cursor-pointer",g)))}},underline:{get:()=>{var g,v;return(v=(g=this._currentLink)===null||g===void 0?void 0:g.state)===null||v===void 0?void 0:v.decorations.underline},set:g=>{var v,y,b;!((v=this._currentLink)===null||v===void 0)&&v.state&&((b=(y=this._currentLink)===null||y===void 0?void 0:y.state)===null||b===void 0?void 0:b.decorations.underline)!==g&&(this._currentLink.state.decorations.underline=g,this._currentLink.state.isHovered&&this._fireUnderlineEvent(u.link,g))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(g=>{if(!this._currentLink)return;const v=g.start===0?0:g.start+1+this._bufferService.buffer.ydisp,y=this._bufferService.buffer.ydisp+1+g.end;if(this._currentLink.link.range.start.y>=v&&this._currentLink.link.range.end.y<=y&&(this._clearCurrentLink(v,y),this._lastMouseEvent&&this._element)){const b=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);b&&this._askForLink(b,!1)}})))}_linkHover(u,_,g){var v;!((v=this._currentLink)===null||v===void 0)&&v.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(_,!0),this._currentLink.state.decorations.pointerCursor&&u.classList.add("xterm-cursor-pointer")),_.hover&&_.hover(g,_.text)}_fireUnderlineEvent(u,_){const g=u.range,v=this._bufferService.buffer.ydisp,y=this._createLinkUnderlineEvent(g.start.x-1,g.start.y-v-1,g.end.x,g.end.y-v-1,void 0);(_?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(y)}_linkLeave(u,_,g){var v;!((v=this._currentLink)===null||v===void 0)&&v.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(_,!1),this._currentLink.state.decorations.pointerCursor&&u.classList.remove("xterm-cursor-pointer")),_.leave&&_.leave(g,_.text)}_linkAtPosition(u,_){const g=u.range.start.y*this._bufferService.cols+u.range.start.x,v=u.range.end.y*this._bufferService.cols+u.range.end.x,y=_.y*this._bufferService.cols+_.x;return g<=y&&y<=v}_positionFromMouseEvent(u,_,g){const v=g.getCoords(u,_,this._bufferService.cols,this._bufferService.rows);if(v)return{x:v[0],y:v[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(u,_,g,v,y){return{x1:u,y1:_,x2:g,y2:v,cols:this._bufferService.cols,fg:y}}};s.Linkifier2=D=c([a(0,m.IBufferService)],D)},9042:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.tooMuchOutput=s.promptLabel=void 0,s.promptLabel="Terminal input",s.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(p,s,l){var c=this&&this.__decorate||function(D,u,_,g){var v,y=arguments.length,b=y<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,_):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(D,u,_,g);else for(var E=D.length-1;E>=0;E--)(v=D[E])&&(b=(y<3?v(b):y>3?v(u,_,b):v(u,_))||b);return y>3&&b&&Object.defineProperty(u,_,b),b},a=this&&this.__param||function(D,u){return function(_,g){u(_,g,D)}};Object.defineProperty(s,"__esModule",{value:!0}),s.OscLinkProvider=void 0;const f=l(511),i=l(2585);let d=s.OscLinkProvider=class{constructor(D,u,_){this._bufferService=D,this._optionsService=u,this._oscLinkService=_}provideLinks(D,u){var _;const g=this._bufferService.buffer.lines.get(D-1);if(!g)return void u(void 0);const v=[],y=this._optionsService.rawOptions.linkHandler,b=new f.CellData,E=g.getTrimmedLength();let F=-1,C=-1,A=!1;for(let L=0;L<E;L++)if(C!==-1||g.hasContent(L)){if(g.loadCell(L,b),b.hasExtendedAttrs()&&b.extended.urlId){if(C===-1){C=L,F=b.extended.urlId;continue}A=b.extended.urlId!==F}else C!==-1&&(A=!0);if(A||C!==-1&&L===E-1){const T=(_=this._oscLinkService.getLinkData(F))===null||_===void 0?void 0:_.uri;if(T){const O={start:{x:C+1,y:D},end:{x:L+(A||L!==E-1?0:1),y:D}};let H=!1;if(!(y!=null&&y.allowNonHttpProtocols))try{const Y=new URL(T);["http:","https:"].includes(Y.protocol)||(H=!0)}catch{H=!0}H||v.push({text:T,range:O,activate:(Y,Z)=>y?y.activate(Y,Z,O):m(0,Z),hover:(Y,Z)=>{var te;return(te=y==null?void 0:y.hover)===null||te===void 0?void 0:te.call(y,Y,Z,O)},leave:(Y,Z)=>{var te;return(te=y==null?void 0:y.leave)===null||te===void 0?void 0:te.call(y,Y,Z,O)}})}A=!1,b.hasExtendedAttrs()&&b.extended.urlId?(C=L,F=b.extended.urlId):(C=-1,F=-1)}}u(v)}};function m(D,u){if(confirm(`Do you want to navigate to ${u}?

WARNING: This link could potentially be dangerous`)){const _=window.open();if(_){try{_.opener=null}catch{}_.location.href=u}else console.warn("Opening link blocked as opener could not be cleared")}}s.OscLinkProvider=d=c([a(0,i.IBufferService),a(1,i.IOptionsService),a(2,i.IOscLinkService)],d)},6193:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.RenderDebouncer=void 0,s.RenderDebouncer=class{constructor(l,c){this._parentWindow=l,this._renderCallback=c,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(l){return this._refreshCallbacks.push(l),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(l,c,a){this._rowCount=a,l=l!==void 0?l:0,c=c!==void 0?c:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,c):c,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const l=Math.max(this._rowStart,0),c=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,c),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const l of this._refreshCallbacks)l(0);this._refreshCallbacks=[]}}},5596:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ScreenDprMonitor=void 0;const c=l(844);class a extends c.Disposable{constructor(i){super(),this._parentWindow=i,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,c.toDisposable)(()=>{this.clearListener()}))}setListener(i){this._listener&&this.clearListener(),this._listener=i,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var i;this._outerListener&&((i=this._resolutionMediaMatchList)===null||i===void 0||i.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}s.ScreenDprMonitor=a},3236:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Terminal=void 0;const c=l(3614),a=l(3656),f=l(6465),i=l(9042),d=l(3730),m=l(1680),D=l(3107),u=l(5744),_=l(2950),g=l(1296),v=l(428),y=l(4269),b=l(5114),E=l(8934),F=l(3230),C=l(9312),A=l(4725),L=l(6731),T=l(8055),O=l(8969),H=l(8460),Y=l(844),Z=l(6114),te=l(8437),ee=l(2584),k=l(7399),R=l(5941),P=l(9074),q=l(2585),I=l(5435),G=l(4567),M=typeof window<"u"?window.document:null;class $ extends O.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(x={}){super(x),this.browser=Z,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new Y.MutableDisposable),this._onCursorMove=this.register(new H.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new H.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new H.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new H.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new H.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new H.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new H.EventEmitter),this._onBlur=this.register(new H.EventEmitter),this._onA11yCharEmitter=this.register(new H.EventEmitter),this._onA11yTabEmitter=this.register(new H.EventEmitter),this._onWillOpen=this.register(new H.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(f.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(d.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(P.DecorationService),this._instantiationService.setService(q.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((j,U)=>this.refresh(j,U))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(j=>this._reportWindowsOptions(j))),this.register(this._inputHandler.onColor(j=>this._handleColorEvent(j))),this.register((0,H.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,H.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,H.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,H.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(j=>this._afterResize(j.cols,j.rows))),this.register((0,Y.toDisposable)(()=>{var j,U;this._customKeyEventHandler=void 0,(U=(j=this.element)===null||j===void 0?void 0:j.parentNode)===null||U===void 0||U.removeChild(this.element)}))}_handleColorEvent(x){if(this._themeService)for(const j of x){let U,V="";switch(j.index){case 256:U="foreground",V="10";break;case 257:U="background",V="11";break;case 258:U="cursor",V="12";break;default:U="ansi",V="4;"+j.index}switch(j.type){case 0:const re=T.color.toColorRGB(U==="ansi"?this._themeService.colors.ansi[j.index]:this._themeService.colors[U]);this.coreService.triggerDataEvent(`${ee.C0.ESC}]${V};${(0,R.toRgbString)(re)}${ee.C1_ESCAPED.ST}`);break;case 1:if(U==="ansi")this._themeService.modifyColors(se=>se.ansi[j.index]=T.rgba.toColor(...j.color));else{const se=U;this._themeService.modifyColors(he=>he[se]=T.rgba.toColor(...j.color))}break;case 2:this._themeService.restoreColor(j.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(x){x?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(G.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(x){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(ee.C0.ESC+"[I"),this.updateCursorStyle(x),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var x;return(x=this.textarea)===null||x===void 0?void 0:x.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(ee.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const x=this.buffer.ybase+this.buffer.y,j=this.buffer.lines.get(x);if(!j)return;const U=Math.min(this.buffer.x,this.cols-1),V=this._renderService.dimensions.css.cell.height,re=j.getWidth(U),se=this._renderService.dimensions.css.cell.width*re,he=this.buffer.y*this._renderService.dimensions.css.cell.height,me=U*this._renderService.dimensions.css.cell.width;this.textarea.style.left=me+"px",this.textarea.style.top=he+"px",this.textarea.style.width=se+"px",this.textarea.style.height=V+"px",this.textarea.style.lineHeight=V+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,a.addDisposableDomListener)(this.element,"copy",j=>{this.hasSelection()&&(0,c.copyHandler)(j,this._selectionService)}));const x=j=>(0,c.handlePasteEvent)(j,this.textarea,this.coreService,this.optionsService);this.register((0,a.addDisposableDomListener)(this.textarea,"paste",x)),this.register((0,a.addDisposableDomListener)(this.element,"paste",x)),Z.isFirefox?this.register((0,a.addDisposableDomListener)(this.element,"mousedown",j=>{j.button===2&&(0,c.rightClickHandler)(j,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,a.addDisposableDomListener)(this.element,"contextmenu",j=>{(0,c.rightClickHandler)(j,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),Z.isLinux&&this.register((0,a.addDisposableDomListener)(this.element,"auxclick",j=>{j.button===1&&(0,c.moveTextAreaUnderMouseCursor)(j,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,a.addDisposableDomListener)(this.textarea,"keyup",x=>this._keyUp(x),!0)),this.register((0,a.addDisposableDomListener)(this.textarea,"keydown",x=>this._keyDown(x),!0)),this.register((0,a.addDisposableDomListener)(this.textarea,"keypress",x=>this._keyPress(x),!0)),this.register((0,a.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,a.addDisposableDomListener)(this.textarea,"compositionupdate",x=>this._compositionHelper.compositionupdate(x))),this.register((0,a.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,a.addDisposableDomListener)(this.textarea,"input",x=>this._inputEvent(x),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(x){var j;if(!x)throw new Error("Terminal requires a parent element.");x.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=x.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),x.appendChild(this.element);const U=M.createDocumentFragment();this._viewportElement=M.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),U.appendChild(this._viewportElement),this._viewportScrollArea=M.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=M.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=M.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),U.appendChild(this.screenElement),this.textarea=M.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",i.promptLabel),Z.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(b.CoreBrowserService,this.textarea,(j=this._document.defaultView)!==null&&j!==void 0?j:window),this._instantiationService.setService(A.ICoreBrowserService,this._coreBrowserService),this.register((0,a.addDisposableDomListener)(this.textarea,"focus",V=>this._handleTextAreaFocus(V))),this.register((0,a.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(v.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(A.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(L.ThemeService),this._instantiationService.setService(A.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(y.CharacterJoinerService),this._instantiationService.setService(A.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(F.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(A.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(V=>this._onRender.fire(V))),this.onResize(V=>this._renderService.resize(V.cols,V.rows)),this._compositionView=M.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(_.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(U);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(E.MouseService),this._instantiationService.setService(A.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(m.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(V=>this.scrollLines(V.amount,V.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(C.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(A.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(V=>this.scrollLines(V.amount,V.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(V=>this._renderService.handleSelectionChanged(V.start,V.end,V.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(V=>{this.textarea.value=V,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(V=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,a.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(D.BufferDecorationRenderer,this.screenElement)),this.register((0,a.addDisposableDomListener)(this.element,"mousedown",V=>this._selectionService.handleMouseDown(V))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(G.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",V=>this._handleScreenReaderModeOptionChange(V))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(u.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",V=>{!this._overviewRulerRenderer&&V&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(u.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(g.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const x=this,j=this.element;function U(se){const he=x._mouseService.getMouseReportCoords(se,x.screenElement);if(!he)return!1;let me,Se;switch(se.overrideType||se.type){case"mousemove":Se=32,se.buttons===void 0?(me=3,se.button!==void 0&&(me=se.button<3?se.button:3)):me=1&se.buttons?0:4&se.buttons?1:2&se.buttons?2:3;break;case"mouseup":Se=0,me=se.button<3?se.button:3;break;case"mousedown":Se=1,me=se.button<3?se.button:3;break;case"wheel":if(x.viewport.getLinesScrolled(se)===0)return!1;Se=se.deltaY<0?0:1,me=4;break;default:return!1}return!(Se===void 0||me===void 0||me>4)&&x.coreMouseService.triggerMouseEvent({col:he.col,row:he.row,x:he.x,y:he.y,button:me,action:Se,ctrl:se.ctrlKey,alt:se.altKey,shift:se.shiftKey})}const V={mouseup:null,wheel:null,mousedrag:null,mousemove:null},re={mouseup:se=>(U(se),se.buttons||(this._document.removeEventListener("mouseup",V.mouseup),V.mousedrag&&this._document.removeEventListener("mousemove",V.mousedrag)),this.cancel(se)),wheel:se=>(U(se),this.cancel(se,!0)),mousedrag:se=>{se.buttons&&U(se)},mousemove:se=>{se.buttons||U(se)}};this.register(this.coreMouseService.onProtocolChange(se=>{se?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(se)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&se?V.mousemove||(j.addEventListener("mousemove",re.mousemove),V.mousemove=re.mousemove):(j.removeEventListener("mousemove",V.mousemove),V.mousemove=null),16&se?V.wheel||(j.addEventListener("wheel",re.wheel,{passive:!1}),V.wheel=re.wheel):(j.removeEventListener("wheel",V.wheel),V.wheel=null),2&se?V.mouseup||(j.addEventListener("mouseup",re.mouseup),V.mouseup=re.mouseup):(this._document.removeEventListener("mouseup",V.mouseup),j.removeEventListener("mouseup",V.mouseup),V.mouseup=null),4&se?V.mousedrag||(V.mousedrag=re.mousedrag):(this._document.removeEventListener("mousemove",V.mousedrag),V.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,a.addDisposableDomListener)(j,"mousedown",se=>{if(se.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(se))return U(se),V.mouseup&&this._document.addEventListener("mouseup",V.mouseup),V.mousedrag&&this._document.addEventListener("mousemove",V.mousedrag),this.cancel(se)})),this.register((0,a.addDisposableDomListener)(j,"wheel",se=>{if(!V.wheel){if(!this.buffer.hasScrollback){const he=this.viewport.getLinesScrolled(se);if(he===0)return;const me=ee.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(se.deltaY<0?"A":"B");let Se="";for(let Pe=0;Pe<Math.abs(he);Pe++)Se+=me;return this.coreService.triggerDataEvent(Se,!0),this.cancel(se,!0)}return this.viewport.handleWheel(se)?this.cancel(se):void 0}},{passive:!1})),this.register((0,a.addDisposableDomListener)(j,"touchstart",se=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(se),this.cancel(se)},{passive:!0})),this.register((0,a.addDisposableDomListener)(j,"touchmove",se=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(se)?void 0:this.cancel(se)},{passive:!1}))}refresh(x,j){var U;(U=this._renderService)===null||U===void 0||U.refreshRows(x,j)}updateCursorStyle(x){var j;!((j=this._selectionService)===null||j===void 0)&&j.shouldColumnSelect(x)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(x,j,U=0){var V;U===1?(super.scrollLines(x,j,U),this.refresh(0,this.rows-1)):(V=this.viewport)===null||V===void 0||V.scrollLines(x)}paste(x){(0,c.paste)(x,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(x){this._customKeyEventHandler=x}registerLinkProvider(x){return this.linkifier2.registerLinkProvider(x)}registerCharacterJoiner(x){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const j=this._characterJoinerService.register(x);return this.refresh(0,this.rows-1),j}deregisterCharacterJoiner(x){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(x)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(x){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+x)}registerDecoration(x){return this._decorationService.registerDecoration(x)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(x,j,U){this._selectionService.setSelection(x,j,U)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var x;(x=this._selectionService)===null||x===void 0||x.clearSelection()}selectAll(){var x;(x=this._selectionService)===null||x===void 0||x.selectAll()}selectLines(x,j){var U;(U=this._selectionService)===null||U===void 0||U.selectLines(x,j)}_keyDown(x){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(x)===!1)return!1;const j=this.browser.isMac&&this.options.macOptionIsMeta&&x.altKey;if(!j&&!this._compositionHelper.keydown(x))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;j||x.key!=="Dead"&&x.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const U=(0,k.evaluateKeyboardEvent)(x,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(x),U.type===3||U.type===2){const V=this.rows-1;return this.scrollLines(U.type===2?-V:V),this.cancel(x,!0)}return U.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,x)||(U.cancel&&this.cancel(x,!0),!U.key||!!(x.key&&!x.ctrlKey&&!x.altKey&&!x.metaKey&&x.key.length===1&&x.key.charCodeAt(0)>=65&&x.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(U.key!==ee.C0.ETX&&U.key!==ee.C0.CR||(this.textarea.value=""),this._onKey.fire({key:U.key,domEvent:x}),this._showCursor(),this.coreService.triggerDataEvent(U.key,!0),!this.optionsService.rawOptions.screenReaderMode||x.altKey||x.ctrlKey?this.cancel(x,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(x,j){const U=x.isMac&&!this.options.macOptionIsMeta&&j.altKey&&!j.ctrlKey&&!j.metaKey||x.isWindows&&j.altKey&&j.ctrlKey&&!j.metaKey||x.isWindows&&j.getModifierState("AltGraph");return j.type==="keypress"?U:U&&(!j.keyCode||j.keyCode>47)}_keyUp(x){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(x)===!1||(function(j){return j.keyCode===16||j.keyCode===17||j.keyCode===18}(x)||this.focus(),this.updateCursorStyle(x),this._keyPressHandled=!1)}_keyPress(x){let j;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(x)===!1)return!1;if(this.cancel(x),x.charCode)j=x.charCode;else if(x.which===null||x.which===void 0)j=x.keyCode;else{if(x.which===0||x.charCode===0)return!1;j=x.which}return!(!j||(x.altKey||x.ctrlKey||x.metaKey)&&!this._isThirdLevelShift(this.browser,x)||(j=String.fromCharCode(j),this._onKey.fire({key:j,domEvent:x}),this._showCursor(),this.coreService.triggerDataEvent(j,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(x){if(x.data&&x.inputType==="insertText"&&(!x.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const j=x.data;return this.coreService.triggerDataEvent(j,!0),this.cancel(x),!0}return!1}resize(x,j){x!==this.cols||j!==this.rows?super.resize(x,j):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(x,j){var U,V;(U=this._charSizeService)===null||U===void 0||U.measure(),(V=this.viewport)===null||V===void 0||V.syncScrollArea(!0)}clear(){var x;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let j=1;j<this.rows;j++)this.buffer.lines.push(this.buffer.getBlankLine(te.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(x=this.viewport)===null||x===void 0||x.reset(),this.refresh(0,this.rows-1)}}reset(){var x,j;this.options.rows=this.rows,this.options.cols=this.cols;const U=this._customKeyEventHandler;this._setup(),super.reset(),(x=this._selectionService)===null||x===void 0||x.reset(),this._decorationService.reset(),(j=this.viewport)===null||j===void 0||j.reset(),this._customKeyEventHandler=U,this.refresh(0,this.rows-1)}clearTextureAtlas(){var x;(x=this._renderService)===null||x===void 0||x.clearTextureAtlas()}_reportFocus(){var x;!((x=this.element)===null||x===void 0)&&x.classList.contains("focus")?this.coreService.triggerDataEvent(ee.C0.ESC+"[I"):this.coreService.triggerDataEvent(ee.C0.ESC+"[O")}_reportWindowsOptions(x){if(this._renderService)switch(x){case I.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const j=this._renderService.dimensions.css.canvas.width.toFixed(0),U=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${ee.C0.ESC}[4;${U};${j}t`);break;case I.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const V=this._renderService.dimensions.css.cell.width.toFixed(0),re=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${ee.C0.ESC}[6;${re};${V}t`)}}cancel(x,j){if(this.options.cancelEvents||j)return x.preventDefault(),x.stopPropagation(),!1}}s.Terminal=$},9924:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TimeBasedDebouncer=void 0,s.TimeBasedDebouncer=class{constructor(l,c=1e3){this._renderCallback=l,this._debounceThresholdMS=c,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(l,c,a){this._rowCount=a,l=l!==void 0?l:0,c=c!==void 0?c:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,c):c;const f=Date.now();if(f-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=f,this._innerRefresh();else if(!this._additionalRefreshRequested){const i=f-this._lastRefreshMs,d=this._debounceThresholdMS-i;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},d)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const l=Math.max(this._rowStart,0),c=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,c)}}},1680:function(p,s,l){var c=this&&this.__decorate||function(_,g,v,y){var b,E=arguments.length,F=E<3?g:y===null?y=Object.getOwnPropertyDescriptor(g,v):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(_,g,v,y);else for(var C=_.length-1;C>=0;C--)(b=_[C])&&(F=(E<3?b(F):E>3?b(g,v,F):b(g,v))||F);return E>3&&F&&Object.defineProperty(g,v,F),F},a=this&&this.__param||function(_,g){return function(v,y){g(v,y,_)}};Object.defineProperty(s,"__esModule",{value:!0}),s.Viewport=void 0;const f=l(3656),i=l(4725),d=l(8460),m=l(844),D=l(2585);let u=s.Viewport=class extends m.Disposable{constructor(_,g,v,y,b,E,F,C){super(),this._viewportElement=_,this._scrollArea=g,this._bufferService=v,this._optionsService=y,this._charSizeService=b,this._renderService=E,this._coreBrowserService=F,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new d.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,f.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(A=>this._activeBuffer=A.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(A=>this._renderDimensions=A)),this._handleThemeChange(C.colors),this.register(C.onChangeColors(A=>this._handleThemeChange(A))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(_){this._viewportElement.style.backgroundColor=_.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(_){if(_)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const g=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==g&&(this._lastRecordedBufferHeight=g,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const _=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==_&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=_),this._refreshAnimationFrame=null}syncScrollArea(_=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(_);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(_)}_handleScroll(_){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const g=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:g,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const _=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(_*(this._smoothScrollState.target-this._smoothScrollState.origin)),_<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(_,g){const v=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(g<0&&this._viewportElement.scrollTop!==0||g>0&&v<this._lastRecordedBufferHeight)||(_.cancelable&&_.preventDefault(),!1)}handleWheel(_){const g=this._getPixelsScrolled(_);return g!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+g:this._smoothScrollState.target+=g,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=g,this._bubbleScroll(_,g))}scrollLines(_){if(_!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const g=_*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+g,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:_,suppressScrollEvent:!1})}_getPixelsScrolled(_){if(_.deltaY===0||_.shiftKey)return 0;let g=this._applyScrollModifier(_.deltaY,_);return _.deltaMode===WheelEvent.DOM_DELTA_LINE?g*=this._currentRowHeight:_.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(g*=this._currentRowHeight*this._bufferService.rows),g}getBufferElements(_,g){var v;let y,b="";const E=[],F=g??this._bufferService.buffer.lines.length,C=this._bufferService.buffer.lines;for(let A=_;A<F;A++){const L=C.get(A);if(!L)continue;const T=(v=C.get(A+1))===null||v===void 0?void 0:v.isWrapped;if(b+=L.translateToString(!T),!T||A===C.length-1){const O=document.createElement("div");O.textContent=b,E.push(O),b.length>0&&(y=O),b=""}}return{bufferElements:E,cursorElement:y}}getLinesScrolled(_){if(_.deltaY===0||_.shiftKey)return 0;let g=this._applyScrollModifier(_.deltaY,_);return _.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(g/=this._currentRowHeight+0,this._wheelPartialScroll+=g,g=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):_.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(g*=this._bufferService.rows),g}_applyScrollModifier(_,g){const v=this._optionsService.rawOptions.fastScrollModifier;return v==="alt"&&g.altKey||v==="ctrl"&&g.ctrlKey||v==="shift"&&g.shiftKey?_*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:_*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(_){this._lastTouchY=_.touches[0].pageY}handleTouchMove(_){const g=this._lastTouchY-_.touches[0].pageY;return this._lastTouchY=_.touches[0].pageY,g!==0&&(this._viewportElement.scrollTop+=g,this._bubbleScroll(_,g))}};s.Viewport=u=c([a(2,D.IBufferService),a(3,D.IOptionsService),a(4,i.ICharSizeService),a(5,i.IRenderService),a(6,i.ICoreBrowserService),a(7,i.IThemeService)],u)},3107:function(p,s,l){var c=this&&this.__decorate||function(u,_,g,v){var y,b=arguments.length,E=b<3?_:v===null?v=Object.getOwnPropertyDescriptor(_,g):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(u,_,g,v);else for(var F=u.length-1;F>=0;F--)(y=u[F])&&(E=(b<3?y(E):b>3?y(_,g,E):y(_,g))||E);return b>3&&E&&Object.defineProperty(_,g,E),E},a=this&&this.__param||function(u,_){return function(g,v){_(g,v,u)}};Object.defineProperty(s,"__esModule",{value:!0}),s.BufferDecorationRenderer=void 0;const f=l(3656),i=l(4725),d=l(844),m=l(2585);let D=s.BufferDecorationRenderer=class extends d.Disposable{constructor(u,_,g,v){super(),this._screenElement=u,this._bufferService=_,this._decorationService=g,this._renderService=v,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,f.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(y=>this._removeDecoration(y))),this.register((0,d.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const u of this._decorationService.decorations)this._renderDecoration(u);this._dimensionsChanged=!1}_renderDecoration(u){this._refreshStyle(u),this._dimensionsChanged&&this._refreshXPosition(u)}_createElement(u){var _,g;const v=document.createElement("div");v.classList.add("xterm-decoration"),v.classList.toggle("xterm-decoration-top-layer",((_=u==null?void 0:u.options)===null||_===void 0?void 0:_.layer)==="top"),v.style.width=`${Math.round((u.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,v.style.height=(u.options.height||1)*this._renderService.dimensions.css.cell.height+"px",v.style.top=(u.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",v.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const y=(g=u.options.x)!==null&&g!==void 0?g:0;return y&&y>this._bufferService.cols&&(v.style.display="none"),this._refreshXPosition(u,v),v}_refreshStyle(u){const _=u.marker.line-this._bufferService.buffers.active.ydisp;if(_<0||_>=this._bufferService.rows)u.element&&(u.element.style.display="none",u.onRenderEmitter.fire(u.element));else{let g=this._decorationElements.get(u);g||(g=this._createElement(u),u.element=g,this._decorationElements.set(u,g),this._container.appendChild(g),u.onDispose(()=>{this._decorationElements.delete(u),g.remove()})),g.style.top=_*this._renderService.dimensions.css.cell.height+"px",g.style.display=this._altBufferIsActive?"none":"block",u.onRenderEmitter.fire(g)}}_refreshXPosition(u,_=u.element){var g;if(!_)return;const v=(g=u.options.x)!==null&&g!==void 0?g:0;(u.options.anchor||"left")==="right"?_.style.right=v?v*this._renderService.dimensions.css.cell.width+"px":"":_.style.left=v?v*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(u){var _;(_=this._decorationElements.get(u))===null||_===void 0||_.remove(),this._decorationElements.delete(u),u.dispose()}};s.BufferDecorationRenderer=D=c([a(1,m.IBufferService),a(2,m.IDecorationService),a(3,i.IRenderService)],D)},5871:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ColorZoneStore=void 0,s.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(l){if(l.options.overviewRulerOptions){for(const c of this._zones)if(c.color===l.options.overviewRulerOptions.color&&c.position===l.options.overviewRulerOptions.position){if(this._lineIntersectsZone(c,l.marker.line))return;if(this._lineAdjacentToZone(c,l.marker.line,l.options.overviewRulerOptions.position))return void this._addLineToZone(c,l.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=l.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=l.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=l.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=l.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:l.options.overviewRulerOptions.color,position:l.options.overviewRulerOptions.position,startBufferLine:l.marker.line,endBufferLine:l.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(l){this._linePadding=l}_lineIntersectsZone(l,c){return c>=l.startBufferLine&&c<=l.endBufferLine}_lineAdjacentToZone(l,c,a){return c>=l.startBufferLine-this._linePadding[a||"full"]&&c<=l.endBufferLine+this._linePadding[a||"full"]}_addLineToZone(l,c){l.startBufferLine=Math.min(l.startBufferLine,c),l.endBufferLine=Math.max(l.endBufferLine,c)}}},5744:function(p,s,l){var c=this&&this.__decorate||function(y,b,E,F){var C,A=arguments.length,L=A<3?b:F===null?F=Object.getOwnPropertyDescriptor(b,E):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(y,b,E,F);else for(var T=y.length-1;T>=0;T--)(C=y[T])&&(L=(A<3?C(L):A>3?C(b,E,L):C(b,E))||L);return A>3&&L&&Object.defineProperty(b,E,L),L},a=this&&this.__param||function(y,b){return function(E,F){b(E,F,y)}};Object.defineProperty(s,"__esModule",{value:!0}),s.OverviewRulerRenderer=void 0;const f=l(5871),i=l(3656),d=l(4725),m=l(844),D=l(2585),u={full:0,left:0,center:0,right:0},_={full:0,left:0,center:0,right:0},g={full:0,left:0,center:0,right:0};let v=s.OverviewRulerRenderer=class extends m.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(y,b,E,F,C,A,L){var T;super(),this._viewportElement=y,this._screenElement=b,this._bufferService=E,this._decorationService=F,this._renderService=C,this._optionsService=A,this._coreBrowseService=L,this._colorZoneStore=new f.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(T=this._viewportElement.parentElement)===null||T===void 0||T.insertBefore(this._canvas,this._viewportElement);const O=this._canvas.getContext("2d");if(!O)throw new Error("Ctx cannot be null");this._ctx=O,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,m.toDisposable)(()=>{var H;(H=this._canvas)===null||H===void 0||H.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,i.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const y=Math.floor(this._canvas.width/3),b=Math.ceil(this._canvas.width/3);_.full=this._canvas.width,_.left=y,_.center=b,_.right=y,this._refreshDrawHeightConstants(),g.full=0,g.left=0,g.center=_.left,g.right=_.left+_.center}_refreshDrawHeightConstants(){u.full=Math.round(2*this._coreBrowseService.dpr);const y=this._canvas.height/this._bufferService.buffer.lines.length,b=Math.round(Math.max(Math.min(y,12),6)*this._coreBrowseService.dpr);u.left=b,u.center=b,u.right=b}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*u.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*u.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*u.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*u.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const b of this._decorationService.decorations)this._colorZoneStore.addDecoration(b);this._ctx.lineWidth=1;const y=this._colorZoneStore.zones;for(const b of y)b.position!=="full"&&this._renderColorZone(b);for(const b of y)b.position==="full"&&this._renderColorZone(b);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(y){this._ctx.fillStyle=y.color,this._ctx.fillRect(g[y.position||"full"],Math.round((this._canvas.height-1)*(y.startBufferLine/this._bufferService.buffers.active.lines.length)-u[y.position||"full"]/2),_[y.position||"full"],Math.round((this._canvas.height-1)*((y.endBufferLine-y.startBufferLine)/this._bufferService.buffers.active.lines.length)+u[y.position||"full"]))}_queueRefresh(y,b){this._shouldUpdateDimensions=y||this._shouldUpdateDimensions,this._shouldUpdateAnchor=b||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};s.OverviewRulerRenderer=v=c([a(2,D.IBufferService),a(3,D.IDecorationService),a(4,d.IRenderService),a(5,D.IOptionsService),a(6,d.ICoreBrowserService)],v)},2950:function(p,s,l){var c=this&&this.__decorate||function(D,u,_,g){var v,y=arguments.length,b=y<3?u:g===null?g=Object.getOwnPropertyDescriptor(u,_):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(D,u,_,g);else for(var E=D.length-1;E>=0;E--)(v=D[E])&&(b=(y<3?v(b):y>3?v(u,_,b):v(u,_))||b);return y>3&&b&&Object.defineProperty(u,_,b),b},a=this&&this.__param||function(D,u){return function(_,g){u(_,g,D)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CompositionHelper=void 0;const f=l(4725),i=l(2585),d=l(2584);let m=s.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(D,u,_,g,v,y){this._textarea=D,this._compositionView=u,this._bufferService=_,this._optionsService=g,this._coreService=v,this._renderService=y,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(D){this._compositionView.textContent=D.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(D){if(this._isComposing||this._isSendingComposition){if(D.keyCode===229||D.keyCode===16||D.keyCode===17||D.keyCode===18)return!1;this._finalizeComposition(!1)}return D.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(D){if(this._compositionView.classList.remove("active"),this._isComposing=!1,D){const u={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let _;this._isSendingComposition=!1,u.start+=this._dataAlreadySent.length,_=this._isComposing?this._textarea.value.substring(u.start,u.end):this._textarea.value.substring(u.start),_.length>0&&this._coreService.triggerDataEvent(_,!0)}},0)}else{this._isSendingComposition=!1;const u=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(u,!0)}}_handleAnyTextareaChanges(){const D=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const u=this._textarea.value,_=u.replace(D,"");this._dataAlreadySent=_,u.length>D.length?this._coreService.triggerDataEvent(_,!0):u.length<D.length?this._coreService.triggerDataEvent(`${d.C0.DEL}`,!0):u.length===D.length&&u!==D&&this._coreService.triggerDataEvent(u,!0)}},0)}updateCompositionElements(D){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const u=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),_=this._renderService.dimensions.css.cell.height,g=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,v=u*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=v+"px",this._compositionView.style.top=g+"px",this._compositionView.style.height=_+"px",this._compositionView.style.lineHeight=_+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const y=this._compositionView.getBoundingClientRect();this._textarea.style.left=v+"px",this._textarea.style.top=g+"px",this._textarea.style.width=Math.max(y.width,1)+"px",this._textarea.style.height=Math.max(y.height,1)+"px",this._textarea.style.lineHeight=y.height+"px"}D||setTimeout(()=>this.updateCompositionElements(!0),0)}}};s.CompositionHelper=m=c([a(2,i.IBufferService),a(3,i.IOptionsService),a(4,i.ICoreService),a(5,f.IRenderService)],m)},9806:(p,s)=>{function l(c,a,f){const i=f.getBoundingClientRect(),d=c.getComputedStyle(f),m=parseInt(d.getPropertyValue("padding-left")),D=parseInt(d.getPropertyValue("padding-top"));return[a.clientX-i.left-m,a.clientY-i.top-D]}Object.defineProperty(s,"__esModule",{value:!0}),s.getCoords=s.getCoordsRelativeToElement=void 0,s.getCoordsRelativeToElement=l,s.getCoords=function(c,a,f,i,d,m,D,u,_){if(!m)return;const g=l(c,a,f);return g?(g[0]=Math.ceil((g[0]+(_?D/2:0))/D),g[1]=Math.ceil(g[1]/u),g[0]=Math.min(Math.max(g[0],1),i+(_?1:0)),g[1]=Math.min(Math.max(g[1],1),d),g):void 0}},9504:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.moveToCellSequence=void 0;const c=l(2584);function a(u,_,g,v){const y=u-f(u,g),b=_-f(_,g),E=Math.abs(y-b)-function(F,C,A){let L=0;const T=F-f(F,A),O=C-f(C,A);for(let H=0;H<Math.abs(T-O);H++){const Y=i(F,C)==="A"?-1:1,Z=A.buffer.lines.get(T+Y*H);Z!=null&&Z.isWrapped&&L++}return L}(u,_,g);return D(E,m(i(u,_),v))}function f(u,_){let g=0,v=_.buffer.lines.get(u),y=v==null?void 0:v.isWrapped;for(;y&&u>=0&&u<_.rows;)g++,v=_.buffer.lines.get(--u),y=v==null?void 0:v.isWrapped;return g}function i(u,_){return u>_?"A":"B"}function d(u,_,g,v,y,b){let E=u,F=_,C="";for(;E!==g||F!==v;)E+=y?1:-1,y&&E>b.cols-1?(C+=b.buffer.translateBufferLineToString(F,!1,u,E),E=0,u=0,F++):!y&&E<0&&(C+=b.buffer.translateBufferLineToString(F,!1,0,u+1),E=b.cols-1,u=E,F--);return C+b.buffer.translateBufferLineToString(F,!1,u,E)}function m(u,_){const g=_?"O":"[";return c.C0.ESC+g+u}function D(u,_){u=Math.floor(u);let g="";for(let v=0;v<u;v++)g+=_;return g}s.moveToCellSequence=function(u,_,g,v){const y=g.buffer.x,b=g.buffer.y;if(!g.buffer.hasScrollback)return function(C,A,L,T,O,H){return a(A,T,O,H).length===0?"":D(d(C,A,C,A-f(A,O),!1,O).length,m("D",H))}(y,b,0,_,g,v)+a(b,_,g,v)+function(C,A,L,T,O,H){let Y;Y=a(A,T,O,H).length>0?T-f(T,O):A;const Z=T,te=function(ee,k,R,P,q,I){let G;return G=a(R,P,q,I).length>0?P-f(P,q):k,ee<R&&G<=P||ee>=R&&G<P?"C":"D"}(C,A,L,T,O,H);return D(d(C,Y,L,Z,te==="C",O).length,m(te,H))}(y,b,u,_,g,v);let E;if(b===_)return E=y>u?"D":"C",D(Math.abs(y-u),m(E,v));E=b>_?"D":"C";const F=Math.abs(b-_);return D(function(C,A){return A.cols-C}(b>_?u:y,g)+(F-1)*g.cols+1+((b>_?y:u)-1),m(E,v))}},1296:function(p,s,l){var c=this&&this.__decorate||function(O,H,Y,Z){var te,ee=arguments.length,k=ee<3?H:Z===null?Z=Object.getOwnPropertyDescriptor(H,Y):Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(O,H,Y,Z);else for(var R=O.length-1;R>=0;R--)(te=O[R])&&(k=(ee<3?te(k):ee>3?te(H,Y,k):te(H,Y))||k);return ee>3&&k&&Object.defineProperty(H,Y,k),k},a=this&&this.__param||function(O,H){return function(Y,Z){H(Y,Z,O)}};Object.defineProperty(s,"__esModule",{value:!0}),s.DomRenderer=void 0;const f=l(3787),i=l(2550),d=l(2223),m=l(6171),D=l(4725),u=l(8055),_=l(8460),g=l(844),v=l(2585),y="xterm-dom-renderer-owner-",b="xterm-rows",E="xterm-fg-",F="xterm-bg-",C="xterm-focus",A="xterm-selection";let L=1,T=s.DomRenderer=class extends g.Disposable{constructor(O,H,Y,Z,te,ee,k,R,P,q){super(),this._element=O,this._screenElement=H,this._viewportElement=Y,this._linkifier2=Z,this._charSizeService=ee,this._optionsService=k,this._bufferService=R,this._coreBrowserService=P,this._themeService=q,this._terminalClass=L++,this._rowElements=[],this.onRequestRedraw=this.register(new _.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(b),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(A),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,m.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(I=>this._injectCss(I))),this._injectCss(this._themeService.colors),this._rowFactory=te.createInstance(f.DomRendererRowFactory,document),this._element.classList.add(y+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(I=>this._handleLinkHover(I))),this.register(this._linkifier2.onHideLinkUnderline(I=>this._handleLinkLeave(I))),this.register((0,g.toDisposable)(()=>{this._element.classList.remove(y+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new i.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const O=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*O,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*O),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/O),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/O),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const Y of this._rowElements)Y.style.width=`${this.dimensions.css.canvas.width}px`,Y.style.height=`${this.dimensions.css.cell.height}px`,Y.style.lineHeight=`${this.dimensions.css.cell.height}px`,Y.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const H=`${this._terminalSelector} .${b} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=H,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(O){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let H=`${this._terminalSelector} .${b} { color: ${O.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;H+=`${this._terminalSelector} .${b} .xterm-dim { color: ${u.color.multiplyOpacity(O.foreground,.5).css};}`,H+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,H+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",H+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${O.cursor.css};  color: ${O.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${O.cursor.css}; }}`,H+=`${this._terminalSelector} .${b}.${C} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${b}.${C} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${b} .xterm-cursor.xterm-cursor-block { background-color: ${O.cursor.css}; color: ${O.cursorAccent.css};}${this._terminalSelector} .${b} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${O.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${b} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${O.cursor.css} inset;}${this._terminalSelector} .${b} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${O.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,H+=`${this._terminalSelector} .${A} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${A} div { position: absolute; background-color: ${O.selectionBackgroundOpaque.css};}${this._terminalSelector} .${A} div { position: absolute; background-color: ${O.selectionInactiveBackgroundOpaque.css};}`;for(const[Y,Z]of O.ansi.entries())H+=`${this._terminalSelector} .${E}${Y} { color: ${Z.css}; }${this._terminalSelector} .${E}${Y}.xterm-dim { color: ${u.color.multiplyOpacity(Z,.5).css}; }${this._terminalSelector} .${F}${Y} { background-color: ${Z.css}; }`;H+=`${this._terminalSelector} .${E}${d.INVERTED_DEFAULT_COLOR} { color: ${u.color.opaque(O.background).css}; }${this._terminalSelector} .${E}${d.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${u.color.multiplyOpacity(u.color.opaque(O.background),.5).css}; }${this._terminalSelector} .${F}${d.INVERTED_DEFAULT_COLOR} { background-color: ${O.foreground.css}; }`,this._themeStyleElement.textContent=H}_setDefaultSpacing(){const O=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${O}px`,this._rowFactory.defaultSpacing=O}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(O,H){for(let Y=this._rowElements.length;Y<=H;Y++){const Z=document.createElement("div");this._rowContainer.appendChild(Z),this._rowElements.push(Z)}for(;this._rowElements.length>H;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(O,H){this._refreshRowElements(O,H),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(C)}handleFocus(){this._rowContainer.classList.add(C),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(O,H,Y){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(O,H,Y),this.renderRows(0,this._bufferService.rows-1),!O||!H)return;const Z=O[1]-this._bufferService.buffer.ydisp,te=H[1]-this._bufferService.buffer.ydisp,ee=Math.max(Z,0),k=Math.min(te,this._bufferService.rows-1);if(ee>=this._bufferService.rows||k<0)return;const R=document.createDocumentFragment();if(Y){const P=O[0]>H[0];R.appendChild(this._createSelectionElement(ee,P?H[0]:O[0],P?O[0]:H[0],k-ee+1))}else{const P=Z===ee?O[0]:0,q=ee===te?H[0]:this._bufferService.cols;R.appendChild(this._createSelectionElement(ee,P,q));const I=k-ee-1;if(R.appendChild(this._createSelectionElement(ee+1,0,this._bufferService.cols,I)),ee!==k){const G=te===k?H[0]:this._bufferService.cols;R.appendChild(this._createSelectionElement(k,0,G))}}this._selectionContainer.appendChild(R)}_createSelectionElement(O,H,Y,Z=1){const te=document.createElement("div");return te.style.height=Z*this.dimensions.css.cell.height+"px",te.style.top=O*this.dimensions.css.cell.height+"px",te.style.left=H*this.dimensions.css.cell.width+"px",te.style.width=this.dimensions.css.cell.width*(Y-H)+"px",te}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const O of this._rowElements)O.replaceChildren()}renderRows(O,H){const Y=this._bufferService.buffer,Z=Y.ybase+Y.y,te=Math.min(Y.x,this._bufferService.cols-1),ee=this._optionsService.rawOptions.cursorBlink,k=this._optionsService.rawOptions.cursorStyle,R=this._optionsService.rawOptions.cursorInactiveStyle;for(let P=O;P<=H;P++){const q=P+Y.ydisp,I=this._rowElements[P],G=Y.lines.get(q);if(!I||!G)break;I.replaceChildren(...this._rowFactory.createRow(G,q,q===Z,k,R,te,ee,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${y}${this._terminalClass}`}_handleLinkHover(O){this._setCellUnderline(O.x1,O.x2,O.y1,O.y2,O.cols,!0)}_handleLinkLeave(O){this._setCellUnderline(O.x1,O.x2,O.y1,O.y2,O.cols,!1)}_setCellUnderline(O,H,Y,Z,te,ee){Y<0&&(O=0),Z<0&&(H=0);const k=this._bufferService.rows-1;Y=Math.max(Math.min(Y,k),0),Z=Math.max(Math.min(Z,k),0),te=Math.min(te,this._bufferService.cols);const R=this._bufferService.buffer,P=R.ybase+R.y,q=Math.min(R.x,te-1),I=this._optionsService.rawOptions.cursorBlink,G=this._optionsService.rawOptions.cursorStyle,M=this._optionsService.rawOptions.cursorInactiveStyle;for(let $=Y;$<=Z;++$){const z=$+R.ydisp,x=this._rowElements[$],j=R.lines.get(z);if(!x||!j)break;x.replaceChildren(...this._rowFactory.createRow(j,z,z===P,G,M,q,I,this.dimensions.css.cell.width,this._widthCache,ee?$===Y?O:0:-1,ee?($===Z?H:te)-1:-1))}}};s.DomRenderer=T=c([a(4,v.IInstantiationService),a(5,D.ICharSizeService),a(6,v.IOptionsService),a(7,v.IBufferService),a(8,D.ICoreBrowserService),a(9,D.IThemeService)],T)},3787:function(p,s,l){var c=this&&this.__decorate||function(E,F,C,A){var L,T=arguments.length,O=T<3?F:A===null?A=Object.getOwnPropertyDescriptor(F,C):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")O=Reflect.decorate(E,F,C,A);else for(var H=E.length-1;H>=0;H--)(L=E[H])&&(O=(T<3?L(O):T>3?L(F,C,O):L(F,C))||O);return T>3&&O&&Object.defineProperty(F,C,O),O},a=this&&this.__param||function(E,F){return function(C,A){F(C,A,E)}};Object.defineProperty(s,"__esModule",{value:!0}),s.DomRendererRowFactory=void 0;const f=l(2223),i=l(643),d=l(511),m=l(2585),D=l(8055),u=l(4725),_=l(4269),g=l(6171),v=l(3734);let y=s.DomRendererRowFactory=class{constructor(E,F,C,A,L,T,O){this._document=E,this._characterJoinerService=F,this._optionsService=C,this._coreBrowserService=A,this._coreService=L,this._decorationService=T,this._themeService=O,this._workCell=new d.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(E,F,C){this._selectionStart=E,this._selectionEnd=F,this._columnSelectMode=C}createRow(E,F,C,A,L,T,O,H,Y,Z,te){const ee=[],k=this._characterJoinerService.getJoinedCharacters(F),R=this._themeService.colors;let P,q=E.getNoBgTrimmedLength();C&&q<T+1&&(q=T+1);let I=0,G="",M=0,$=0,z=0,x=!1,j=0,U=!1,V=0;const re=[],se=Z!==-1&&te!==-1;for(let he=0;he<q;he++){E.loadCell(he,this._workCell);let me=this._workCell.getWidth();if(me===0)continue;let Se=!1,Pe=he,ge=this._workCell;if(k.length>0&&he===k[0][0]){Se=!0;const w=k.shift();ge=new _.JoinedCellData(this._workCell,E.translateToString(!0,w[0],w[1]),w[1]-w[0]),Pe=w[1]-1,me=ge.getWidth()}const Me=this._isCellInSelection(he,F),ne=C&&he===T,st=se&&he>=Z&&he<=te;let Ke=!1;this._decorationService.forEachDecorationAtCell(he,F,void 0,w=>{Ke=!0});let nt=ge.getChars()||i.WHITESPACE_CELL_CHAR;if(nt===" "&&(ge.isUnderline()||ge.isOverline())&&(nt="Â "),V=me*H-Y.get(nt,ge.isBold(),ge.isItalic()),P){if(I&&(Me&&U||!Me&&!U&&ge.bg===M)&&(Me&&U&&R.selectionForeground||ge.fg===$)&&ge.extended.ext===z&&st===x&&V===j&&!ne&&!Se&&!Ke){G+=nt,I++;continue}I&&(P.textContent=G),P=this._document.createElement("span"),I=0,G=""}else P=this._document.createElement("span");if(M=ge.bg,$=ge.fg,z=ge.extended.ext,x=st,j=V,U=Me,Se&&T>=he&&T<=Pe&&(T=he),!this._coreService.isCursorHidden&&ne){if(re.push("xterm-cursor"),this._coreBrowserService.isFocused)O&&re.push("xterm-cursor-blink"),re.push(A==="bar"?"xterm-cursor-bar":A==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(L)switch(L){case"outline":re.push("xterm-cursor-outline");break;case"block":re.push("xterm-cursor-block");break;case"bar":re.push("xterm-cursor-bar");break;case"underline":re.push("xterm-cursor-underline")}}if(ge.isBold()&&re.push("xterm-bold"),ge.isItalic()&&re.push("xterm-italic"),ge.isDim()&&re.push("xterm-dim"),G=ge.isInvisible()?i.WHITESPACE_CELL_CHAR:ge.getChars()||i.WHITESPACE_CELL_CHAR,ge.isUnderline()&&(re.push(`xterm-underline-${ge.extended.underlineStyle}`),G===" "&&(G="Â "),!ge.isUnderlineColorDefault()))if(ge.isUnderlineColorRGB())P.style.textDecorationColor=`rgb(${v.AttributeData.toColorRGB(ge.getUnderlineColor()).join(",")})`;else{let w=ge.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&ge.isBold()&&w<8&&(w+=8),P.style.textDecorationColor=R.ansi[w].css}ge.isOverline()&&(re.push("xterm-overline"),G===" "&&(G="Â ")),ge.isStrikethrough()&&re.push("xterm-strikethrough"),st&&(P.style.textDecoration="underline");let Le=ge.getFgColor(),J=ge.getFgColorMode(),X=ge.getBgColor(),ae=ge.getBgColorMode();const fe=!!ge.isInverse();if(fe){const w=Le;Le=X,X=w;const W=J;J=ae,ae=W}let le,De,B,S=!1;switch(this._decorationService.forEachDecorationAtCell(he,F,void 0,w=>{w.options.layer!=="top"&&S||(w.backgroundColorRGB&&(ae=50331648,X=w.backgroundColorRGB.rgba>>8&16777215,le=w.backgroundColorRGB),w.foregroundColorRGB&&(J=50331648,Le=w.foregroundColorRGB.rgba>>8&16777215,De=w.foregroundColorRGB),S=w.options.layer==="top")}),!S&&Me&&(le=this._coreBrowserService.isFocused?R.selectionBackgroundOpaque:R.selectionInactiveBackgroundOpaque,X=le.rgba>>8&16777215,ae=50331648,S=!0,R.selectionForeground&&(J=50331648,Le=R.selectionForeground.rgba>>8&16777215,De=R.selectionForeground)),S&&re.push("xterm-decoration-top"),ae){case 16777216:case 33554432:B=R.ansi[X],re.push(`xterm-bg-${X}`);break;case 50331648:B=D.rgba.toColor(X>>16,X>>8&255,255&X),this._addStyle(P,`background-color:#${b((X>>>0).toString(16),"0",6)}`);break;default:fe?(B=R.foreground,re.push(`xterm-bg-${f.INVERTED_DEFAULT_COLOR}`)):B=R.background}switch(le||ge.isDim()&&(le=D.color.multiplyOpacity(B,.5)),J){case 16777216:case 33554432:ge.isBold()&&Le<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(Le+=8),this._applyMinimumContrast(P,B,R.ansi[Le],ge,le,void 0)||re.push(`xterm-fg-${Le}`);break;case 50331648:const w=D.rgba.toColor(Le>>16&255,Le>>8&255,255&Le);this._applyMinimumContrast(P,B,w,ge,le,De)||this._addStyle(P,`color:#${b(Le.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(P,B,R.foreground,ge,le,void 0)||fe&&re.push(`xterm-fg-${f.INVERTED_DEFAULT_COLOR}`)}re.length&&(P.className=re.join(" "),re.length=0),ne||Se||Ke?P.textContent=G:I++,V!==this.defaultSpacing&&(P.style.letterSpacing=`${V}px`),ee.push(P),he=Pe}return P&&I&&(P.textContent=G),ee}_applyMinimumContrast(E,F,C,A,L,T){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,g.excludeFromContrastRatioDemands)(A.getCode()))return!1;const O=this._getContrastCache(A);let H;if(L||T||(H=O.getColor(F.rgba,C.rgba)),H===void 0){const Y=this._optionsService.rawOptions.minimumContrastRatio/(A.isDim()?2:1);H=D.color.ensureContrastRatio(L||F,T||C,Y),O.setColor((L||F).rgba,(T||C).rgba,H??null)}return!!H&&(this._addStyle(E,`color:${H.css}`),!0)}_getContrastCache(E){return E.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(E,F){E.setAttribute("style",`${E.getAttribute("style")||""}${F};`)}_isCellInSelection(E,F){const C=this._selectionStart,A=this._selectionEnd;return!(!C||!A)&&(this._columnSelectMode?C[0]<=A[0]?E>=C[0]&&F>=C[1]&&E<A[0]&&F<=A[1]:E<C[0]&&F>=C[1]&&E>=A[0]&&F<=A[1]:F>C[1]&&F<A[1]||C[1]===A[1]&&F===C[1]&&E>=C[0]&&E<A[0]||C[1]<A[1]&&F===A[1]&&E<A[0]||C[1]<A[1]&&F===C[1]&&E>=C[0])}};function b(E,F,C){for(;E.length<C;)E=F+E;return E}s.DomRendererRowFactory=y=c([a(1,u.ICharacterJoinerService),a(2,m.IOptionsService),a(3,u.ICoreBrowserService),a(4,m.ICoreService),a(5,m.IDecorationService),a(6,u.IThemeService)],y)},2550:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WidthCache=void 0,s.WidthCache=class{constructor(l){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=l.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const c=l.createElement("span"),a=l.createElement("span");a.style.fontWeight="bold";const f=l.createElement("span");f.style.fontStyle="italic";const i=l.createElement("span");i.style.fontWeight="bold",i.style.fontStyle="italic",this._measureElements=[c,a,f,i],this._container.appendChild(c),this._container.appendChild(a),this._container.appendChild(f),this._container.appendChild(i),l.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(l,c,a,f){l===this._font&&c===this._fontSize&&a===this._weight&&f===this._weightBold||(this._font=l,this._fontSize=c,this._weight=a,this._weightBold=f,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${a}`,this._measureElements[1].style.fontWeight=`${f}`,this._measureElements[2].style.fontWeight=`${a}`,this._measureElements[3].style.fontWeight=`${f}`,this.clear())}get(l,c,a){let f=0;if(!c&&!a&&l.length===1&&(f=l.charCodeAt(0))<256)return this._flat[f]!==-9999?this._flat[f]:this._flat[f]=this._measure(l,0);let i=l;c&&(i+="B"),a&&(i+="I");let d=this._holey.get(i);if(d===void 0){let m=0;c&&(m|=1),a&&(m|=2),d=this._measure(l,m),this._holey.set(i,d)}return d}_measure(l,c){const a=this._measureElements[c];return a.textContent=l.repeat(32),a.offsetWidth/32}}},2223:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.TEXT_BASELINE=s.DIM_OPACITY=s.INVERTED_DEFAULT_COLOR=void 0;const c=l(6114);s.INVERTED_DEFAULT_COLOR=257,s.DIM_OPACITY=.5,s.TEXT_BASELINE=c.isFirefox||c.isLegacyEdge?"bottom":"ideographic"},6171:(p,s)=>{function l(c){return 57508<=c&&c<=57558}Object.defineProperty(s,"__esModule",{value:!0}),s.createRenderDimensions=s.excludeFromContrastRatioDemands=s.isRestrictedPowerlineGlyph=s.isPowerlineGlyph=s.throwIfFalsy=void 0,s.throwIfFalsy=function(c){if(!c)throw new Error("value must not be falsy");return c},s.isPowerlineGlyph=l,s.isRestrictedPowerlineGlyph=function(c){return 57520<=c&&c<=57527},s.excludeFromContrastRatioDemands=function(c){return l(c)||function(a){return 9472<=a&&a<=9631}(c)},s.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SelectionModel=void 0,s.SelectionModel=class{constructor(l){this._bufferService=l,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?l%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)-1]:[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[l,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[Math.max(l,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const l=this.selectionStart,c=this.selectionEnd;return!(!l||!c)&&(l[1]>c[1]||l[1]===c[1]&&l[0]>c[0])}handleTrim(l){return this.selectionStart&&(this.selectionStart[1]-=l),this.selectionEnd&&(this.selectionEnd[1]-=l),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(p,s,l){var c=this&&this.__decorate||function(u,_,g,v){var y,b=arguments.length,E=b<3?_:v===null?v=Object.getOwnPropertyDescriptor(_,g):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(u,_,g,v);else for(var F=u.length-1;F>=0;F--)(y=u[F])&&(E=(b<3?y(E):b>3?y(_,g,E):y(_,g))||E);return b>3&&E&&Object.defineProperty(_,g,E),E},a=this&&this.__param||function(u,_){return function(g,v){_(g,v,u)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CharSizeService=void 0;const f=l(2585),i=l(8460),d=l(844);let m=s.CharSizeService=class extends d.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(u,_,g){super(),this._optionsService=g,this.width=0,this.height=0,this._onCharSizeChange=this.register(new i.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new D(u,_,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const u=this._measureStrategy.measure();u.width===this.width&&u.height===this.height||(this.width=u.width,this.height=u.height,this._onCharSizeChange.fire())}};s.CharSizeService=m=c([a(2,f.IOptionsService)],m);class D{constructor(_,g,v){this._document=_,this._parentElement=g,this._optionsService=v,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const _={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return _.width!==0&&_.height!==0&&(this._result.width=_.width/32,this._result.height=Math.ceil(_.height)),this._result}}},4269:function(p,s,l){var c=this&&this.__decorate||function(_,g,v,y){var b,E=arguments.length,F=E<3?g:y===null?y=Object.getOwnPropertyDescriptor(g,v):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(_,g,v,y);else for(var C=_.length-1;C>=0;C--)(b=_[C])&&(F=(E<3?b(F):E>3?b(g,v,F):b(g,v))||F);return E>3&&F&&Object.defineProperty(g,v,F),F},a=this&&this.__param||function(_,g){return function(v,y){g(v,y,_)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CharacterJoinerService=s.JoinedCellData=void 0;const f=l(3734),i=l(643),d=l(511),m=l(2585);class D extends f.AttributeData{constructor(g,v,y){super(),this.content=0,this.combinedData="",this.fg=g.fg,this.bg=g.bg,this.combinedData=v,this._width=y}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(g){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}s.JoinedCellData=D;let u=s.CharacterJoinerService=class yd{constructor(g){this._bufferService=g,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new d.CellData}register(g){const v={id:this._nextCharacterJoinerId++,handler:g};return this._characterJoiners.push(v),v.id}deregister(g){for(let v=0;v<this._characterJoiners.length;v++)if(this._characterJoiners[v].id===g)return this._characterJoiners.splice(v,1),!0;return!1}getJoinedCharacters(g){if(this._characterJoiners.length===0)return[];const v=this._bufferService.buffer.lines.get(g);if(!v||v.length===0)return[];const y=[],b=v.translateToString(!0);let E=0,F=0,C=0,A=v.getFg(0),L=v.getBg(0);for(let T=0;T<v.getTrimmedLength();T++)if(v.loadCell(T,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==A||this._workCell.bg!==L){if(T-E>1){const O=this._getJoinedRanges(b,C,F,v,E);for(let H=0;H<O.length;H++)y.push(O[H])}E=T,C=F,A=this._workCell.fg,L=this._workCell.bg}F+=this._workCell.getChars().length||i.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-E>1){const T=this._getJoinedRanges(b,C,F,v,E);for(let O=0;O<T.length;O++)y.push(T[O])}return y}_getJoinedRanges(g,v,y,b,E){const F=g.substring(v,y);let C=[];try{C=this._characterJoiners[0].handler(F)}catch(A){console.error(A)}for(let A=1;A<this._characterJoiners.length;A++)try{const L=this._characterJoiners[A].handler(F);for(let T=0;T<L.length;T++)yd._mergeRanges(C,L[T])}catch(L){console.error(L)}return this._stringRangesToCellRanges(C,b,E),C}_stringRangesToCellRanges(g,v,y){let b=0,E=!1,F=0,C=g[b];if(C){for(let A=y;A<this._bufferService.cols;A++){const L=v.getWidth(A),T=v.getString(A).length||i.WHITESPACE_CELL_CHAR.length;if(L!==0){if(!E&&C[0]<=F&&(C[0]=A,E=!0),C[1]<=F){if(C[1]=A,C=g[++b],!C)break;C[0]<=F?(C[0]=A,E=!0):E=!1}F+=T}}C&&(C[1]=this._bufferService.cols)}}static _mergeRanges(g,v){let y=!1;for(let b=0;b<g.length;b++){const E=g[b];if(y){if(v[1]<=E[0])return g[b-1][1]=v[1],g;if(v[1]<=E[1])return g[b-1][1]=Math.max(v[1],E[1]),g.splice(b,1),g;g.splice(b,1),b--}else{if(v[1]<=E[0])return g.splice(b,0,v),g;if(v[1]<=E[1])return E[0]=Math.min(v[0],E[0]),g;v[0]<E[1]&&(E[0]=Math.min(v[0],E[0]),y=!0)}}return y?g[g.length-1][1]=v[1]:g.push(v),g}};s.CharacterJoinerService=u=c([a(0,m.IBufferService)],u)},5114:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CoreBrowserService=void 0,s.CoreBrowserService=class{constructor(l,c){this._textarea=l,this.window=c,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(p,s,l){var c=this&&this.__decorate||function(m,D,u,_){var g,v=arguments.length,y=v<3?D:_===null?_=Object.getOwnPropertyDescriptor(D,u):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")y=Reflect.decorate(m,D,u,_);else for(var b=m.length-1;b>=0;b--)(g=m[b])&&(y=(v<3?g(y):v>3?g(D,u,y):g(D,u))||y);return v>3&&y&&Object.defineProperty(D,u,y),y},a=this&&this.__param||function(m,D){return function(u,_){D(u,_,m)}};Object.defineProperty(s,"__esModule",{value:!0}),s.MouseService=void 0;const f=l(4725),i=l(9806);let d=s.MouseService=class{constructor(m,D){this._renderService=m,this._charSizeService=D}getCoords(m,D,u,_,g){return(0,i.getCoords)(window,m,D,u,_,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,g)}getMouseReportCoords(m,D){const u=(0,i.getCoordsRelativeToElement)(window,m,D);if(this._charSizeService.hasValidSize)return u[0]=Math.min(Math.max(u[0],0),this._renderService.dimensions.css.canvas.width-1),u[1]=Math.min(Math.max(u[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(u[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(u[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(u[0]),y:Math.floor(u[1])}}};s.MouseService=d=c([a(0,f.IRenderService),a(1,f.ICharSizeService)],d)},3230:function(p,s,l){var c=this&&this.__decorate||function(y,b,E,F){var C,A=arguments.length,L=A<3?b:F===null?F=Object.getOwnPropertyDescriptor(b,E):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(y,b,E,F);else for(var T=y.length-1;T>=0;T--)(C=y[T])&&(L=(A<3?C(L):A>3?C(b,E,L):C(b,E))||L);return A>3&&L&&Object.defineProperty(b,E,L),L},a=this&&this.__param||function(y,b){return function(E,F){b(E,F,y)}};Object.defineProperty(s,"__esModule",{value:!0}),s.RenderService=void 0;const f=l(3656),i=l(6193),d=l(5596),m=l(4725),D=l(8460),u=l(844),_=l(7226),g=l(2585);let v=s.RenderService=class extends u.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(y,b,E,F,C,A,L,T){if(super(),this._rowCount=y,this._charSizeService=F,this._renderer=this.register(new u.MutableDisposable),this._pausedResizeTask=new _.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new D.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new D.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new D.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new D.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new i.RenderDebouncer(L.window,(O,H)=>this._renderRows(O,H)),this.register(this._renderDebouncer),this._screenDprMonitor=new d.ScreenDprMonitor(L.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(A.onResize(()=>this._fullRefresh())),this.register(A.buffers.onBufferActivate(()=>{var O;return(O=this._renderer.value)===null||O===void 0?void 0:O.clear()})),this.register(E.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(C.onDecorationRegistered(()=>this._fullRefresh())),this.register(C.onDecorationRemoved(()=>this._fullRefresh())),this.register(E.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(A.cols,A.rows),this._fullRefresh()})),this.register(E.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(A.buffer.y,A.buffer.y,!0))),this.register((0,f.addDisposableDomListener)(L.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(T.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in L.window){const O=new L.window.IntersectionObserver(H=>this._handleIntersectionChange(H[H.length-1]),{threshold:0});O.observe(b),this.register({dispose:()=>O.disconnect()})}}_handleIntersectionChange(y){this._isPaused=y.isIntersecting===void 0?y.intersectionRatio===0:!y.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(y,b,E=!1){this._isPaused?this._needsFullRefresh=!0:(E||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(y,b,this._rowCount))}_renderRows(y,b){this._renderer.value&&(y=Math.min(y,this._rowCount-1),b=Math.min(b,this._rowCount-1),this._renderer.value.renderRows(y,b),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:y,end:b}),this._onRender.fire({start:y,end:b}),this._isNextRenderRedrawOnly=!0)}resize(y,b){this._rowCount=b,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(y){this._renderer.value=y,this._renderer.value.onRequestRedraw(b=>this.refreshRows(b.start,b.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(y){return this._renderDebouncer.addRefreshCallback(y)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var y,b;this._renderer.value&&((b=(y=this._renderer.value).clearTextureAtlas)===null||b===void 0||b.call(y),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(y,b){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(y,b)):this._renderer.value.handleResize(y,b),this._fullRefresh())}handleCharSizeChanged(){var y;(y=this._renderer.value)===null||y===void 0||y.handleCharSizeChanged()}handleBlur(){var y;(y=this._renderer.value)===null||y===void 0||y.handleBlur()}handleFocus(){var y;(y=this._renderer.value)===null||y===void 0||y.handleFocus()}handleSelectionChanged(y,b,E){var F;this._selectionState.start=y,this._selectionState.end=b,this._selectionState.columnSelectMode=E,(F=this._renderer.value)===null||F===void 0||F.handleSelectionChanged(y,b,E)}handleCursorMove(){var y;(y=this._renderer.value)===null||y===void 0||y.handleCursorMove()}clear(){var y;(y=this._renderer.value)===null||y===void 0||y.clear()}};s.RenderService=v=c([a(2,g.IOptionsService),a(3,m.ICharSizeService),a(4,g.IDecorationService),a(5,g.IBufferService),a(6,m.ICoreBrowserService),a(7,m.IThemeService)],v)},9312:function(p,s,l){var c=this&&this.__decorate||function(C,A,L,T){var O,H=arguments.length,Y=H<3?A:T===null?T=Object.getOwnPropertyDescriptor(A,L):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(C,A,L,T);else for(var Z=C.length-1;Z>=0;Z--)(O=C[Z])&&(Y=(H<3?O(Y):H>3?O(A,L,Y):O(A,L))||Y);return H>3&&Y&&Object.defineProperty(A,L,Y),Y},a=this&&this.__param||function(C,A){return function(L,T){A(L,T,C)}};Object.defineProperty(s,"__esModule",{value:!0}),s.SelectionService=void 0;const f=l(9806),i=l(9504),d=l(456),m=l(4725),D=l(8460),u=l(844),_=l(6114),g=l(4841),v=l(511),y=l(2585),b="Â ",E=new RegExp(b,"g");let F=s.SelectionService=class extends u.Disposable{constructor(C,A,L,T,O,H,Y,Z,te){super(),this._element=C,this._screenElement=A,this._linkifier=L,this._bufferService=T,this._coreService=O,this._mouseService=H,this._optionsService=Y,this._renderService=Z,this._coreBrowserService=te,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new v.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new D.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new D.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new D.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new D.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=ee=>this._handleMouseMove(ee),this._mouseUpListener=ee=>this._handleMouseUp(ee),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(ee=>this._handleTrim(ee)),this.register(this._bufferService.buffers.onBufferActivate(ee=>this._handleBufferActivate(ee))),this.enable(),this._model=new d.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,u.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const C=this._model.finalSelectionStart,A=this._model.finalSelectionEnd;return!(!C||!A||C[0]===A[0]&&C[1]===A[1])}get selectionText(){const C=this._model.finalSelectionStart,A=this._model.finalSelectionEnd;if(!C||!A)return"";const L=this._bufferService.buffer,T=[];if(this._activeSelectionMode===3){if(C[0]===A[0])return"";const O=C[0]<A[0]?C[0]:A[0],H=C[0]<A[0]?A[0]:C[0];for(let Y=C[1];Y<=A[1];Y++){const Z=L.translateBufferLineToString(Y,!0,O,H);T.push(Z)}}else{const O=C[1]===A[1]?A[0]:void 0;T.push(L.translateBufferLineToString(C[1],!0,C[0],O));for(let H=C[1]+1;H<=A[1]-1;H++){const Y=L.lines.get(H),Z=L.translateBufferLineToString(H,!0);Y!=null&&Y.isWrapped?T[T.length-1]+=Z:T.push(Z)}if(C[1]!==A[1]){const H=L.lines.get(A[1]),Y=L.translateBufferLineToString(A[1],!0,0,A[0]);H&&H.isWrapped?T[T.length-1]+=Y:T.push(Y)}}return T.map(O=>O.replace(E," ")).join(_.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(C){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),_.isLinux&&C&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(C){const A=this._getMouseBufferCoords(C),L=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;return!!(L&&T&&A)&&this._areCoordsInSelection(A,L,T)}isCellInSelection(C,A){const L=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;return!(!L||!T)&&this._areCoordsInSelection([C,A],L,T)}_areCoordsInSelection(C,A,L){return C[1]>A[1]&&C[1]<L[1]||A[1]===L[1]&&C[1]===A[1]&&C[0]>=A[0]&&C[0]<L[0]||A[1]<L[1]&&C[1]===L[1]&&C[0]<L[0]||A[1]<L[1]&&C[1]===A[1]&&C[0]>=A[0]}_selectWordAtCursor(C,A){var L,T;const O=(T=(L=this._linkifier.currentLink)===null||L===void 0?void 0:L.link)===null||T===void 0?void 0:T.range;if(O)return this._model.selectionStart=[O.start.x-1,O.start.y-1],this._model.selectionStartLength=(0,g.getRangeLength)(O,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const H=this._getMouseBufferCoords(C);return!!H&&(this._selectWordAt(H,A),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(C,A){this._model.clearSelection(),C=Math.max(C,0),A=Math.min(A,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,C],this._model.selectionEnd=[this._bufferService.cols,A],this.refresh(),this._onSelectionChange.fire()}_handleTrim(C){this._model.handleTrim(C)&&this.refresh()}_getMouseBufferCoords(C){const A=this._mouseService.getCoords(C,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(A)return A[0]--,A[1]--,A[1]+=this._bufferService.buffer.ydisp,A}_getMouseEventScrollAmount(C){let A=(0,f.getCoordsRelativeToElement)(this._coreBrowserService.window,C,this._screenElement)[1];const L=this._renderService.dimensions.css.canvas.height;return A>=0&&A<=L?0:(A>L&&(A-=L),A=Math.min(Math.max(A,-50),50),A/=50,A/Math.abs(A)+Math.round(14*A))}shouldForceSelection(C){return _.isMac?C.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:C.shiftKey}handleMouseDown(C){if(this._mouseDownTimeStamp=C.timeStamp,(C.button!==2||!this.hasSelection)&&C.button===0){if(!this._enabled){if(!this.shouldForceSelection(C))return;C.stopPropagation()}C.preventDefault(),this._dragScrollAmount=0,this._enabled&&C.shiftKey?this._handleIncrementalClick(C):C.detail===1?this._handleSingleClick(C):C.detail===2?this._handleDoubleClick(C):C.detail===3&&this._handleTripleClick(C),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(C){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(C))}_handleSingleClick(C){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(C)?3:0,this._model.selectionStart=this._getMouseBufferCoords(C),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const A=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);A&&A.length!==this._model.selectionStart[0]&&A.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(C){this._selectWordAtCursor(C,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(C){const A=this._getMouseBufferCoords(C);A&&(this._activeSelectionMode=2,this._selectLineAt(A[1]))}shouldColumnSelect(C){return C.altKey&&!(_.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(C){if(C.stopImmediatePropagation(),!this._model.selectionStart)return;const A=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(C),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(C),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const L=this._bufferService.buffer;if(this._model.selectionEnd[1]<L.lines.length){const T=L.lines.get(this._model.selectionEnd[1]);T&&T.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}A&&A[0]===this._model.selectionEnd[0]&&A[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const C=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(C.ydisp+this._bufferService.rows,C.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=C.ydisp),this.refresh()}}_handleMouseUp(C){const A=C.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&A<500&&C.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const L=this._mouseService.getCoords(C,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(L&&L[0]!==void 0&&L[1]!==void 0){const T=(0,i.moveToCellSequence)(L[0]-1,L[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(T,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const C=this._model.finalSelectionStart,A=this._model.finalSelectionEnd,L=!(!C||!A||C[0]===A[0]&&C[1]===A[1]);L?C&&A&&(this._oldSelectionStart&&this._oldSelectionEnd&&C[0]===this._oldSelectionStart[0]&&C[1]===this._oldSelectionStart[1]&&A[0]===this._oldSelectionEnd[0]&&A[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(C,A,L)):this._oldHasSelection&&this._fireOnSelectionChange(C,A,L)}_fireOnSelectionChange(C,A,L){this._oldSelectionStart=C,this._oldSelectionEnd=A,this._oldHasSelection=L,this._onSelectionChange.fire()}_handleBufferActivate(C){this.clearSelection(),this._trimListener.dispose(),this._trimListener=C.activeBuffer.lines.onTrim(A=>this._handleTrim(A))}_convertViewportColToCharacterIndex(C,A){let L=A;for(let T=0;A>=T;T++){const O=C.loadCell(T,this._workCell).getChars().length;this._workCell.getWidth()===0?L--:O>1&&A!==T&&(L+=O-1)}return L}setSelection(C,A,L){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[C,A],this._model.selectionStartLength=L,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(C){this._isClickInSelection(C)||(this._selectWordAtCursor(C,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(C,A,L=!0,T=!0){if(C[0]>=this._bufferService.cols)return;const O=this._bufferService.buffer,H=O.lines.get(C[1]);if(!H)return;const Y=O.translateBufferLineToString(C[1],!1);let Z=this._convertViewportColToCharacterIndex(H,C[0]),te=Z;const ee=C[0]-Z;let k=0,R=0,P=0,q=0;if(Y.charAt(Z)===" "){for(;Z>0&&Y.charAt(Z-1)===" ";)Z--;for(;te<Y.length&&Y.charAt(te+1)===" ";)te++}else{let M=C[0],$=C[0];H.getWidth(M)===0&&(k++,M--),H.getWidth($)===2&&(R++,$++);const z=H.getString($).length;for(z>1&&(q+=z-1,te+=z-1);M>0&&Z>0&&!this._isCharWordSeparator(H.loadCell(M-1,this._workCell));){H.loadCell(M-1,this._workCell);const x=this._workCell.getChars().length;this._workCell.getWidth()===0?(k++,M--):x>1&&(P+=x-1,Z-=x-1),Z--,M--}for(;$<H.length&&te+1<Y.length&&!this._isCharWordSeparator(H.loadCell($+1,this._workCell));){H.loadCell($+1,this._workCell);const x=this._workCell.getChars().length;this._workCell.getWidth()===2?(R++,$++):x>1&&(q+=x-1,te+=x-1),te++,$++}}te++;let I=Z+ee-k+P,G=Math.min(this._bufferService.cols,te-Z+k+R-P-q);if(A||Y.slice(Z,te).trim()!==""){if(L&&I===0&&H.getCodePoint(0)!==32){const M=O.lines.get(C[1]-1);if(M&&H.isWrapped&&M.getCodePoint(this._bufferService.cols-1)!==32){const $=this._getWordAt([this._bufferService.cols-1,C[1]-1],!1,!0,!1);if($){const z=this._bufferService.cols-$.start;I-=z,G+=z}}}if(T&&I+G===this._bufferService.cols&&H.getCodePoint(this._bufferService.cols-1)!==32){const M=O.lines.get(C[1]+1);if(M!=null&&M.isWrapped&&M.getCodePoint(0)!==32){const $=this._getWordAt([0,C[1]+1],!1,!1,!0);$&&(G+=$.length)}}return{start:I,length:G}}}_selectWordAt(C,A){const L=this._getWordAt(C,A);if(L){for(;L.start<0;)L.start+=this._bufferService.cols,C[1]--;this._model.selectionStart=[L.start,C[1]],this._model.selectionStartLength=L.length}}_selectToWordAt(C){const A=this._getWordAt(C,!0);if(A){let L=C[1];for(;A.start<0;)A.start+=this._bufferService.cols,L--;if(!this._model.areSelectionValuesReversed())for(;A.start+A.length>this._bufferService.cols;)A.length-=this._bufferService.cols,L++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?A.start:A.start+A.length,L]}}_isCharWordSeparator(C){return C.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(C.getChars())>=0}_selectLineAt(C){const A=this._bufferService.buffer.getWrappedRangeForLine(C),L={start:{x:0,y:A.first},end:{x:this._bufferService.cols-1,y:A.last}};this._model.selectionStart=[0,A.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,g.getRangeLength)(L,this._bufferService.cols)}};s.SelectionService=F=c([a(3,y.IBufferService),a(4,y.ICoreService),a(5,m.IMouseService),a(6,y.IOptionsService),a(7,m.IRenderService),a(8,m.ICoreBrowserService)],F)},4725:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.IThemeService=s.ICharacterJoinerService=s.ISelectionService=s.IRenderService=s.IMouseService=s.ICoreBrowserService=s.ICharSizeService=void 0;const c=l(8343);s.ICharSizeService=(0,c.createDecorator)("CharSizeService"),s.ICoreBrowserService=(0,c.createDecorator)("CoreBrowserService"),s.IMouseService=(0,c.createDecorator)("MouseService"),s.IRenderService=(0,c.createDecorator)("RenderService"),s.ISelectionService=(0,c.createDecorator)("SelectionService"),s.ICharacterJoinerService=(0,c.createDecorator)("CharacterJoinerService"),s.IThemeService=(0,c.createDecorator)("ThemeService")},6731:function(p,s,l){var c=this&&this.__decorate||function(F,C,A,L){var T,O=arguments.length,H=O<3?C:L===null?L=Object.getOwnPropertyDescriptor(C,A):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")H=Reflect.decorate(F,C,A,L);else for(var Y=F.length-1;Y>=0;Y--)(T=F[Y])&&(H=(O<3?T(H):O>3?T(C,A,H):T(C,A))||H);return O>3&&H&&Object.defineProperty(C,A,H),H},a=this&&this.__param||function(F,C){return function(A,L){C(A,L,F)}};Object.defineProperty(s,"__esModule",{value:!0}),s.ThemeService=s.DEFAULT_ANSI_COLORS=void 0;const f=l(7239),i=l(8055),d=l(8460),m=l(844),D=l(2585),u=i.css.toColor("#ffffff"),_=i.css.toColor("#000000"),g=i.css.toColor("#ffffff"),v=i.css.toColor("#000000"),y={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};s.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const F=[i.css.toColor("#2e3436"),i.css.toColor("#cc0000"),i.css.toColor("#4e9a06"),i.css.toColor("#c4a000"),i.css.toColor("#3465a4"),i.css.toColor("#75507b"),i.css.toColor("#06989a"),i.css.toColor("#d3d7cf"),i.css.toColor("#555753"),i.css.toColor("#ef2929"),i.css.toColor("#8ae234"),i.css.toColor("#fce94f"),i.css.toColor("#729fcf"),i.css.toColor("#ad7fa8"),i.css.toColor("#34e2e2"),i.css.toColor("#eeeeec")],C=[0,95,135,175,215,255];for(let A=0;A<216;A++){const L=C[A/36%6|0],T=C[A/6%6|0],O=C[A%6];F.push({css:i.channels.toCss(L,T,O),rgba:i.channels.toRgba(L,T,O)})}for(let A=0;A<24;A++){const L=8+10*A;F.push({css:i.channels.toCss(L,L,L),rgba:i.channels.toRgba(L,L,L)})}return F})());let b=s.ThemeService=class extends m.Disposable{get colors(){return this._colors}constructor(F){super(),this._optionsService=F,this._contrastCache=new f.ColorContrastCache,this._halfContrastCache=new f.ColorContrastCache,this._onChangeColors=this.register(new d.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:u,background:_,cursor:g,cursorAccent:v,selectionForeground:void 0,selectionBackgroundTransparent:y,selectionBackgroundOpaque:i.color.blend(_,y),selectionInactiveBackgroundTransparent:y,selectionInactiveBackgroundOpaque:i.color.blend(_,y),ansi:s.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(F={}){const C=this._colors;if(C.foreground=E(F.foreground,u),C.background=E(F.background,_),C.cursor=E(F.cursor,g),C.cursorAccent=E(F.cursorAccent,v),C.selectionBackgroundTransparent=E(F.selectionBackground,y),C.selectionBackgroundOpaque=i.color.blend(C.background,C.selectionBackgroundTransparent),C.selectionInactiveBackgroundTransparent=E(F.selectionInactiveBackground,C.selectionBackgroundTransparent),C.selectionInactiveBackgroundOpaque=i.color.blend(C.background,C.selectionInactiveBackgroundTransparent),C.selectionForeground=F.selectionForeground?E(F.selectionForeground,i.NULL_COLOR):void 0,C.selectionForeground===i.NULL_COLOR&&(C.selectionForeground=void 0),i.color.isOpaque(C.selectionBackgroundTransparent)&&(C.selectionBackgroundTransparent=i.color.opacity(C.selectionBackgroundTransparent,.3)),i.color.isOpaque(C.selectionInactiveBackgroundTransparent)&&(C.selectionInactiveBackgroundTransparent=i.color.opacity(C.selectionInactiveBackgroundTransparent,.3)),C.ansi=s.DEFAULT_ANSI_COLORS.slice(),C.ansi[0]=E(F.black,s.DEFAULT_ANSI_COLORS[0]),C.ansi[1]=E(F.red,s.DEFAULT_ANSI_COLORS[1]),C.ansi[2]=E(F.green,s.DEFAULT_ANSI_COLORS[2]),C.ansi[3]=E(F.yellow,s.DEFAULT_ANSI_COLORS[3]),C.ansi[4]=E(F.blue,s.DEFAULT_ANSI_COLORS[4]),C.ansi[5]=E(F.magenta,s.DEFAULT_ANSI_COLORS[5]),C.ansi[6]=E(F.cyan,s.DEFAULT_ANSI_COLORS[6]),C.ansi[7]=E(F.white,s.DEFAULT_ANSI_COLORS[7]),C.ansi[8]=E(F.brightBlack,s.DEFAULT_ANSI_COLORS[8]),C.ansi[9]=E(F.brightRed,s.DEFAULT_ANSI_COLORS[9]),C.ansi[10]=E(F.brightGreen,s.DEFAULT_ANSI_COLORS[10]),C.ansi[11]=E(F.brightYellow,s.DEFAULT_ANSI_COLORS[11]),C.ansi[12]=E(F.brightBlue,s.DEFAULT_ANSI_COLORS[12]),C.ansi[13]=E(F.brightMagenta,s.DEFAULT_ANSI_COLORS[13]),C.ansi[14]=E(F.brightCyan,s.DEFAULT_ANSI_COLORS[14]),C.ansi[15]=E(F.brightWhite,s.DEFAULT_ANSI_COLORS[15]),F.extendedAnsi){const A=Math.min(C.ansi.length-16,F.extendedAnsi.length);for(let L=0;L<A;L++)C.ansi[L+16]=E(F.extendedAnsi[L],s.DEFAULT_ANSI_COLORS[L+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(F){this._restoreColor(F),this._onChangeColors.fire(this.colors)}_restoreColor(F){if(F!==void 0)switch(F){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[F]=this._restoreColors.ansi[F]}else for(let C=0;C<this._restoreColors.ansi.length;++C)this._colors.ansi[C]=this._restoreColors.ansi[C]}modifyColors(F){F(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function E(F,C){if(F!==void 0)try{return i.css.toColor(F)}catch{}return C}s.ThemeService=b=c([a(0,D.IOptionsService)],b)},6349:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CircularList=void 0;const c=l(8460),a=l(844);class f extends a.Disposable{constructor(d){super(),this._maxLength=d,this.onDeleteEmitter=this.register(new c.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new c.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new c.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(d){if(this._maxLength===d)return;const m=new Array(d);for(let D=0;D<Math.min(d,this.length);D++)m[D]=this._array[this._getCyclicIndex(D)];this._array=m,this._maxLength=d,this._startIndex=0}get length(){return this._length}set length(d){if(d>this._length)for(let m=this._length;m<d;m++)this._array[m]=void 0;this._length=d}get(d){return this._array[this._getCyclicIndex(d)]}set(d,m){this._array[this._getCyclicIndex(d)]=m}push(d){this._array[this._getCyclicIndex(this._length)]=d,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(d,m,...D){if(m){for(let u=d;u<this._length-m;u++)this._array[this._getCyclicIndex(u)]=this._array[this._getCyclicIndex(u+m)];this._length-=m,this.onDeleteEmitter.fire({index:d,amount:m})}for(let u=this._length-1;u>=d;u--)this._array[this._getCyclicIndex(u+D.length)]=this._array[this._getCyclicIndex(u)];for(let u=0;u<D.length;u++)this._array[this._getCyclicIndex(d+u)]=D[u];if(D.length&&this.onInsertEmitter.fire({index:d,amount:D.length}),this._length+D.length>this._maxLength){const u=this._length+D.length-this._maxLength;this._startIndex+=u,this._length=this._maxLength,this.onTrimEmitter.fire(u)}else this._length+=D.length}trimStart(d){d>this._length&&(d=this._length),this._startIndex+=d,this._length-=d,this.onTrimEmitter.fire(d)}shiftElements(d,m,D){if(!(m<=0)){if(d<0||d>=this._length)throw new Error("start argument out of range");if(d+D<0)throw new Error("Cannot shift elements in list beyond index 0");if(D>0){for(let _=m-1;_>=0;_--)this.set(d+_+D,this.get(d+_));const u=d+m+D-this._length;if(u>0)for(this._length+=u;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let u=0;u<m;u++)this.set(d+u+D,this.get(d+u))}}_getCyclicIndex(d){return(this._startIndex+d)%this._maxLength}}s.CircularList=f},1439:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.clone=void 0,s.clone=function l(c,a=5){if(typeof c!="object")return c;const f=Array.isArray(c)?[]:{};for(const i in c)f[i]=a<=1?c[i]:c[i]&&l(c[i],a-1);return f}},8055:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.contrastRatio=s.toPaddedHex=s.rgba=s.rgb=s.css=s.color=s.channels=s.NULL_COLOR=void 0;const c=l(6114);let a=0,f=0,i=0,d=0;var m,D,u,_,g;function v(b){const E=b.toString(16);return E.length<2?"0"+E:E}function y(b,E){return b<E?(E+.05)/(b+.05):(b+.05)/(E+.05)}s.NULL_COLOR={css:"#00000000",rgba:0},function(b){b.toCss=function(E,F,C,A){return A!==void 0?`#${v(E)}${v(F)}${v(C)}${v(A)}`:`#${v(E)}${v(F)}${v(C)}`},b.toRgba=function(E,F,C,A=255){return(E<<24|F<<16|C<<8|A)>>>0}}(m||(s.channels=m={})),function(b){function E(F,C){return d=Math.round(255*C),[a,f,i]=g.toChannels(F.rgba),{css:m.toCss(a,f,i,d),rgba:m.toRgba(a,f,i,d)}}b.blend=function(F,C){if(d=(255&C.rgba)/255,d===1)return{css:C.css,rgba:C.rgba};const A=C.rgba>>24&255,L=C.rgba>>16&255,T=C.rgba>>8&255,O=F.rgba>>24&255,H=F.rgba>>16&255,Y=F.rgba>>8&255;return a=O+Math.round((A-O)*d),f=H+Math.round((L-H)*d),i=Y+Math.round((T-Y)*d),{css:m.toCss(a,f,i),rgba:m.toRgba(a,f,i)}},b.isOpaque=function(F){return(255&F.rgba)==255},b.ensureContrastRatio=function(F,C,A){const L=g.ensureContrastRatio(F.rgba,C.rgba,A);if(L)return g.toColor(L>>24&255,L>>16&255,L>>8&255)},b.opaque=function(F){const C=(255|F.rgba)>>>0;return[a,f,i]=g.toChannels(C),{css:m.toCss(a,f,i),rgba:C}},b.opacity=E,b.multiplyOpacity=function(F,C){return d=255&F.rgba,E(F,d*C/255)},b.toColorRGB=function(F){return[F.rgba>>24&255,F.rgba>>16&255,F.rgba>>8&255]}}(D||(s.color=D={})),function(b){let E,F;if(!c.isNode){const C=document.createElement("canvas");C.width=1,C.height=1;const A=C.getContext("2d",{willReadFrequently:!0});A&&(E=A,E.globalCompositeOperation="copy",F=E.createLinearGradient(0,0,1,1))}b.toColor=function(C){if(C.match(/#[\da-f]{3,8}/i))switch(C.length){case 4:return a=parseInt(C.slice(1,2).repeat(2),16),f=parseInt(C.slice(2,3).repeat(2),16),i=parseInt(C.slice(3,4).repeat(2),16),g.toColor(a,f,i);case 5:return a=parseInt(C.slice(1,2).repeat(2),16),f=parseInt(C.slice(2,3).repeat(2),16),i=parseInt(C.slice(3,4).repeat(2),16),d=parseInt(C.slice(4,5).repeat(2),16),g.toColor(a,f,i,d);case 7:return{css:C,rgba:(parseInt(C.slice(1),16)<<8|255)>>>0};case 9:return{css:C,rgba:parseInt(C.slice(1),16)>>>0}}const A=C.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(A)return a=parseInt(A[1]),f=parseInt(A[2]),i=parseInt(A[3]),d=Math.round(255*(A[5]===void 0?1:parseFloat(A[5]))),g.toColor(a,f,i,d);if(!E||!F)throw new Error("css.toColor: Unsupported css format");if(E.fillStyle=F,E.fillStyle=C,typeof E.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(E.fillRect(0,0,1,1),[a,f,i,d]=E.getImageData(0,0,1,1).data,d!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:m.toRgba(a,f,i,d),css:C}}}(u||(s.css=u={})),function(b){function E(F,C,A){const L=F/255,T=C/255,O=A/255;return .2126*(L<=.03928?L/12.92:Math.pow((L+.055)/1.055,2.4))+.7152*(T<=.03928?T/12.92:Math.pow((T+.055)/1.055,2.4))+.0722*(O<=.03928?O/12.92:Math.pow((O+.055)/1.055,2.4))}b.relativeLuminance=function(F){return E(F>>16&255,F>>8&255,255&F)},b.relativeLuminance2=E}(_||(s.rgb=_={})),function(b){function E(C,A,L){const T=C>>24&255,O=C>>16&255,H=C>>8&255;let Y=A>>24&255,Z=A>>16&255,te=A>>8&255,ee=y(_.relativeLuminance2(Y,Z,te),_.relativeLuminance2(T,O,H));for(;ee<L&&(Y>0||Z>0||te>0);)Y-=Math.max(0,Math.ceil(.1*Y)),Z-=Math.max(0,Math.ceil(.1*Z)),te-=Math.max(0,Math.ceil(.1*te)),ee=y(_.relativeLuminance2(Y,Z,te),_.relativeLuminance2(T,O,H));return(Y<<24|Z<<16|te<<8|255)>>>0}function F(C,A,L){const T=C>>24&255,O=C>>16&255,H=C>>8&255;let Y=A>>24&255,Z=A>>16&255,te=A>>8&255,ee=y(_.relativeLuminance2(Y,Z,te),_.relativeLuminance2(T,O,H));for(;ee<L&&(Y<255||Z<255||te<255);)Y=Math.min(255,Y+Math.ceil(.1*(255-Y))),Z=Math.min(255,Z+Math.ceil(.1*(255-Z))),te=Math.min(255,te+Math.ceil(.1*(255-te))),ee=y(_.relativeLuminance2(Y,Z,te),_.relativeLuminance2(T,O,H));return(Y<<24|Z<<16|te<<8|255)>>>0}b.ensureContrastRatio=function(C,A,L){const T=_.relativeLuminance(C>>8),O=_.relativeLuminance(A>>8);if(y(T,O)<L){if(O<T){const Z=E(C,A,L),te=y(T,_.relativeLuminance(Z>>8));if(te<L){const ee=F(C,A,L);return te>y(T,_.relativeLuminance(ee>>8))?Z:ee}return Z}const H=F(C,A,L),Y=y(T,_.relativeLuminance(H>>8));if(Y<L){const Z=E(C,A,L);return Y>y(T,_.relativeLuminance(Z>>8))?H:Z}return H}},b.reduceLuminance=E,b.increaseLuminance=F,b.toChannels=function(C){return[C>>24&255,C>>16&255,C>>8&255,255&C]},b.toColor=function(C,A,L,T){return{css:m.toCss(C,A,L,T),rgba:m.toRgba(C,A,L,T)}}}(g||(s.rgba=g={})),s.toPaddedHex=v,s.contrastRatio=y},8969:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CoreTerminal=void 0;const c=l(844),a=l(2585),f=l(4348),i=l(7866),d=l(744),m=l(7302),D=l(6975),u=l(8460),_=l(1753),g=l(1480),v=l(7994),y=l(9282),b=l(5435),E=l(5981),F=l(2660);let C=!1;class A extends c.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new u.EventEmitter),this._onScroll.event(T=>{var O;(O=this._onScrollApi)===null||O===void 0||O.fire(T.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(T){for(const O in T)this.optionsService.options[O]=T[O]}constructor(T){super(),this._windowsWrappingHeuristics=this.register(new c.MutableDisposable),this._onBinary=this.register(new u.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new u.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new u.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new u.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new u.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new u.EventEmitter),this._instantiationService=new f.InstantiationService,this.optionsService=this.register(new m.OptionsService(T)),this._instantiationService.setService(a.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(d.BufferService)),this._instantiationService.setService(a.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(i.LogService)),this._instantiationService.setService(a.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(D.CoreService)),this._instantiationService.setService(a.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(_.CoreMouseService)),this._instantiationService.setService(a.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(g.UnicodeService)),this._instantiationService.setService(a.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(v.CharsetService),this._instantiationService.setService(a.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(F.OscLinkService),this._instantiationService.setService(a.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new b.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,u.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,u.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,u.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,u.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(O=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(O=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new E.WriteBuffer((O,H)=>this._inputHandler.parse(O,H))),this.register((0,u.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(T,O){this._writeBuffer.write(T,O)}writeSync(T,O){this._logService.logLevel<=a.LogLevelEnum.WARN&&!C&&(this._logService.warn("writeSync is unreliable and will be removed soon."),C=!0),this._writeBuffer.writeSync(T,O)}resize(T,O){isNaN(T)||isNaN(O)||(T=Math.max(T,d.MINIMUM_COLS),O=Math.max(O,d.MINIMUM_ROWS),this._bufferService.resize(T,O))}scroll(T,O=!1){this._bufferService.scroll(T,O)}scrollLines(T,O,H){this._bufferService.scrollLines(T,O,H)}scrollPages(T){this.scrollLines(T*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(T){const O=T-this._bufferService.buffer.ydisp;O!==0&&this.scrollLines(O)}registerEscHandler(T,O){return this._inputHandler.registerEscHandler(T,O)}registerDcsHandler(T,O){return this._inputHandler.registerDcsHandler(T,O)}registerCsiHandler(T,O){return this._inputHandler.registerCsiHandler(T,O)}registerOscHandler(T,O){return this._inputHandler.registerOscHandler(T,O)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let T=!1;const O=this.optionsService.rawOptions.windowsPty;O&&O.buildNumber!==void 0&&O.buildNumber!==void 0?T=O.backend==="conpty"&&O.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(T=!0),T?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const T=[];T.push(this.onLineFeed(y.updateWindowsModeWrappedState.bind(null,this._bufferService))),T.push(this.registerCsiHandler({final:"H"},()=>((0,y.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,c.toDisposable)(()=>{for(const O of T)O.dispose()})}}}s.CoreTerminal=A},8460:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.forwardEvent=s.EventEmitter=void 0,s.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=l=>(this._listeners.push(l),{dispose:()=>{if(!this._disposed){for(let c=0;c<this._listeners.length;c++)if(this._listeners[c]===l)return void this._listeners.splice(c,1)}}})),this._event}fire(l,c){const a=[];for(let f=0;f<this._listeners.length;f++)a.push(this._listeners[f]);for(let f=0;f<a.length;f++)a[f].call(void 0,l,c)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},s.forwardEvent=function(l,c){return l(a=>c.fire(a))}},5435:function(p,s,l){var c=this&&this.__decorate||function(ee,k,R,P){var q,I=arguments.length,G=I<3?k:P===null?P=Object.getOwnPropertyDescriptor(k,R):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")G=Reflect.decorate(ee,k,R,P);else for(var M=ee.length-1;M>=0;M--)(q=ee[M])&&(G=(I<3?q(G):I>3?q(k,R,G):q(k,R))||G);return I>3&&G&&Object.defineProperty(k,R,G),G},a=this&&this.__param||function(ee,k){return function(R,P){k(R,P,ee)}};Object.defineProperty(s,"__esModule",{value:!0}),s.InputHandler=s.WindowsOptionsReportType=void 0;const f=l(2584),i=l(7116),d=l(2015),m=l(844),D=l(482),u=l(8437),_=l(8460),g=l(643),v=l(511),y=l(3734),b=l(2585),E=l(6242),F=l(6351),C=l(5941),A={"(":0,")":1,"*":2,"+":3,"-":1,".":2},L=131072;function T(ee,k){if(ee>24)return k.setWinLines||!1;switch(ee){case 1:return!!k.restoreWin;case 2:return!!k.minimizeWin;case 3:return!!k.setWinPosition;case 4:return!!k.setWinSizePixels;case 5:return!!k.raiseWin;case 6:return!!k.lowerWin;case 7:return!!k.refreshWin;case 8:return!!k.setWinSizeChars;case 9:return!!k.maximizeWin;case 10:return!!k.fullscreenWin;case 11:return!!k.getWinState;case 13:return!!k.getWinPosition;case 14:return!!k.getWinSizePixels;case 15:return!!k.getScreenSizePixels;case 16:return!!k.getCellSizePixels;case 18:return!!k.getWinSizeChars;case 19:return!!k.getScreenSizeChars;case 20:return!!k.getIconTitle;case 21:return!!k.getWinTitle;case 22:return!!k.pushTitle;case 23:return!!k.popTitle;case 24:return!!k.setWinLines}return!1}var O;(function(ee){ee[ee.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",ee[ee.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(O||(s.WindowsOptionsReportType=O={}));let H=0;class Y extends m.Disposable{getAttrData(){return this._curAttrData}constructor(k,R,P,q,I,G,M,$,z=new d.EscapeSequenceParser){super(),this._bufferService=k,this._charsetService=R,this._coreService=P,this._logService=q,this._optionsService=I,this._oscLinkService=G,this._coreMouseService=M,this._unicodeService=$,this._parser=z,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new D.StringToUtf32,this._utf8Decoder=new D.Utf8ToUtf32,this._workCell=new v.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=u.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=u.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new _.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new _.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new _.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new _.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new _.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new _.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new _.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new _.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new _.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new _.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new _.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new _.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new _.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new Z(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(x=>this._activeBuffer=x.activeBuffer)),this._parser.setCsiHandlerFallback((x,j)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(x),params:j.toArray()})}),this._parser.setEscHandlerFallback(x=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(x)})}),this._parser.setExecuteHandlerFallback(x=>{this._logService.debug("Unknown EXECUTE code: ",{code:x})}),this._parser.setOscHandlerFallback((x,j,U)=>{this._logService.debug("Unknown OSC code: ",{identifier:x,action:j,data:U})}),this._parser.setDcsHandlerFallback((x,j,U)=>{j==="HOOK"&&(U=U.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(x),action:j,payload:U})}),this._parser.setPrintHandler((x,j,U)=>this.print(x,j,U)),this._parser.registerCsiHandler({final:"@"},x=>this.insertChars(x)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},x=>this.scrollLeft(x)),this._parser.registerCsiHandler({final:"A"},x=>this.cursorUp(x)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},x=>this.scrollRight(x)),this._parser.registerCsiHandler({final:"B"},x=>this.cursorDown(x)),this._parser.registerCsiHandler({final:"C"},x=>this.cursorForward(x)),this._parser.registerCsiHandler({final:"D"},x=>this.cursorBackward(x)),this._parser.registerCsiHandler({final:"E"},x=>this.cursorNextLine(x)),this._parser.registerCsiHandler({final:"F"},x=>this.cursorPrecedingLine(x)),this._parser.registerCsiHandler({final:"G"},x=>this.cursorCharAbsolute(x)),this._parser.registerCsiHandler({final:"H"},x=>this.cursorPosition(x)),this._parser.registerCsiHandler({final:"I"},x=>this.cursorForwardTab(x)),this._parser.registerCsiHandler({final:"J"},x=>this.eraseInDisplay(x,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},x=>this.eraseInDisplay(x,!0)),this._parser.registerCsiHandler({final:"K"},x=>this.eraseInLine(x,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},x=>this.eraseInLine(x,!0)),this._parser.registerCsiHandler({final:"L"},x=>this.insertLines(x)),this._parser.registerCsiHandler({final:"M"},x=>this.deleteLines(x)),this._parser.registerCsiHandler({final:"P"},x=>this.deleteChars(x)),this._parser.registerCsiHandler({final:"S"},x=>this.scrollUp(x)),this._parser.registerCsiHandler({final:"T"},x=>this.scrollDown(x)),this._parser.registerCsiHandler({final:"X"},x=>this.eraseChars(x)),this._parser.registerCsiHandler({final:"Z"},x=>this.cursorBackwardTab(x)),this._parser.registerCsiHandler({final:"`"},x=>this.charPosAbsolute(x)),this._parser.registerCsiHandler({final:"a"},x=>this.hPositionRelative(x)),this._parser.registerCsiHandler({final:"b"},x=>this.repeatPrecedingCharacter(x)),this._parser.registerCsiHandler({final:"c"},x=>this.sendDeviceAttributesPrimary(x)),this._parser.registerCsiHandler({prefix:">",final:"c"},x=>this.sendDeviceAttributesSecondary(x)),this._parser.registerCsiHandler({final:"d"},x=>this.linePosAbsolute(x)),this._parser.registerCsiHandler({final:"e"},x=>this.vPositionRelative(x)),this._parser.registerCsiHandler({final:"f"},x=>this.hVPosition(x)),this._parser.registerCsiHandler({final:"g"},x=>this.tabClear(x)),this._parser.registerCsiHandler({final:"h"},x=>this.setMode(x)),this._parser.registerCsiHandler({prefix:"?",final:"h"},x=>this.setModePrivate(x)),this._parser.registerCsiHandler({final:"l"},x=>this.resetMode(x)),this._parser.registerCsiHandler({prefix:"?",final:"l"},x=>this.resetModePrivate(x)),this._parser.registerCsiHandler({final:"m"},x=>this.charAttributes(x)),this._parser.registerCsiHandler({final:"n"},x=>this.deviceStatus(x)),this._parser.registerCsiHandler({prefix:"?",final:"n"},x=>this.deviceStatusPrivate(x)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},x=>this.softReset(x)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},x=>this.setCursorStyle(x)),this._parser.registerCsiHandler({final:"r"},x=>this.setScrollRegion(x)),this._parser.registerCsiHandler({final:"s"},x=>this.saveCursor(x)),this._parser.registerCsiHandler({final:"t"},x=>this.windowOptions(x)),this._parser.registerCsiHandler({final:"u"},x=>this.restoreCursor(x)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},x=>this.insertColumns(x)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},x=>this.deleteColumns(x)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},x=>this.selectProtected(x)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},x=>this.requestMode(x,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},x=>this.requestMode(x,!1)),this._parser.setExecuteHandler(f.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(f.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(f.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(f.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(f.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(f.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(f.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(f.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(f.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(f.C1.IND,()=>this.index()),this._parser.setExecuteHandler(f.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(f.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new E.OscHandler(x=>(this.setTitle(x),this.setIconName(x),!0))),this._parser.registerOscHandler(1,new E.OscHandler(x=>this.setIconName(x))),this._parser.registerOscHandler(2,new E.OscHandler(x=>this.setTitle(x))),this._parser.registerOscHandler(4,new E.OscHandler(x=>this.setOrReportIndexedColor(x))),this._parser.registerOscHandler(8,new E.OscHandler(x=>this.setHyperlink(x))),this._parser.registerOscHandler(10,new E.OscHandler(x=>this.setOrReportFgColor(x))),this._parser.registerOscHandler(11,new E.OscHandler(x=>this.setOrReportBgColor(x))),this._parser.registerOscHandler(12,new E.OscHandler(x=>this.setOrReportCursorColor(x))),this._parser.registerOscHandler(104,new E.OscHandler(x=>this.restoreIndexedColor(x))),this._parser.registerOscHandler(110,new E.OscHandler(x=>this.restoreFgColor(x))),this._parser.registerOscHandler(111,new E.OscHandler(x=>this.restoreBgColor(x))),this._parser.registerOscHandler(112,new E.OscHandler(x=>this.restoreCursorColor(x))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const x in i.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:x},()=>this.selectCharset("("+x)),this._parser.registerEscHandler({intermediates:")",final:x},()=>this.selectCharset(")"+x)),this._parser.registerEscHandler({intermediates:"*",final:x},()=>this.selectCharset("*"+x)),this._parser.registerEscHandler({intermediates:"+",final:x},()=>this.selectCharset("+"+x)),this._parser.registerEscHandler({intermediates:"-",final:x},()=>this.selectCharset("-"+x)),this._parser.registerEscHandler({intermediates:".",final:x},()=>this.selectCharset("."+x)),this._parser.registerEscHandler({intermediates:"/",final:x},()=>this.selectCharset("/"+x));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(x=>(this._logService.error("Parsing error: ",x),x)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new F.DcsHandler((x,j)=>this.requestStatusString(x,j)))}_preserveStack(k,R,P,q){this._parseStack.paused=!0,this._parseStack.cursorStartX=k,this._parseStack.cursorStartY=R,this._parseStack.decodedLength=P,this._parseStack.position=q}_logSlowResolvingAsync(k){this._logService.logLevel<=b.LogLevelEnum.WARN&&Promise.race([k,new Promise((R,P)=>setTimeout(()=>P("#SLOW_TIMEOUT"),5e3))]).catch(R=>{if(R!=="#SLOW_TIMEOUT")throw R;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(k,R){let P,q=this._activeBuffer.x,I=this._activeBuffer.y,G=0;const M=this._parseStack.paused;if(M){if(P=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,R))return this._logSlowResolvingAsync(P),P;q=this._parseStack.cursorStartX,I=this._parseStack.cursorStartY,this._parseStack.paused=!1,k.length>L&&(G=this._parseStack.position+L)}if(this._logService.logLevel<=b.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof k=="string"?` "${k}"`:` "${Array.prototype.map.call(k,$=>String.fromCharCode($)).join("")}"`),typeof k=="string"?k.split("").map($=>$.charCodeAt(0)):k),this._parseBuffer.length<k.length&&this._parseBuffer.length<L&&(this._parseBuffer=new Uint32Array(Math.min(k.length,L))),M||this._dirtyRowTracker.clearRange(),k.length>L)for(let $=G;$<k.length;$+=L){const z=$+L<k.length?$+L:k.length,x=typeof k=="string"?this._stringDecoder.decode(k.substring($,z),this._parseBuffer):this._utf8Decoder.decode(k.subarray($,z),this._parseBuffer);if(P=this._parser.parse(this._parseBuffer,x))return this._preserveStack(q,I,x,$),this._logSlowResolvingAsync(P),P}else if(!M){const $=typeof k=="string"?this._stringDecoder.decode(k,this._parseBuffer):this._utf8Decoder.decode(k,this._parseBuffer);if(P=this._parser.parse(this._parseBuffer,$))return this._preserveStack(q,I,$,0),this._logSlowResolvingAsync(P),P}this._activeBuffer.x===q&&this._activeBuffer.y===I||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(k,R,P){let q,I;const G=this._charsetService.charset,M=this._optionsService.rawOptions.screenReaderMode,$=this._bufferService.cols,z=this._coreService.decPrivateModes.wraparound,x=this._coreService.modes.insertMode,j=this._curAttrData;let U=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&P-R>0&&U.getWidth(this._activeBuffer.x-1)===2&&U.setCellFromCodePoint(this._activeBuffer.x-1,0,1,j.fg,j.bg,j.extended);for(let V=R;V<P;++V){if(q=k[V],I=this._unicodeService.wcwidth(q),q<127&&G){const re=G[String.fromCharCode(q)];re&&(q=re.charCodeAt(0))}if(M&&this._onA11yChar.fire((0,D.stringFromCodePoint)(q)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),I||!this._activeBuffer.x){if(this._activeBuffer.x+I-1>=$){if(z){for(;this._activeBuffer.x<$;)U.setCellFromCodePoint(this._activeBuffer.x++,0,1,j.fg,j.bg,j.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),U=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=$-1,I===2)continue}if(x&&(U.insertCells(this._activeBuffer.x,I,this._activeBuffer.getNullCell(j),j),U.getWidth($-1)===2&&U.setCellFromCodePoint($-1,g.NULL_CELL_CODE,g.NULL_CELL_WIDTH,j.fg,j.bg,j.extended)),U.setCellFromCodePoint(this._activeBuffer.x++,q,I,j.fg,j.bg,j.extended),I>0)for(;--I;)U.setCellFromCodePoint(this._activeBuffer.x++,0,0,j.fg,j.bg,j.extended)}else U.getWidth(this._activeBuffer.x-1)?U.addCodepointToCell(this._activeBuffer.x-1,q):U.addCodepointToCell(this._activeBuffer.x-2,q)}P-R>0&&(U.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<$&&P-R>0&&U.getWidth(this._activeBuffer.x)===0&&!U.hasContent(this._activeBuffer.x)&&U.setCellFromCodePoint(this._activeBuffer.x,0,1,j.fg,j.bg,j.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(k,R){return k.final!=="t"||k.prefix||k.intermediates?this._parser.registerCsiHandler(k,R):this._parser.registerCsiHandler(k,P=>!T(P.params[0],this._optionsService.rawOptions.windowOptions)||R(P))}registerDcsHandler(k,R){return this._parser.registerDcsHandler(k,new F.DcsHandler(R))}registerEscHandler(k,R){return this._parser.registerEscHandler(k,R)}registerOscHandler(k,R){return this._parser.registerOscHandler(k,new E.OscHandler(R))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var k;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((k=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||k===void 0)&&k.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);R.hasWidth(this._activeBuffer.x)&&!R.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const k=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-k),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(k=this._bufferService.cols-1){this._activeBuffer.x=Math.min(k,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(k,R){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=k,this._activeBuffer.y=this._activeBuffer.scrollTop+R):(this._activeBuffer.x=k,this._activeBuffer.y=R),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(k,R){this._restrictCursor(),this._setCursor(this._activeBuffer.x+k,this._activeBuffer.y+R)}cursorUp(k){const R=this._activeBuffer.y-this._activeBuffer.scrollTop;return R>=0?this._moveCursor(0,-Math.min(R,k.params[0]||1)):this._moveCursor(0,-(k.params[0]||1)),!0}cursorDown(k){const R=this._activeBuffer.scrollBottom-this._activeBuffer.y;return R>=0?this._moveCursor(0,Math.min(R,k.params[0]||1)):this._moveCursor(0,k.params[0]||1),!0}cursorForward(k){return this._moveCursor(k.params[0]||1,0),!0}cursorBackward(k){return this._moveCursor(-(k.params[0]||1),0),!0}cursorNextLine(k){return this.cursorDown(k),this._activeBuffer.x=0,!0}cursorPrecedingLine(k){return this.cursorUp(k),this._activeBuffer.x=0,!0}cursorCharAbsolute(k){return this._setCursor((k.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(k){return this._setCursor(k.length>=2?(k.params[1]||1)-1:0,(k.params[0]||1)-1),!0}charPosAbsolute(k){return this._setCursor((k.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(k){return this._moveCursor(k.params[0]||1,0),!0}linePosAbsolute(k){return this._setCursor(this._activeBuffer.x,(k.params[0]||1)-1),!0}vPositionRelative(k){return this._moveCursor(0,k.params[0]||1),!0}hVPosition(k){return this.cursorPosition(k),!0}tabClear(k){const R=k.params[0];return R===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:R===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(k){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let R=k.params[0]||1;for(;R--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(k){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let R=k.params[0]||1;for(;R--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(k){const R=k.params[0];return R===1&&(this._curAttrData.bg|=536870912),R!==2&&R!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(k,R,P,q=!1,I=!1){const G=this._activeBuffer.lines.get(this._activeBuffer.ybase+k);G.replaceCells(R,P,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),I),q&&(G.isWrapped=!1)}_resetBufferLine(k,R=!1){const P=this._activeBuffer.lines.get(this._activeBuffer.ybase+k);P&&(P.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),R),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+k),P.isWrapped=!1)}eraseInDisplay(k,R=!1){let P;switch(this._restrictCursor(this._bufferService.cols),k.params[0]){case 0:for(P=this._activeBuffer.y,this._dirtyRowTracker.markDirty(P),this._eraseInBufferLine(P++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,R);P<this._bufferService.rows;P++)this._resetBufferLine(P,R);this._dirtyRowTracker.markDirty(P);break;case 1:for(P=this._activeBuffer.y,this._dirtyRowTracker.markDirty(P),this._eraseInBufferLine(P,0,this._activeBuffer.x+1,!0,R),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(P+1).isWrapped=!1);P--;)this._resetBufferLine(P,R);this._dirtyRowTracker.markDirty(0);break;case 2:for(P=this._bufferService.rows,this._dirtyRowTracker.markDirty(P-1);P--;)this._resetBufferLine(P,R);this._dirtyRowTracker.markDirty(0);break;case 3:const q=this._activeBuffer.lines.length-this._bufferService.rows;q>0&&(this._activeBuffer.lines.trimStart(q),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-q,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-q,0),this._onScroll.fire(0))}return!0}eraseInLine(k,R=!1){switch(this._restrictCursor(this._bufferService.cols),k.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,R);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,R);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,R)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(k){this._restrictCursor();let R=k.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=this._activeBuffer.ybase+this._activeBuffer.y,q=this._bufferService.rows-1-this._activeBuffer.scrollBottom,I=this._bufferService.rows-1+this._activeBuffer.ybase-q+1;for(;R--;)this._activeBuffer.lines.splice(I-1,1),this._activeBuffer.lines.splice(P,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(k){this._restrictCursor();let R=k.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const P=this._activeBuffer.ybase+this._activeBuffer.y;let q;for(q=this._bufferService.rows-1-this._activeBuffer.scrollBottom,q=this._bufferService.rows-1+this._activeBuffer.ybase-q;R--;)this._activeBuffer.lines.splice(P,1),this._activeBuffer.lines.splice(q,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(k){this._restrictCursor();const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return R&&(R.insertCells(this._activeBuffer.x,k.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(k){this._restrictCursor();const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return R&&(R.deleteCells(this._activeBuffer.x,k.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(k){let R=k.params[0]||1;for(;R--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(k){let R=k.params[0]||1;for(;R--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(u.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const R=k.params[0]||1;for(let P=this._activeBuffer.scrollTop;P<=this._activeBuffer.scrollBottom;++P){const q=this._activeBuffer.lines.get(this._activeBuffer.ybase+P);q.deleteCells(0,R,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),q.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const R=k.params[0]||1;for(let P=this._activeBuffer.scrollTop;P<=this._activeBuffer.scrollBottom;++P){const q=this._activeBuffer.lines.get(this._activeBuffer.ybase+P);q.insertCells(0,R,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),q.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const R=k.params[0]||1;for(let P=this._activeBuffer.scrollTop;P<=this._activeBuffer.scrollBottom;++P){const q=this._activeBuffer.lines.get(this._activeBuffer.ybase+P);q.insertCells(this._activeBuffer.x,R,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),q.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(k){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const R=k.params[0]||1;for(let P=this._activeBuffer.scrollTop;P<=this._activeBuffer.scrollBottom;++P){const q=this._activeBuffer.lines.get(this._activeBuffer.ybase+P);q.deleteCells(this._activeBuffer.x,R,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),q.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(k){this._restrictCursor();const R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return R&&(R.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(k.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(k){if(!this._parser.precedingCodepoint)return!0;const R=k.params[0]||1,P=new Uint32Array(R);for(let q=0;q<R;++q)P[q]=this._parser.precedingCodepoint;return this.print(P,0,P.length),!0}sendDeviceAttributesPrimary(k){return k.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(f.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(f.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(k){return k.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(f.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(f.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(k.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(f.C0.ESC+"[>83;40003;0c")),!0}_is(k){return(this._optionsService.rawOptions.termName+"").indexOf(k)===0}setMode(k){for(let R=0;R<k.length;R++)switch(k.params[R]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(k){for(let R=0;R<k.length;R++)switch(k.params[R]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,i.DEFAULT_CHARSET),this._charsetService.setgCharset(1,i.DEFAULT_CHARSET),this._charsetService.setgCharset(2,i.DEFAULT_CHARSET),this._charsetService.setgCharset(3,i.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(k){for(let R=0;R<k.length;R++)switch(k.params[R]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(k){for(let R=0;R<k.length;R++)switch(k.params[R]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),k.params[R]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(k,R){const P=this._coreService.decPrivateModes,{activeProtocol:q,activeEncoding:I}=this._coreMouseService,G=this._coreService,{buffers:M,cols:$}=this._bufferService,{active:z,alt:x}=M,j=this._optionsService.rawOptions,U=he=>he?1:2,V=k.params[0];return re=V,se=R?V===2?4:V===4?U(G.modes.insertMode):V===12?3:V===20?U(j.convertEol):0:V===1?U(P.applicationCursorKeys):V===3?j.windowOptions.setWinLines?$===80?2:$===132?1:0:0:V===6?U(P.origin):V===7?U(P.wraparound):V===8?3:V===9?U(q==="X10"):V===12?U(j.cursorBlink):V===25?U(!G.isCursorHidden):V===45?U(P.reverseWraparound):V===66?U(P.applicationKeypad):V===67?4:V===1e3?U(q==="VT200"):V===1002?U(q==="DRAG"):V===1003?U(q==="ANY"):V===1004?U(P.sendFocus):V===1005?4:V===1006?U(I==="SGR"):V===1015?4:V===1016?U(I==="SGR_PIXELS"):V===1048?1:V===47||V===1047||V===1049?U(z===x):V===2004?U(P.bracketedPasteMode):0,G.triggerDataEvent(`${f.C0.ESC}[${R?"":"?"}${re};${se}$y`),!0;var re,se}_updateAttrColor(k,R,P,q,I){return R===2?(k|=50331648,k&=-16777216,k|=y.AttributeData.fromColorRGB([P,q,I])):R===5&&(k&=-50331904,k|=33554432|255&P),k}_extractColor(k,R,P){const q=[0,0,-1,0,0,0];let I=0,G=0;do{if(q[G+I]=k.params[R+G],k.hasSubParams(R+G)){const M=k.getSubParams(R+G);let $=0;do q[1]===5&&(I=1),q[G+$+1+I]=M[$];while(++$<M.length&&$+G+1+I<q.length);break}if(q[1]===5&&G+I>=2||q[1]===2&&G+I>=5)break;q[1]&&(I=1)}while(++G+R<k.length&&G+I<q.length);for(let M=2;M<q.length;++M)q[M]===-1&&(q[M]=0);switch(q[0]){case 38:P.fg=this._updateAttrColor(P.fg,q[1],q[3],q[4],q[5]);break;case 48:P.bg=this._updateAttrColor(P.bg,q[1],q[3],q[4],q[5]);break;case 58:P.extended=P.extended.clone(),P.extended.underlineColor=this._updateAttrColor(P.extended.underlineColor,q[1],q[3],q[4],q[5])}return G}_processUnderline(k,R){R.extended=R.extended.clone(),(!~k||k>5)&&(k=1),R.extended.underlineStyle=k,R.fg|=268435456,k===0&&(R.fg&=-268435457),R.updateExtended()}_processSGR0(k){k.fg=u.DEFAULT_ATTR_DATA.fg,k.bg=u.DEFAULT_ATTR_DATA.bg,k.extended=k.extended.clone(),k.extended.underlineStyle=0,k.extended.underlineColor&=-67108864,k.updateExtended()}charAttributes(k){if(k.length===1&&k.params[0]===0)return this._processSGR0(this._curAttrData),!0;const R=k.length;let P;const q=this._curAttrData;for(let I=0;I<R;I++)P=k.params[I],P>=30&&P<=37?(q.fg&=-50331904,q.fg|=16777216|P-30):P>=40&&P<=47?(q.bg&=-50331904,q.bg|=16777216|P-40):P>=90&&P<=97?(q.fg&=-50331904,q.fg|=16777224|P-90):P>=100&&P<=107?(q.bg&=-50331904,q.bg|=16777224|P-100):P===0?this._processSGR0(q):P===1?q.fg|=134217728:P===3?q.bg|=67108864:P===4?(q.fg|=268435456,this._processUnderline(k.hasSubParams(I)?k.getSubParams(I)[0]:1,q)):P===5?q.fg|=536870912:P===7?q.fg|=67108864:P===8?q.fg|=1073741824:P===9?q.fg|=2147483648:P===2?q.bg|=134217728:P===21?this._processUnderline(2,q):P===22?(q.fg&=-134217729,q.bg&=-134217729):P===23?q.bg&=-67108865:P===24?(q.fg&=-268435457,this._processUnderline(0,q)):P===25?q.fg&=-536870913:P===27?q.fg&=-67108865:P===28?q.fg&=-1073741825:P===29?q.fg&=2147483647:P===39?(q.fg&=-67108864,q.fg|=16777215&u.DEFAULT_ATTR_DATA.fg):P===49?(q.bg&=-67108864,q.bg|=16777215&u.DEFAULT_ATTR_DATA.bg):P===38||P===48||P===58?I+=this._extractColor(k,I,q):P===53?q.bg|=1073741824:P===55?q.bg&=-1073741825:P===59?(q.extended=q.extended.clone(),q.extended.underlineColor=-1,q.updateExtended()):P===100?(q.fg&=-67108864,q.fg|=16777215&u.DEFAULT_ATTR_DATA.fg,q.bg&=-67108864,q.bg|=16777215&u.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",P);return!0}deviceStatus(k){switch(k.params[0]){case 5:this._coreService.triggerDataEvent(`${f.C0.ESC}[0n`);break;case 6:const R=this._activeBuffer.y+1,P=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${f.C0.ESC}[${R};${P}R`)}return!0}deviceStatusPrivate(k){if(k.params[0]===6){const R=this._activeBuffer.y+1,P=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${f.C0.ESC}[?${R};${P}R`)}return!0}softReset(k){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=u.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(k){const R=k.params[0]||1;switch(R){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const P=R%2==1;return this._optionsService.options.cursorBlink=P,!0}setScrollRegion(k){const R=k.params[0]||1;let P;return(k.length<2||(P=k.params[1])>this._bufferService.rows||P===0)&&(P=this._bufferService.rows),P>R&&(this._activeBuffer.scrollTop=R-1,this._activeBuffer.scrollBottom=P-1,this._setCursor(0,0)),!0}windowOptions(k){if(!T(k.params[0],this._optionsService.rawOptions.windowOptions))return!0;const R=k.length>1?k.params[1]:0;switch(k.params[0]){case 14:R!==2&&this._onRequestWindowsOptionsReport.fire(O.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(O.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${f.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:R!==0&&R!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),R!==0&&R!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:R!==0&&R!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),R!==0&&R!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(k){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(k){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(k){return this._windowTitle=k,this._onTitleChange.fire(k),!0}setIconName(k){return this._iconName=k,!0}setOrReportIndexedColor(k){const R=[],P=k.split(";");for(;P.length>1;){const q=P.shift(),I=P.shift();if(/^\d+$/.exec(q)){const G=parseInt(q);if(te(G))if(I==="?")R.push({type:0,index:G});else{const M=(0,C.parseColor)(I);M&&R.push({type:1,index:G,color:M})}}}return R.length&&this._onColor.fire(R),!0}setHyperlink(k){const R=k.split(";");return!(R.length<2)&&(R[1]?this._createHyperlink(R[0],R[1]):!R[0]&&this._finishHyperlink())}_createHyperlink(k,R){this._getCurrentLinkId()&&this._finishHyperlink();const P=k.split(":");let q;const I=P.findIndex(G=>G.startsWith("id="));return I!==-1&&(q=P[I].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:q,uri:R}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(k,R){const P=k.split(";");for(let q=0;q<P.length&&!(R>=this._specialColors.length);++q,++R)if(P[q]==="?")this._onColor.fire([{type:0,index:this._specialColors[R]}]);else{const I=(0,C.parseColor)(P[q]);I&&this._onColor.fire([{type:1,index:this._specialColors[R],color:I}])}return!0}setOrReportFgColor(k){return this._setOrReportSpecialColor(k,0)}setOrReportBgColor(k){return this._setOrReportSpecialColor(k,1)}setOrReportCursorColor(k){return this._setOrReportSpecialColor(k,2)}restoreIndexedColor(k){if(!k)return this._onColor.fire([{type:2}]),!0;const R=[],P=k.split(";");for(let q=0;q<P.length;++q)if(/^\d+$/.exec(P[q])){const I=parseInt(P[q]);te(I)&&R.push({type:2,index:I})}return R.length&&this._onColor.fire(R),!0}restoreFgColor(k){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(k){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(k){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,i.DEFAULT_CHARSET),!0}selectCharset(k){return k.length!==2?(this.selectDefaultCharset(),!0):(k[0]==="/"||this._charsetService.setgCharset(A[k[0]],i.CHARSETS[k[1]]||i.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const k=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,k,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=u.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=u.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(k){return this._charsetService.setgLevel(k),!0}screenAlignmentPattern(){const k=new v.CellData;k.content=4194373,k.fg=this._curAttrData.fg,k.bg=this._curAttrData.bg,this._setCursor(0,0);for(let R=0;R<this._bufferService.rows;++R){const P=this._activeBuffer.ybase+this._activeBuffer.y+R,q=this._activeBuffer.lines.get(P);q&&(q.fill(k),q.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(k,R){const P=this._bufferService.buffer,q=this._optionsService.rawOptions;return(I=>(this._coreService.triggerDataEvent(`${f.C0.ESC}${I}${f.C0.ESC}\\`),!0))(k==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:k==='"p'?'P1$r61;1"p':k==="r"?`P1$r${P.scrollTop+1};${P.scrollBottom+1}r`:k==="m"?"P1$r0m":k===" q"?`P1$r${{block:2,underline:4,bar:6}[q.cursorStyle]-(q.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(k,R){this._dirtyRowTracker.markRangeDirty(k,R)}}s.InputHandler=Y;let Z=class{constructor(ee){this._bufferService=ee,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(ee){ee<this.start?this.start=ee:ee>this.end&&(this.end=ee)}markRangeDirty(ee,k){ee>k&&(H=ee,ee=k,k=H),ee<this.start&&(this.start=ee),k>this.end&&(this.end=k)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function te(ee){return 0<=ee&&ee<256}Z=c([a(0,b.IBufferService)],Z)},844:(p,s)=>{function l(c){for(const a of c)a.dispose();c.length=0}Object.defineProperty(s,"__esModule",{value:!0}),s.getDisposeArrayDisposable=s.disposeArray=s.toDisposable=s.MutableDisposable=s.Disposable=void 0,s.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const c of this._disposables)c.dispose();this._disposables.length=0}register(c){return this._disposables.push(c),c}unregister(c){const a=this._disposables.indexOf(c);a!==-1&&this._disposables.splice(a,1)}},s.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(c){var a;this._isDisposed||c===this._value||((a=this._value)===null||a===void 0||a.dispose(),this._value=c)}clear(){this.value=void 0}dispose(){var c;this._isDisposed=!0,(c=this._value)===null||c===void 0||c.dispose(),this._value=void 0}},s.toDisposable=function(c){return{dispose:c}},s.disposeArray=l,s.getDisposeArrayDisposable=function(c){return{dispose:()=>l(c)}}},1505:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.FourKeyMap=s.TwoKeyMap=void 0;class l{constructor(){this._data={}}set(a,f,i){this._data[a]||(this._data[a]={}),this._data[a][f]=i}get(a,f){return this._data[a]?this._data[a][f]:void 0}clear(){this._data={}}}s.TwoKeyMap=l,s.FourKeyMap=class{constructor(){this._data=new l}set(c,a,f,i,d){this._data.get(c,a)||this._data.set(c,a,new l),this._data.get(c,a).set(f,i,d)}get(c,a,f,i){var d;return(d=this._data.get(c,a))===null||d===void 0?void 0:d.get(f,i)}clear(){this._data.clear()}}},6114:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.isChromeOS=s.isLinux=s.isWindows=s.isIphone=s.isIpad=s.isMac=s.getSafariVersion=s.isSafari=s.isLegacyEdge=s.isFirefox=s.isNode=void 0,s.isNode=typeof navigator>"u";const l=s.isNode?"node":navigator.userAgent,c=s.isNode?"node":navigator.platform;s.isFirefox=l.includes("Firefox"),s.isLegacyEdge=l.includes("Edge"),s.isSafari=/^((?!chrome|android).)*safari/i.test(l),s.getSafariVersion=function(){if(!s.isSafari)return 0;const a=l.match(/Version\/(\d+)/);return a===null||a.length<2?0:parseInt(a[1])},s.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(c),s.isIpad=c==="iPad",s.isIphone=c==="iPhone",s.isWindows=["Windows","Win16","Win32","WinCE"].includes(c),s.isLinux=c.indexOf("Linux")>=0,s.isChromeOS=/\bCrOS\b/.test(l)},6106:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.SortedList=void 0;let l=0;s.SortedList=class{constructor(c){this._getKey=c,this._array=[]}clear(){this._array.length=0}insert(c){this._array.length!==0?(l=this._search(this._getKey(c)),this._array.splice(l,0,c)):this._array.push(c)}delete(c){if(this._array.length===0)return!1;const a=this._getKey(c);if(a===void 0||(l=this._search(a),l===-1)||this._getKey(this._array[l])!==a)return!1;do if(this._array[l]===c)return this._array.splice(l,1),!0;while(++l<this._array.length&&this._getKey(this._array[l])===a);return!1}*getKeyIterator(c){if(this._array.length!==0&&(l=this._search(c),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===c))do yield this._array[l];while(++l<this._array.length&&this._getKey(this._array[l])===c)}forEachByKey(c,a){if(this._array.length!==0&&(l=this._search(c),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===c))do a(this._array[l]);while(++l<this._array.length&&this._getKey(this._array[l])===c)}values(){return[...this._array].values()}_search(c){let a=0,f=this._array.length-1;for(;f>=a;){let i=a+f>>1;const d=this._getKey(this._array[i]);if(d>c)f=i-1;else{if(!(d<c)){for(;i>0&&this._getKey(this._array[i-1])===c;)i--;return i}a=i+1}}return a}}},7226:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DebouncedIdleTask=s.IdleTaskQueue=s.PriorityTaskQueue=void 0;const c=l(6114);class a{constructor(){this._tasks=[],this._i=0}enqueue(d){this._tasks.push(d),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(d){this._idleCallback=void 0;let m=0,D=0,u=d.timeRemaining(),_=0;for(;this._i<this._tasks.length;){if(m=Date.now(),this._tasks[this._i]()||this._i++,m=Math.max(1,Date.now()-m),D=Math.max(m,D),_=d.timeRemaining(),1.5*D>_)return u-m<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(u-m))}ms`),void this._start();u=_}this.clear()}}class f extends a{_requestCallback(d){return setTimeout(()=>d(this._createDeadline(16)))}_cancelCallback(d){clearTimeout(d)}_createDeadline(d){const m=Date.now()+d;return{timeRemaining:()=>Math.max(0,m-Date.now())}}}s.PriorityTaskQueue=f,s.IdleTaskQueue=!c.isNode&&"requestIdleCallback"in window?class extends a{_requestCallback(i){return requestIdleCallback(i)}_cancelCallback(i){cancelIdleCallback(i)}}:f,s.DebouncedIdleTask=class{constructor(){this._queue=new s.IdleTaskQueue}set(i){this._queue.clear(),this._queue.enqueue(i)}flush(){this._queue.flush()}}},9282:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.updateWindowsModeWrappedState=void 0;const c=l(643);s.updateWindowsModeWrappedState=function(a){const f=a.buffer.lines.get(a.buffer.ybase+a.buffer.y-1),i=f==null?void 0:f.get(a.cols-1),d=a.buffer.lines.get(a.buffer.ybase+a.buffer.y);d&&i&&(d.isWrapped=i[c.CHAR_DATA_CODE_INDEX]!==c.NULL_CELL_CODE&&i[c.CHAR_DATA_CODE_INDEX]!==c.WHITESPACE_CELL_CODE)}},3734:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ExtendedAttrs=s.AttributeData=void 0;class l{constructor(){this.fg=0,this.bg=0,this.extended=new c}static toColorRGB(f){return[f>>>16&255,f>>>8&255,255&f]}static fromColorRGB(f){return(255&f[0])<<16|(255&f[1])<<8|255&f[2]}clone(){const f=new l;return f.fg=this.fg,f.bg=this.bg,f.extended=this.extended.clone(),f}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}s.AttributeData=l;class c{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(f){this._ext=f}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(f){this._ext&=-469762049,this._ext|=f<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(f){this._ext&=-67108864,this._ext|=67108863&f}get urlId(){return this._urlId}set urlId(f){this._urlId=f}constructor(f=0,i=0){this._ext=0,this._urlId=0,this._ext=f,this._urlId=i}clone(){return new c(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}s.ExtendedAttrs=c},9092:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Buffer=s.MAX_BUFFER_SIZE=void 0;const c=l(6349),a=l(7226),f=l(3734),i=l(8437),d=l(4634),m=l(511),D=l(643),u=l(4863),_=l(7116);s.MAX_BUFFER_SIZE=4294967295,s.Buffer=class{constructor(g,v,y){this._hasScrollback=g,this._optionsService=v,this._bufferService=y,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=i.DEFAULT_ATTR_DATA.clone(),this.savedCharset=_.DEFAULT_CHARSET,this.markers=[],this._nullCell=m.CellData.fromCharData([0,D.NULL_CELL_CHAR,D.NULL_CELL_WIDTH,D.NULL_CELL_CODE]),this._whitespaceCell=m.CellData.fromCharData([0,D.WHITESPACE_CELL_CHAR,D.WHITESPACE_CELL_WIDTH,D.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new a.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new c.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(g){return g?(this._nullCell.fg=g.fg,this._nullCell.bg=g.bg,this._nullCell.extended=g.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new f.ExtendedAttrs),this._nullCell}getWhitespaceCell(g){return g?(this._whitespaceCell.fg=g.fg,this._whitespaceCell.bg=g.bg,this._whitespaceCell.extended=g.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new f.ExtendedAttrs),this._whitespaceCell}getBlankLine(g,v){return new i.BufferLine(this._bufferService.cols,this.getNullCell(g),v)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const g=this.ybase+this.y-this.ydisp;return g>=0&&g<this._rows}_getCorrectBufferLength(g){if(!this._hasScrollback)return g;const v=g+this._optionsService.rawOptions.scrollback;return v>s.MAX_BUFFER_SIZE?s.MAX_BUFFER_SIZE:v}fillViewportRows(g){if(this.lines.length===0){g===void 0&&(g=i.DEFAULT_ATTR_DATA);let v=this._rows;for(;v--;)this.lines.push(this.getBlankLine(g))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new c.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(g,v){const y=this.getNullCell(i.DEFAULT_ATTR_DATA);let b=0;const E=this._getCorrectBufferLength(v);if(E>this.lines.maxLength&&(this.lines.maxLength=E),this.lines.length>0){if(this._cols<g)for(let C=0;C<this.lines.length;C++)b+=+this.lines.get(C).resize(g,y);let F=0;if(this._rows<v)for(let C=this._rows;C<v;C++)this.lines.length<v+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new i.BufferLine(g,y)):this.ybase>0&&this.lines.length<=this.ybase+this.y+F+1?(this.ybase--,F++,this.ydisp>0&&this.ydisp--):this.lines.push(new i.BufferLine(g,y)));else for(let C=this._rows;C>v;C--)this.lines.length>v+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(E<this.lines.maxLength){const C=this.lines.length-E;C>0&&(this.lines.trimStart(C),this.ybase=Math.max(this.ybase-C,0),this.ydisp=Math.max(this.ydisp-C,0),this.savedY=Math.max(this.savedY-C,0)),this.lines.maxLength=E}this.x=Math.min(this.x,g-1),this.y=Math.min(this.y,v-1),F&&(this.y+=F),this.savedX=Math.min(this.savedX,g-1),this.scrollTop=0}if(this.scrollBottom=v-1,this._isReflowEnabled&&(this._reflow(g,v),this._cols>g))for(let F=0;F<this.lines.length;F++)b+=+this.lines.get(F).resize(g,y);this._cols=g,this._rows=v,this._memoryCleanupQueue.clear(),b>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let g=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,g=!1);let v=0;for(;this._memoryCleanupPosition<this.lines.length;)if(v+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),v>100)return!0;return g}get _isReflowEnabled(){const g=this._optionsService.rawOptions.windowsPty;return g&&g.buildNumber?this._hasScrollback&&g.backend==="conpty"&&g.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(g,v){this._cols!==g&&(g>this._cols?this._reflowLarger(g,v):this._reflowSmaller(g,v))}_reflowLarger(g,v){const y=(0,d.reflowLargerGetLinesToRemove)(this.lines,this._cols,g,this.ybase+this.y,this.getNullCell(i.DEFAULT_ATTR_DATA));if(y.length>0){const b=(0,d.reflowLargerCreateNewLayout)(this.lines,y);(0,d.reflowLargerApplyNewLayout)(this.lines,b.layout),this._reflowLargerAdjustViewport(g,v,b.countRemoved)}}_reflowLargerAdjustViewport(g,v,y){const b=this.getNullCell(i.DEFAULT_ATTR_DATA);let E=y;for(;E-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<v&&this.lines.push(new i.BufferLine(g,b))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-y,0)}_reflowSmaller(g,v){const y=this.getNullCell(i.DEFAULT_ATTR_DATA),b=[];let E=0;for(let F=this.lines.length-1;F>=0;F--){let C=this.lines.get(F);if(!C||!C.isWrapped&&C.getTrimmedLength()<=g)continue;const A=[C];for(;C.isWrapped&&F>0;)C=this.lines.get(--F),A.unshift(C);const L=this.ybase+this.y;if(L>=F&&L<F+A.length)continue;const T=A[A.length-1].getTrimmedLength(),O=(0,d.reflowSmallerGetNewLineLengths)(A,this._cols,g),H=O.length-A.length;let Y;Y=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+H):Math.max(0,this.lines.length-this.lines.maxLength+H);const Z=[];for(let q=0;q<H;q++){const I=this.getBlankLine(i.DEFAULT_ATTR_DATA,!0);Z.push(I)}Z.length>0&&(b.push({start:F+A.length+E,newLines:Z}),E+=Z.length),A.push(...Z);let te=O.length-1,ee=O[te];ee===0&&(te--,ee=O[te]);let k=A.length-H-1,R=T;for(;k>=0;){const q=Math.min(R,ee);if(A[te]===void 0)break;if(A[te].copyCellsFrom(A[k],R-q,ee-q,q,!0),ee-=q,ee===0&&(te--,ee=O[te]),R-=q,R===0){k--;const I=Math.max(k,0);R=(0,d.getWrappedLineTrimmedLength)(A,I,this._cols)}}for(let q=0;q<A.length;q++)O[q]<g&&A[q].setCell(O[q],y);let P=H-Y;for(;P-- >0;)this.ybase===0?this.y<v-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+E)-v&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+H,this.ybase+v-1)}if(b.length>0){const F=[],C=[];for(let te=0;te<this.lines.length;te++)C.push(this.lines.get(te));const A=this.lines.length;let L=A-1,T=0,O=b[T];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+E);let H=0;for(let te=Math.min(this.lines.maxLength-1,A+E-1);te>=0;te--)if(O&&O.start>L+H){for(let ee=O.newLines.length-1;ee>=0;ee--)this.lines.set(te--,O.newLines[ee]);te++,F.push({index:L+1,amount:O.newLines.length}),H+=O.newLines.length,O=b[++T]}else this.lines.set(te,C[L--]);let Y=0;for(let te=F.length-1;te>=0;te--)F[te].index+=Y,this.lines.onInsertEmitter.fire(F[te]),Y+=F[te].amount;const Z=Math.max(0,A+E-this.lines.maxLength);Z>0&&this.lines.onTrimEmitter.fire(Z)}}translateBufferLineToString(g,v,y=0,b){const E=this.lines.get(g);return E?E.translateToString(v,y,b):""}getWrappedRangeForLine(g){let v=g,y=g;for(;v>0&&this.lines.get(v).isWrapped;)v--;for(;y+1<this.lines.length&&this.lines.get(y+1).isWrapped;)y++;return{first:v,last:y}}setupTabStops(g){for(g!=null?this.tabs[g]||(g=this.prevStop(g)):(this.tabs={},g=0);g<this._cols;g+=this._optionsService.rawOptions.tabStopWidth)this.tabs[g]=!0}prevStop(g){for(g==null&&(g=this.x);!this.tabs[--g]&&g>0;);return g>=this._cols?this._cols-1:g<0?0:g}nextStop(g){for(g==null&&(g=this.x);!this.tabs[++g]&&g<this._cols;);return g>=this._cols?this._cols-1:g<0?0:g}clearMarkers(g){this._isClearing=!0;for(let v=0;v<this.markers.length;v++)this.markers[v].line===g&&(this.markers[v].dispose(),this.markers.splice(v--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let g=0;g<this.markers.length;g++)this.markers[g].dispose(),this.markers.splice(g--,1);this._isClearing=!1}addMarker(g){const v=new u.Marker(g);return this.markers.push(v),v.register(this.lines.onTrim(y=>{v.line-=y,v.line<0&&v.dispose()})),v.register(this.lines.onInsert(y=>{v.line>=y.index&&(v.line+=y.amount)})),v.register(this.lines.onDelete(y=>{v.line>=y.index&&v.line<y.index+y.amount&&v.dispose(),v.line>y.index&&(v.line-=y.amount)})),v.register(v.onDispose(()=>this._removeMarker(v))),v}_removeMarker(g){this._isClearing||this.markers.splice(this.markers.indexOf(g),1)}}},8437:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferLine=s.DEFAULT_ATTR_DATA=void 0;const c=l(3734),a=l(511),f=l(643),i=l(482);s.DEFAULT_ATTR_DATA=Object.freeze(new c.AttributeData);let d=0;class m{constructor(u,_,g=!1){this.isWrapped=g,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*u);const v=_||a.CellData.fromCharData([0,f.NULL_CELL_CHAR,f.NULL_CELL_WIDTH,f.NULL_CELL_CODE]);for(let y=0;y<u;++y)this.setCell(y,v);this.length=u}get(u){const _=this._data[3*u+0],g=2097151&_;return[this._data[3*u+1],2097152&_?this._combined[u]:g?(0,i.stringFromCodePoint)(g):"",_>>22,2097152&_?this._combined[u].charCodeAt(this._combined[u].length-1):g]}set(u,_){this._data[3*u+1]=_[f.CHAR_DATA_ATTR_INDEX],_[f.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[u]=_[1],this._data[3*u+0]=2097152|u|_[f.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*u+0]=_[f.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|_[f.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(u){return this._data[3*u+0]>>22}hasWidth(u){return 12582912&this._data[3*u+0]}getFg(u){return this._data[3*u+1]}getBg(u){return this._data[3*u+2]}hasContent(u){return 4194303&this._data[3*u+0]}getCodePoint(u){const _=this._data[3*u+0];return 2097152&_?this._combined[u].charCodeAt(this._combined[u].length-1):2097151&_}isCombined(u){return 2097152&this._data[3*u+0]}getString(u){const _=this._data[3*u+0];return 2097152&_?this._combined[u]:2097151&_?(0,i.stringFromCodePoint)(2097151&_):""}isProtected(u){return 536870912&this._data[3*u+2]}loadCell(u,_){return d=3*u,_.content=this._data[d+0],_.fg=this._data[d+1],_.bg=this._data[d+2],2097152&_.content&&(_.combinedData=this._combined[u]),268435456&_.bg&&(_.extended=this._extendedAttrs[u]),_}setCell(u,_){2097152&_.content&&(this._combined[u]=_.combinedData),268435456&_.bg&&(this._extendedAttrs[u]=_.extended),this._data[3*u+0]=_.content,this._data[3*u+1]=_.fg,this._data[3*u+2]=_.bg}setCellFromCodePoint(u,_,g,v,y,b){268435456&y&&(this._extendedAttrs[u]=b),this._data[3*u+0]=_|g<<22,this._data[3*u+1]=v,this._data[3*u+2]=y}addCodepointToCell(u,_){let g=this._data[3*u+0];2097152&g?this._combined[u]+=(0,i.stringFromCodePoint)(_):(2097151&g?(this._combined[u]=(0,i.stringFromCodePoint)(2097151&g)+(0,i.stringFromCodePoint)(_),g&=-2097152,g|=2097152):g=_|4194304,this._data[3*u+0]=g)}insertCells(u,_,g,v){if((u%=this.length)&&this.getWidth(u-1)===2&&this.setCellFromCodePoint(u-1,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new c.ExtendedAttrs),_<this.length-u){const y=new a.CellData;for(let b=this.length-u-_-1;b>=0;--b)this.setCell(u+_+b,this.loadCell(u+b,y));for(let b=0;b<_;++b)this.setCell(u+b,g)}else for(let y=u;y<this.length;++y)this.setCell(y,g);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new c.ExtendedAttrs)}deleteCells(u,_,g,v){if(u%=this.length,_<this.length-u){const y=new a.CellData;for(let b=0;b<this.length-u-_;++b)this.setCell(u+b,this.loadCell(u+_+b,y));for(let b=this.length-_;b<this.length;++b)this.setCell(b,g)}else for(let y=u;y<this.length;++y)this.setCell(y,g);u&&this.getWidth(u-1)===2&&this.setCellFromCodePoint(u-1,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new c.ExtendedAttrs),this.getWidth(u)!==0||this.hasContent(u)||this.setCellFromCodePoint(u,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new c.ExtendedAttrs)}replaceCells(u,_,g,v,y=!1){if(y)for(u&&this.getWidth(u-1)===2&&!this.isProtected(u-1)&&this.setCellFromCodePoint(u-1,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new c.ExtendedAttrs),_<this.length&&this.getWidth(_-1)===2&&!this.isProtected(_)&&this.setCellFromCodePoint(_,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new c.ExtendedAttrs);u<_&&u<this.length;)this.isProtected(u)||this.setCell(u,g),u++;else for(u&&this.getWidth(u-1)===2&&this.setCellFromCodePoint(u-1,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new c.ExtendedAttrs),_<this.length&&this.getWidth(_-1)===2&&this.setCellFromCodePoint(_,0,1,(v==null?void 0:v.fg)||0,(v==null?void 0:v.bg)||0,(v==null?void 0:v.extended)||new c.ExtendedAttrs);u<_&&u<this.length;)this.setCell(u++,g)}resize(u,_){if(u===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const g=3*u;if(u>this.length){if(this._data.buffer.byteLength>=4*g)this._data=new Uint32Array(this._data.buffer,0,g);else{const v=new Uint32Array(g);v.set(this._data),this._data=v}for(let v=this.length;v<u;++v)this.setCell(v,_)}else{this._data=this._data.subarray(0,g);const v=Object.keys(this._combined);for(let b=0;b<v.length;b++){const E=parseInt(v[b],10);E>=u&&delete this._combined[E]}const y=Object.keys(this._extendedAttrs);for(let b=0;b<y.length;b++){const E=parseInt(y[b],10);E>=u&&delete this._extendedAttrs[E]}}return this.length=u,4*g*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const u=new Uint32Array(this._data.length);return u.set(this._data),this._data=u,1}return 0}fill(u,_=!1){if(_)for(let g=0;g<this.length;++g)this.isProtected(g)||this.setCell(g,u);else{this._combined={},this._extendedAttrs={};for(let g=0;g<this.length;++g)this.setCell(g,u)}}copyFrom(u){this.length!==u.length?this._data=new Uint32Array(u._data):this._data.set(u._data),this.length=u.length,this._combined={};for(const _ in u._combined)this._combined[_]=u._combined[_];this._extendedAttrs={};for(const _ in u._extendedAttrs)this._extendedAttrs[_]=u._extendedAttrs[_];this.isWrapped=u.isWrapped}clone(){const u=new m(0);u._data=new Uint32Array(this._data),u.length=this.length;for(const _ in this._combined)u._combined[_]=this._combined[_];for(const _ in this._extendedAttrs)u._extendedAttrs[_]=this._extendedAttrs[_];return u.isWrapped=this.isWrapped,u}getTrimmedLength(){for(let u=this.length-1;u>=0;--u)if(4194303&this._data[3*u+0])return u+(this._data[3*u+0]>>22);return 0}getNoBgTrimmedLength(){for(let u=this.length-1;u>=0;--u)if(4194303&this._data[3*u+0]||50331648&this._data[3*u+2])return u+(this._data[3*u+0]>>22);return 0}copyCellsFrom(u,_,g,v,y){const b=u._data;if(y)for(let F=v-1;F>=0;F--){for(let C=0;C<3;C++)this._data[3*(g+F)+C]=b[3*(_+F)+C];268435456&b[3*(_+F)+2]&&(this._extendedAttrs[g+F]=u._extendedAttrs[_+F])}else for(let F=0;F<v;F++){for(let C=0;C<3;C++)this._data[3*(g+F)+C]=b[3*(_+F)+C];268435456&b[3*(_+F)+2]&&(this._extendedAttrs[g+F]=u._extendedAttrs[_+F])}const E=Object.keys(u._combined);for(let F=0;F<E.length;F++){const C=parseInt(E[F],10);C>=_&&(this._combined[C-_+g]=u._combined[C])}}translateToString(u=!1,_=0,g=this.length){u&&(g=Math.min(g,this.getTrimmedLength()));let v="";for(;_<g;){const y=this._data[3*_+0],b=2097151&y;v+=2097152&y?this._combined[_]:b?(0,i.stringFromCodePoint)(b):f.WHITESPACE_CELL_CHAR,_+=y>>22||1}return v}}s.BufferLine=m},4841:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.getRangeLength=void 0,s.getRangeLength=function(l,c){if(l.start.y>l.end.y)throw new Error(`Buffer range end (${l.end.x}, ${l.end.y}) cannot be before start (${l.start.x}, ${l.start.y})`);return c*(l.end.y-l.start.y)+(l.end.x-l.start.x+1)}},4634:(p,s)=>{function l(c,a,f){if(a===c.length-1)return c[a].getTrimmedLength();const i=!c[a].hasContent(f-1)&&c[a].getWidth(f-1)===1,d=c[a+1].getWidth(0)===2;return i&&d?f-1:f}Object.defineProperty(s,"__esModule",{value:!0}),s.getWrappedLineTrimmedLength=s.reflowSmallerGetNewLineLengths=s.reflowLargerApplyNewLayout=s.reflowLargerCreateNewLayout=s.reflowLargerGetLinesToRemove=void 0,s.reflowLargerGetLinesToRemove=function(c,a,f,i,d){const m=[];for(let D=0;D<c.length-1;D++){let u=D,_=c.get(++u);if(!_.isWrapped)continue;const g=[c.get(D)];for(;u<c.length&&_.isWrapped;)g.push(_),_=c.get(++u);if(i>=D&&i<u){D+=g.length-1;continue}let v=0,y=l(g,v,a),b=1,E=0;for(;b<g.length;){const C=l(g,b,a),A=C-E,L=f-y,T=Math.min(A,L);g[v].copyCellsFrom(g[b],E,y,T,!1),y+=T,y===f&&(v++,y=0),E+=T,E===C&&(b++,E=0),y===0&&v!==0&&g[v-1].getWidth(f-1)===2&&(g[v].copyCellsFrom(g[v-1],f-1,y++,1,!1),g[v-1].setCell(f-1,d))}g[v].replaceCells(y,f,d);let F=0;for(let C=g.length-1;C>0&&(C>v||g[C].getTrimmedLength()===0);C--)F++;F>0&&(m.push(D+g.length-F),m.push(F)),D+=g.length-1}return m},s.reflowLargerCreateNewLayout=function(c,a){const f=[];let i=0,d=a[i],m=0;for(let D=0;D<c.length;D++)if(d===D){const u=a[++i];c.onDeleteEmitter.fire({index:D-m,amount:u}),D+=u-1,m+=u,d=a[++i]}else f.push(D);return{layout:f,countRemoved:m}},s.reflowLargerApplyNewLayout=function(c,a){const f=[];for(let i=0;i<a.length;i++)f.push(c.get(a[i]));for(let i=0;i<f.length;i++)c.set(i,f[i]);c.length=a.length},s.reflowSmallerGetNewLineLengths=function(c,a,f){const i=[],d=c.map((_,g)=>l(c,g,a)).reduce((_,g)=>_+g);let m=0,D=0,u=0;for(;u<d;){if(d-u<f){i.push(d-u);break}m+=f;const _=l(c,D,a);m>_&&(m-=_,D++);const g=c[D].getWidth(m-1)===2;g&&m--;const v=g?f-1:f;i.push(v),u+=v}return i},s.getWrappedLineTrimmedLength=l},5295:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferSet=void 0;const c=l(8460),a=l(844),f=l(9092);class i extends a.Disposable{constructor(m,D){super(),this._optionsService=m,this._bufferService=D,this._onBufferActivate=this.register(new c.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new f.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new f.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(m){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(m),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(m,D){this._normal.resize(m,D),this._alt.resize(m,D),this.setupTabStops(m)}setupTabStops(m){this._normal.setupTabStops(m),this._alt.setupTabStops(m)}}s.BufferSet=i},511:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CellData=void 0;const c=l(482),a=l(643),f=l(3734);class i extends f.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new f.ExtendedAttrs,this.combinedData=""}static fromCharData(m){const D=new i;return D.setFromCharData(m),D}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,c.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(m){this.fg=m[a.CHAR_DATA_ATTR_INDEX],this.bg=0;let D=!1;if(m[a.CHAR_DATA_CHAR_INDEX].length>2)D=!0;else if(m[a.CHAR_DATA_CHAR_INDEX].length===2){const u=m[a.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=u&&u<=56319){const _=m[a.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=_&&_<=57343?this.content=1024*(u-55296)+_-56320+65536|m[a.CHAR_DATA_WIDTH_INDEX]<<22:D=!0}else D=!0}else this.content=m[a.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|m[a.CHAR_DATA_WIDTH_INDEX]<<22;D&&(this.combinedData=m[a.CHAR_DATA_CHAR_INDEX],this.content=2097152|m[a.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}s.CellData=i},643:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WHITESPACE_CELL_CODE=s.WHITESPACE_CELL_WIDTH=s.WHITESPACE_CELL_CHAR=s.NULL_CELL_CODE=s.NULL_CELL_WIDTH=s.NULL_CELL_CHAR=s.CHAR_DATA_CODE_INDEX=s.CHAR_DATA_WIDTH_INDEX=s.CHAR_DATA_CHAR_INDEX=s.CHAR_DATA_ATTR_INDEX=s.DEFAULT_EXT=s.DEFAULT_ATTR=s.DEFAULT_COLOR=void 0,s.DEFAULT_COLOR=0,s.DEFAULT_ATTR=256|s.DEFAULT_COLOR<<9,s.DEFAULT_EXT=0,s.CHAR_DATA_ATTR_INDEX=0,s.CHAR_DATA_CHAR_INDEX=1,s.CHAR_DATA_WIDTH_INDEX=2,s.CHAR_DATA_CODE_INDEX=3,s.NULL_CELL_CHAR="",s.NULL_CELL_WIDTH=1,s.NULL_CELL_CODE=0,s.WHITESPACE_CELL_CHAR=" ",s.WHITESPACE_CELL_WIDTH=1,s.WHITESPACE_CELL_CODE=32},4863:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Marker=void 0;const c=l(8460),a=l(844);class f{get id(){return this._id}constructor(d){this.line=d,this.isDisposed=!1,this._disposables=[],this._id=f._nextId++,this._onDispose=this.register(new c.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,a.disposeArray)(this._disposables),this._disposables.length=0)}register(d){return this._disposables.push(d),d}}s.Marker=f,f._nextId=1},7116:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DEFAULT_CHARSET=s.CHARSETS=void 0,s.CHARSETS={},s.DEFAULT_CHARSET=s.CHARSETS.B,s.CHARSETS[0]={"`":"â",a:"â",b:"â",c:"â",d:"â",e:"â",f:"Â°",g:"Â±",h:"â¤",i:"â",j:"â",k:"â",l:"â",m:"â",n:"â¼",o:"âº",p:"â»",q:"â",r:"â¼",s:"â½",t:"â",u:"â¤",v:"â´",w:"â¬",x:"â",y:"â¤",z:"â¥","{":"Ï","|":"â ","}":"Â£","~":"Â·"},s.CHARSETS.A={"#":"Â£"},s.CHARSETS.B=void 0,s.CHARSETS[4]={"#":"Â£","@":"Â¾","[":"ij","\\":"Â½","]":"|","{":"Â¨","|":"f","}":"Â¼","~":"Â´"},s.CHARSETS.C=s.CHARSETS[5]={"[":"Ã","\\":"Ã","]":"Ã","^":"Ã","`":"Ã©","{":"Ã¤","|":"Ã¶","}":"Ã¥","~":"Ã¼"},s.CHARSETS.R={"#":"Â£","@":"Ã ","[":"Â°","\\":"Ã§","]":"Â§","{":"Ã©","|":"Ã¹","}":"Ã¨","~":"Â¨"},s.CHARSETS.Q={"@":"Ã ","[":"Ã¢","\\":"Ã§","]":"Ãª","^":"Ã®","`":"Ã´","{":"Ã©","|":"Ã¹","}":"Ã¨","~":"Ã»"},s.CHARSETS.K={"@":"Â§","[":"Ã","\\":"Ã","]":"Ã","{":"Ã¤","|":"Ã¶","}":"Ã¼","~":"Ã"},s.CHARSETS.Y={"#":"Â£","@":"Â§","[":"Â°","\\":"Ã§","]":"Ã©","`":"Ã¹","{":"Ã ","|":"Ã²","}":"Ã¨","~":"Ã¬"},s.CHARSETS.E=s.CHARSETS[6]={"@":"Ã","[":"Ã","\\":"Ã","]":"Ã","^":"Ã","`":"Ã¤","{":"Ã¦","|":"Ã¸","}":"Ã¥","~":"Ã¼"},s.CHARSETS.Z={"#":"Â£","@":"Â§","[":"Â¡","\\":"Ã","]":"Â¿","{":"Â°","|":"Ã±","}":"Ã§"},s.CHARSETS.H=s.CHARSETS[7]={"@":"Ã","[":"Ã","\\":"Ã","]":"Ã","^":"Ã","`":"Ã©","{":"Ã¤","|":"Ã¶","}":"Ã¥","~":"Ã¼"},s.CHARSETS["="]={"#":"Ã¹","@":"Ã ","[":"Ã©","\\":"Ã§","]":"Ãª","^":"Ã®",_:"Ã¨","`":"Ã´","{":"Ã¤","|":"Ã¶","}":"Ã¼","~":"Ã»"}},2584:(p,s)=>{var l,c,a;Object.defineProperty(s,"__esModule",{value:!0}),s.C1_ESCAPED=s.C1=s.C0=void 0,function(f){f.NUL="\0",f.SOH="",f.STX="",f.ETX="",f.EOT="",f.ENQ="",f.ACK="",f.BEL="\x07",f.BS="\b",f.HT="	",f.LF=`
`,f.VT="\v",f.FF="\f",f.CR="\r",f.SO="",f.SI="",f.DLE="",f.DC1="",f.DC2="",f.DC3="",f.DC4="",f.NAK="",f.SYN="",f.ETB="",f.CAN="",f.EM="",f.SUB="",f.ESC="\x1B",f.FS="",f.GS="",f.RS="",f.US="",f.SP=" ",f.DEL=""}(l||(s.C0=l={})),function(f){f.PAD="Â",f.HOP="Â",f.BPH="Â",f.NBH="Â",f.IND="Â",f.NEL="Â",f.SSA="Â",f.ESA="Â",f.HTS="Â",f.HTJ="Â",f.VTS="Â",f.PLD="Â",f.PLU="Â",f.RI="Â",f.SS2="Â",f.SS3="Â",f.DCS="Â",f.PU1="Â",f.PU2="Â",f.STS="Â",f.CCH="Â",f.MW="Â",f.SPA="Â",f.EPA="Â",f.SOS="Â",f.SGCI="Â",f.SCI="Â",f.CSI="Â",f.ST="Â",f.OSC="Â",f.PM="Â",f.APC="Â"}(c||(s.C1=c={})),function(f){f.ST=`${l.ESC}\\`}(a||(s.C1_ESCAPED=a={}))},7399:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.evaluateKeyboardEvent=void 0;const c=l(2584),a={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};s.evaluateKeyboardEvent=function(f,i,d,m){const D={type:0,cancel:!1,key:void 0},u=(f.shiftKey?1:0)|(f.altKey?2:0)|(f.ctrlKey?4:0)|(f.metaKey?8:0);switch(f.keyCode){case 0:f.key==="UIKeyInputUpArrow"?D.key=i?c.C0.ESC+"OA":c.C0.ESC+"[A":f.key==="UIKeyInputLeftArrow"?D.key=i?c.C0.ESC+"OD":c.C0.ESC+"[D":f.key==="UIKeyInputRightArrow"?D.key=i?c.C0.ESC+"OC":c.C0.ESC+"[C":f.key==="UIKeyInputDownArrow"&&(D.key=i?c.C0.ESC+"OB":c.C0.ESC+"[B");break;case 8:if(f.altKey){D.key=c.C0.ESC+c.C0.DEL;break}D.key=c.C0.DEL;break;case 9:if(f.shiftKey){D.key=c.C0.ESC+"[Z";break}D.key=c.C0.HT,D.cancel=!0;break;case 13:D.key=f.altKey?c.C0.ESC+c.C0.CR:c.C0.CR,D.cancel=!0;break;case 27:D.key=c.C0.ESC,f.altKey&&(D.key=c.C0.ESC+c.C0.ESC),D.cancel=!0;break;case 37:if(f.metaKey)break;u?(D.key=c.C0.ESC+"[1;"+(u+1)+"D",D.key===c.C0.ESC+"[1;3D"&&(D.key=c.C0.ESC+(d?"b":"[1;5D"))):D.key=i?c.C0.ESC+"OD":c.C0.ESC+"[D";break;case 39:if(f.metaKey)break;u?(D.key=c.C0.ESC+"[1;"+(u+1)+"C",D.key===c.C0.ESC+"[1;3C"&&(D.key=c.C0.ESC+(d?"f":"[1;5C"))):D.key=i?c.C0.ESC+"OC":c.C0.ESC+"[C";break;case 38:if(f.metaKey)break;u?(D.key=c.C0.ESC+"[1;"+(u+1)+"A",d||D.key!==c.C0.ESC+"[1;3A"||(D.key=c.C0.ESC+"[1;5A")):D.key=i?c.C0.ESC+"OA":c.C0.ESC+"[A";break;case 40:if(f.metaKey)break;u?(D.key=c.C0.ESC+"[1;"+(u+1)+"B",d||D.key!==c.C0.ESC+"[1;3B"||(D.key=c.C0.ESC+"[1;5B")):D.key=i?c.C0.ESC+"OB":c.C0.ESC+"[B";break;case 45:f.shiftKey||f.ctrlKey||(D.key=c.C0.ESC+"[2~");break;case 46:D.key=u?c.C0.ESC+"[3;"+(u+1)+"~":c.C0.ESC+"[3~";break;case 36:D.key=u?c.C0.ESC+"[1;"+(u+1)+"H":i?c.C0.ESC+"OH":c.C0.ESC+"[H";break;case 35:D.key=u?c.C0.ESC+"[1;"+(u+1)+"F":i?c.C0.ESC+"OF":c.C0.ESC+"[F";break;case 33:f.shiftKey?D.type=2:f.ctrlKey?D.key=c.C0.ESC+"[5;"+(u+1)+"~":D.key=c.C0.ESC+"[5~";break;case 34:f.shiftKey?D.type=3:f.ctrlKey?D.key=c.C0.ESC+"[6;"+(u+1)+"~":D.key=c.C0.ESC+"[6~";break;case 112:D.key=u?c.C0.ESC+"[1;"+(u+1)+"P":c.C0.ESC+"OP";break;case 113:D.key=u?c.C0.ESC+"[1;"+(u+1)+"Q":c.C0.ESC+"OQ";break;case 114:D.key=u?c.C0.ESC+"[1;"+(u+1)+"R":c.C0.ESC+"OR";break;case 115:D.key=u?c.C0.ESC+"[1;"+(u+1)+"S":c.C0.ESC+"OS";break;case 116:D.key=u?c.C0.ESC+"[15;"+(u+1)+"~":c.C0.ESC+"[15~";break;case 117:D.key=u?c.C0.ESC+"[17;"+(u+1)+"~":c.C0.ESC+"[17~";break;case 118:D.key=u?c.C0.ESC+"[18;"+(u+1)+"~":c.C0.ESC+"[18~";break;case 119:D.key=u?c.C0.ESC+"[19;"+(u+1)+"~":c.C0.ESC+"[19~";break;case 120:D.key=u?c.C0.ESC+"[20;"+(u+1)+"~":c.C0.ESC+"[20~";break;case 121:D.key=u?c.C0.ESC+"[21;"+(u+1)+"~":c.C0.ESC+"[21~";break;case 122:D.key=u?c.C0.ESC+"[23;"+(u+1)+"~":c.C0.ESC+"[23~";break;case 123:D.key=u?c.C0.ESC+"[24;"+(u+1)+"~":c.C0.ESC+"[24~";break;default:if(!f.ctrlKey||f.shiftKey||f.altKey||f.metaKey)if(d&&!m||!f.altKey||f.metaKey)!d||f.altKey||f.ctrlKey||f.shiftKey||!f.metaKey?f.key&&!f.ctrlKey&&!f.altKey&&!f.metaKey&&f.keyCode>=48&&f.key.length===1?D.key=f.key:f.key&&f.ctrlKey&&(f.key==="_"&&(D.key=c.C0.US),f.key==="@"&&(D.key=c.C0.NUL)):f.keyCode===65&&(D.type=1);else{const _=a[f.keyCode],g=_==null?void 0:_[f.shiftKey?1:0];if(g)D.key=c.C0.ESC+g;else if(f.keyCode>=65&&f.keyCode<=90){const v=f.ctrlKey?f.keyCode-64:f.keyCode+32;let y=String.fromCharCode(v);f.shiftKey&&(y=y.toUpperCase()),D.key=c.C0.ESC+y}else if(f.keyCode===32)D.key=c.C0.ESC+(f.ctrlKey?c.C0.NUL:" ");else if(f.key==="Dead"&&f.code.startsWith("Key")){let v=f.code.slice(3,4);f.shiftKey||(v=v.toLowerCase()),D.key=c.C0.ESC+v,D.cancel=!0}}else f.keyCode>=65&&f.keyCode<=90?D.key=String.fromCharCode(f.keyCode-64):f.keyCode===32?D.key=c.C0.NUL:f.keyCode>=51&&f.keyCode<=55?D.key=String.fromCharCode(f.keyCode-51+27):f.keyCode===56?D.key=c.C0.DEL:f.keyCode===219?D.key=c.C0.ESC:f.keyCode===220?D.key=c.C0.FS:f.keyCode===221&&(D.key=c.C0.GS)}return D}},482:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Utf8ToUtf32=s.StringToUtf32=s.utf32ToString=s.stringFromCodePoint=void 0,s.stringFromCodePoint=function(l){return l>65535?(l-=65536,String.fromCharCode(55296+(l>>10))+String.fromCharCode(l%1024+56320)):String.fromCharCode(l)},s.utf32ToString=function(l,c=0,a=l.length){let f="";for(let i=c;i<a;++i){let d=l[i];d>65535?(d-=65536,f+=String.fromCharCode(55296+(d>>10))+String.fromCharCode(d%1024+56320)):f+=String.fromCharCode(d)}return f},s.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(l,c){const a=l.length;if(!a)return 0;let f=0,i=0;if(this._interim){const d=l.charCodeAt(i++);56320<=d&&d<=57343?c[f++]=1024*(this._interim-55296)+d-56320+65536:(c[f++]=this._interim,c[f++]=d),this._interim=0}for(let d=i;d<a;++d){const m=l.charCodeAt(d);if(55296<=m&&m<=56319){if(++d>=a)return this._interim=m,f;const D=l.charCodeAt(d);56320<=D&&D<=57343?c[f++]=1024*(m-55296)+D-56320+65536:(c[f++]=m,c[f++]=D)}else m!==65279&&(c[f++]=m)}return f}},s.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(l,c){const a=l.length;if(!a)return 0;let f,i,d,m,D=0,u=0,_=0;if(this.interim[0]){let y=!1,b=this.interim[0];b&=(224&b)==192?31:(240&b)==224?15:7;let E,F=0;for(;(E=63&this.interim[++F])&&F<4;)b<<=6,b|=E;const C=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,A=C-F;for(;_<A;){if(_>=a)return 0;if(E=l[_++],(192&E)!=128){_--,y=!0;break}this.interim[F++]=E,b<<=6,b|=63&E}y||(C===2?b<128?_--:c[D++]=b:C===3?b<2048||b>=55296&&b<=57343||b===65279||(c[D++]=b):b<65536||b>1114111||(c[D++]=b)),this.interim.fill(0)}const g=a-4;let v=_;for(;v<a;){for(;!(!(v<g)||128&(f=l[v])||128&(i=l[v+1])||128&(d=l[v+2])||128&(m=l[v+3]));)c[D++]=f,c[D++]=i,c[D++]=d,c[D++]=m,v+=4;if(f=l[v++],f<128)c[D++]=f;else if((224&f)==192){if(v>=a)return this.interim[0]=f,D;if(i=l[v++],(192&i)!=128){v--;continue}if(u=(31&f)<<6|63&i,u<128){v--;continue}c[D++]=u}else if((240&f)==224){if(v>=a)return this.interim[0]=f,D;if(i=l[v++],(192&i)!=128){v--;continue}if(v>=a)return this.interim[0]=f,this.interim[1]=i,D;if(d=l[v++],(192&d)!=128){v--;continue}if(u=(15&f)<<12|(63&i)<<6|63&d,u<2048||u>=55296&&u<=57343||u===65279)continue;c[D++]=u}else if((248&f)==240){if(v>=a)return this.interim[0]=f,D;if(i=l[v++],(192&i)!=128){v--;continue}if(v>=a)return this.interim[0]=f,this.interim[1]=i,D;if(d=l[v++],(192&d)!=128){v--;continue}if(v>=a)return this.interim[0]=f,this.interim[1]=i,this.interim[2]=d,D;if(m=l[v++],(192&m)!=128){v--;continue}if(u=(7&f)<<18|(63&i)<<12|(63&d)<<6|63&m,u<65536||u>1114111)continue;c[D++]=u}}return D}}},225:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UnicodeV6=void 0;const l=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],c=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let a;s.UnicodeV6=class{constructor(){if(this.version="6",!a){a=new Uint8Array(65536),a.fill(1),a[0]=0,a.fill(0,1,32),a.fill(0,127,160),a.fill(2,4352,4448),a[9001]=2,a[9002]=2,a.fill(2,11904,42192),a[12351]=1,a.fill(2,44032,55204),a.fill(2,63744,64256),a.fill(2,65040,65050),a.fill(2,65072,65136),a.fill(2,65280,65377),a.fill(2,65504,65511);for(let f=0;f<l.length;++f)a.fill(0,l[f][0],l[f][1]+1)}}wcwidth(f){return f<32?0:f<127?1:f<65536?a[f]:function(i,d){let m,D=0,u=d.length-1;if(i<d[0][0]||i>d[u][1])return!1;for(;u>=D;)if(m=D+u>>1,i>d[m][1])D=m+1;else{if(!(i<d[m][0]))return!0;u=m-1}return!1}(f,c)?0:f>=131072&&f<=196605||f>=196608&&f<=262141?2:1}}},5981:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.WriteBuffer=void 0;const c=l(8460),a=l(844);class f extends a.Disposable{constructor(d){super(),this._action=d,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new c.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(d,m){if(m!==void 0&&this._syncCalls>m)return void(this._syncCalls=0);if(this._pendingData+=d.length,this._writeBuffer.push(d),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let D;for(this._isSyncWriting=!0;D=this._writeBuffer.shift();){this._action(D);const u=this._callbacks.shift();u&&u()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(d,m){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=d.length,this._writeBuffer.push(d),this._callbacks.push(m),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=d.length,this._writeBuffer.push(d),this._callbacks.push(m)}_innerWrite(d=0,m=!0){const D=d||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const u=this._writeBuffer[this._bufferOffset],_=this._action(u,m);if(_){const v=y=>Date.now()-D>=12?setTimeout(()=>this._innerWrite(0,y)):this._innerWrite(D,y);return void _.catch(y=>(queueMicrotask(()=>{throw y}),Promise.resolve(!1))).then(v)}const g=this._callbacks[this._bufferOffset];if(g&&g(),this._bufferOffset++,this._pendingData-=u.length,Date.now()-D>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}s.WriteBuffer=f},5941:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.toRgbString=s.parseColor=void 0;const l=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,c=/^[\da-f]+$/;function a(f,i){const d=f.toString(16),m=d.length<2?"0"+d:d;switch(i){case 4:return d[0];case 8:return m;case 12:return(m+m).slice(0,3);default:return m+m}}s.parseColor=function(f){if(!f)return;let i=f.toLowerCase();if(i.indexOf("rgb:")===0){i=i.slice(4);const d=l.exec(i);if(d){const m=d[1]?15:d[4]?255:d[7]?4095:65535;return[Math.round(parseInt(d[1]||d[4]||d[7]||d[10],16)/m*255),Math.round(parseInt(d[2]||d[5]||d[8]||d[11],16)/m*255),Math.round(parseInt(d[3]||d[6]||d[9]||d[12],16)/m*255)]}}else if(i.indexOf("#")===0&&(i=i.slice(1),c.exec(i)&&[3,6,9,12].includes(i.length))){const d=i.length/3,m=[0,0,0];for(let D=0;D<3;++D){const u=parseInt(i.slice(d*D,d*D+d),16);m[D]=d===1?u<<4:d===2?u:d===3?u>>4:u>>8}return m}},s.toRgbString=function(f,i=16){const[d,m,D]=f;return`rgb:${a(d,i)}/${a(m,i)}/${a(D,i)}`}},5770:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.PAYLOAD_LIMIT=void 0,s.PAYLOAD_LIMIT=1e7},6351:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DcsHandler=s.DcsParser=void 0;const c=l(482),a=l(8742),f=l(5770),i=[];s.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=i,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=i}registerHandler(m,D){this._handlers[m]===void 0&&(this._handlers[m]=[]);const u=this._handlers[m];return u.push(D),{dispose:()=>{const _=u.indexOf(D);_!==-1&&u.splice(_,1)}}}clearHandler(m){this._handlers[m]&&delete this._handlers[m]}setHandlerFallback(m){this._handlerFb=m}reset(){if(this._active.length)for(let m=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;m>=0;--m)this._active[m].unhook(!1);this._stack.paused=!1,this._active=i,this._ident=0}hook(m,D){if(this.reset(),this._ident=m,this._active=this._handlers[m]||i,this._active.length)for(let u=this._active.length-1;u>=0;u--)this._active[u].hook(D);else this._handlerFb(this._ident,"HOOK",D)}put(m,D,u){if(this._active.length)for(let _=this._active.length-1;_>=0;_--)this._active[_].put(m,D,u);else this._handlerFb(this._ident,"PUT",(0,c.utf32ToString)(m,D,u))}unhook(m,D=!0){if(this._active.length){let u=!1,_=this._active.length-1,g=!1;if(this._stack.paused&&(_=this._stack.loopPosition-1,u=D,g=this._stack.fallThrough,this._stack.paused=!1),!g&&u===!1){for(;_>=0&&(u=this._active[_].unhook(m),u!==!0);_--)if(u instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=_,this._stack.fallThrough=!1,u;_--}for(;_>=0;_--)if(u=this._active[_].unhook(!1),u instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=_,this._stack.fallThrough=!0,u}else this._handlerFb(this._ident,"UNHOOK",m);this._active=i,this._ident=0}};const d=new a.Params;d.addParam(0),s.DcsHandler=class{constructor(m){this._handler=m,this._data="",this._params=d,this._hitLimit=!1}hook(m){this._params=m.length>1||m.params[0]?m.clone():d,this._data="",this._hitLimit=!1}put(m,D,u){this._hitLimit||(this._data+=(0,c.utf32ToString)(m,D,u),this._data.length>f.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(m){let D=!1;if(this._hitLimit)D=!1;else if(m&&(D=this._handler(this._data,this._params),D instanceof Promise))return D.then(u=>(this._params=d,this._data="",this._hitLimit=!1,u));return this._params=d,this._data="",this._hitLimit=!1,D}}},2015:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.EscapeSequenceParser=s.VT500_TRANSITION_TABLE=s.TransitionTable=void 0;const c=l(844),a=l(8742),f=l(6242),i=l(6351);class d{constructor(_){this.table=new Uint8Array(_)}setDefault(_,g){this.table.fill(_<<4|g)}add(_,g,v,y){this.table[g<<8|_]=v<<4|y}addMany(_,g,v,y){for(let b=0;b<_.length;b++)this.table[g<<8|_[b]]=v<<4|y}}s.TransitionTable=d;const m=160;s.VT500_TRANSITION_TABLE=function(){const u=new d(4095),_=Array.apply(null,Array(256)).map((F,C)=>C),g=(F,C)=>_.slice(F,C),v=g(32,127),y=g(0,24);y.push(25),y.push.apply(y,g(28,32));const b=g(0,14);let E;for(E in u.setDefault(1,0),u.addMany(v,0,2,0),b)u.addMany([24,26,153,154],E,3,0),u.addMany(g(128,144),E,3,0),u.addMany(g(144,152),E,3,0),u.add(156,E,0,0),u.add(27,E,11,1),u.add(157,E,4,8),u.addMany([152,158,159],E,0,7),u.add(155,E,11,3),u.add(144,E,11,9);return u.addMany(y,0,3,0),u.addMany(y,1,3,1),u.add(127,1,0,1),u.addMany(y,8,0,8),u.addMany(y,3,3,3),u.add(127,3,0,3),u.addMany(y,4,3,4),u.add(127,4,0,4),u.addMany(y,6,3,6),u.addMany(y,5,3,5),u.add(127,5,0,5),u.addMany(y,2,3,2),u.add(127,2,0,2),u.add(93,1,4,8),u.addMany(v,8,5,8),u.add(127,8,5,8),u.addMany([156,27,24,26,7],8,6,0),u.addMany(g(28,32),8,0,8),u.addMany([88,94,95],1,0,7),u.addMany(v,7,0,7),u.addMany(y,7,0,7),u.add(156,7,0,0),u.add(127,7,0,7),u.add(91,1,11,3),u.addMany(g(64,127),3,7,0),u.addMany(g(48,60),3,8,4),u.addMany([60,61,62,63],3,9,4),u.addMany(g(48,60),4,8,4),u.addMany(g(64,127),4,7,0),u.addMany([60,61,62,63],4,0,6),u.addMany(g(32,64),6,0,6),u.add(127,6,0,6),u.addMany(g(64,127),6,0,0),u.addMany(g(32,48),3,9,5),u.addMany(g(32,48),5,9,5),u.addMany(g(48,64),5,0,6),u.addMany(g(64,127),5,7,0),u.addMany(g(32,48),4,9,5),u.addMany(g(32,48),1,9,2),u.addMany(g(32,48),2,9,2),u.addMany(g(48,127),2,10,0),u.addMany(g(48,80),1,10,0),u.addMany(g(81,88),1,10,0),u.addMany([89,90,92],1,10,0),u.addMany(g(96,127),1,10,0),u.add(80,1,11,9),u.addMany(y,9,0,9),u.add(127,9,0,9),u.addMany(g(28,32),9,0,9),u.addMany(g(32,48),9,9,12),u.addMany(g(48,60),9,8,10),u.addMany([60,61,62,63],9,9,10),u.addMany(y,11,0,11),u.addMany(g(32,128),11,0,11),u.addMany(g(28,32),11,0,11),u.addMany(y,10,0,10),u.add(127,10,0,10),u.addMany(g(28,32),10,0,10),u.addMany(g(48,60),10,8,10),u.addMany([60,61,62,63],10,0,11),u.addMany(g(32,48),10,9,12),u.addMany(y,12,0,12),u.add(127,12,0,12),u.addMany(g(28,32),12,0,12),u.addMany(g(32,48),12,9,12),u.addMany(g(48,64),12,0,11),u.addMany(g(64,127),12,12,13),u.addMany(g(64,127),10,12,13),u.addMany(g(64,127),9,12,13),u.addMany(y,13,13,13),u.addMany(v,13,13,13),u.add(127,13,0,13),u.addMany([27,156,24,26],13,14,0),u.add(m,0,2,0),u.add(m,8,5,8),u.add(m,6,0,6),u.add(m,11,0,11),u.add(m,13,13,13),u}();class D extends c.Disposable{constructor(_=s.VT500_TRANSITION_TABLE){super(),this._transitions=_,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new a.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(g,v,y)=>{},this._executeHandlerFb=g=>{},this._csiHandlerFb=(g,v)=>{},this._escHandlerFb=g=>{},this._errorHandlerFb=g=>g,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,c.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new f.OscParser),this._dcsParser=this.register(new i.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(_,g=[64,126]){let v=0;if(_.prefix){if(_.prefix.length>1)throw new Error("only one byte as prefix supported");if(v=_.prefix.charCodeAt(0),v&&60>v||v>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(_.intermediates){if(_.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let b=0;b<_.intermediates.length;++b){const E=_.intermediates.charCodeAt(b);if(32>E||E>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");v<<=8,v|=E}}if(_.final.length!==1)throw new Error("final must be a single byte");const y=_.final.charCodeAt(0);if(g[0]>y||y>g[1])throw new Error(`final must be in range ${g[0]} .. ${g[1]}`);return v<<=8,v|=y,v}identToString(_){const g=[];for(;_;)g.push(String.fromCharCode(255&_)),_>>=8;return g.reverse().join("")}setPrintHandler(_){this._printHandler=_}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(_,g){const v=this._identifier(_,[48,126]);this._escHandlers[v]===void 0&&(this._escHandlers[v]=[]);const y=this._escHandlers[v];return y.push(g),{dispose:()=>{const b=y.indexOf(g);b!==-1&&y.splice(b,1)}}}clearEscHandler(_){this._escHandlers[this._identifier(_,[48,126])]&&delete this._escHandlers[this._identifier(_,[48,126])]}setEscHandlerFallback(_){this._escHandlerFb=_}setExecuteHandler(_,g){this._executeHandlers[_.charCodeAt(0)]=g}clearExecuteHandler(_){this._executeHandlers[_.charCodeAt(0)]&&delete this._executeHandlers[_.charCodeAt(0)]}setExecuteHandlerFallback(_){this._executeHandlerFb=_}registerCsiHandler(_,g){const v=this._identifier(_);this._csiHandlers[v]===void 0&&(this._csiHandlers[v]=[]);const y=this._csiHandlers[v];return y.push(g),{dispose:()=>{const b=y.indexOf(g);b!==-1&&y.splice(b,1)}}}clearCsiHandler(_){this._csiHandlers[this._identifier(_)]&&delete this._csiHandlers[this._identifier(_)]}setCsiHandlerFallback(_){this._csiHandlerFb=_}registerDcsHandler(_,g){return this._dcsParser.registerHandler(this._identifier(_),g)}clearDcsHandler(_){this._dcsParser.clearHandler(this._identifier(_))}setDcsHandlerFallback(_){this._dcsParser.setHandlerFallback(_)}registerOscHandler(_,g){return this._oscParser.registerHandler(_,g)}clearOscHandler(_){this._oscParser.clearHandler(_)}setOscHandlerFallback(_){this._oscParser.setHandlerFallback(_)}setErrorHandler(_){this._errorHandler=_}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(_,g,v,y,b){this._parseStack.state=_,this._parseStack.handlers=g,this._parseStack.handlerPos=v,this._parseStack.transition=y,this._parseStack.chunkPos=b}parse(_,g,v){let y,b=0,E=0,F=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,F=this._parseStack.chunkPos+1;else{if(v===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const C=this._parseStack.handlers;let A=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(v===!1&&A>-1){for(;A>=0&&(y=C[A](this._params),y!==!0);A--)if(y instanceof Promise)return this._parseStack.handlerPos=A,y}this._parseStack.handlers=[];break;case 4:if(v===!1&&A>-1){for(;A>=0&&(y=C[A](),y!==!0);A--)if(y instanceof Promise)return this._parseStack.handlerPos=A,y}this._parseStack.handlers=[];break;case 6:if(b=_[this._parseStack.chunkPos],y=this._dcsParser.unhook(b!==24&&b!==26,v),y)return y;b===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(b=_[this._parseStack.chunkPos],y=this._oscParser.end(b!==24&&b!==26,v),y)return y;b===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,F=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let C=F;C<g;++C){switch(b=_[C],E=this._transitions.table[this.currentState<<8|(b<160?b:m)],E>>4){case 2:for(let H=C+1;;++H){if(H>=g||(b=_[H])<32||b>126&&b<m){this._printHandler(_,C,H),C=H-1;break}if(++H>=g||(b=_[H])<32||b>126&&b<m){this._printHandler(_,C,H),C=H-1;break}if(++H>=g||(b=_[H])<32||b>126&&b<m){this._printHandler(_,C,H),C=H-1;break}if(++H>=g||(b=_[H])<32||b>126&&b<m){this._printHandler(_,C,H),C=H-1;break}}break;case 3:this._executeHandlers[b]?this._executeHandlers[b]():this._executeHandlerFb(b),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:C,code:b,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const A=this._csiHandlers[this._collect<<8|b];let L=A?A.length-1:-1;for(;L>=0&&(y=A[L](this._params),y!==!0);L--)if(y instanceof Promise)return this._preserveStack(3,A,L,E,C),y;L<0&&this._csiHandlerFb(this._collect<<8|b,this._params),this.precedingCodepoint=0;break;case 8:do switch(b){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(b-48)}while(++C<g&&(b=_[C])>47&&b<60);C--;break;case 9:this._collect<<=8,this._collect|=b;break;case 10:const T=this._escHandlers[this._collect<<8|b];let O=T?T.length-1:-1;for(;O>=0&&(y=T[O](),y!==!0);O--)if(y instanceof Promise)return this._preserveStack(4,T,O,E,C),y;O<0&&this._escHandlerFb(this._collect<<8|b),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|b,this._params);break;case 13:for(let H=C+1;;++H)if(H>=g||(b=_[H])===24||b===26||b===27||b>127&&b<m){this._dcsParser.put(_,C,H),C=H-1;break}break;case 14:if(y=this._dcsParser.unhook(b!==24&&b!==26),y)return this._preserveStack(6,[],0,E,C),y;b===27&&(E|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let H=C+1;;H++)if(H>=g||(b=_[H])<32||b>127&&b<m){this._oscParser.put(_,C,H),C=H-1;break}break;case 6:if(y=this._oscParser.end(b!==24&&b!==26),y)return this._preserveStack(5,[],0,E,C),y;b===27&&(E|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&E}}}s.EscapeSequenceParser=D},6242:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.OscHandler=s.OscParser=void 0;const c=l(5770),a=l(482),f=[];s.OscParser=class{constructor(){this._state=0,this._active=f,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(i,d){this._handlers[i]===void 0&&(this._handlers[i]=[]);const m=this._handlers[i];return m.push(d),{dispose:()=>{const D=m.indexOf(d);D!==-1&&m.splice(D,1)}}}clearHandler(i){this._handlers[i]&&delete this._handlers[i]}setHandlerFallback(i){this._handlerFb=i}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=f}reset(){if(this._state===2)for(let i=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;i>=0;--i)this._active[i].end(!1);this._stack.paused=!1,this._active=f,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||f,this._active.length)for(let i=this._active.length-1;i>=0;i--)this._active[i].start();else this._handlerFb(this._id,"START")}_put(i,d,m){if(this._active.length)for(let D=this._active.length-1;D>=0;D--)this._active[D].put(i,d,m);else this._handlerFb(this._id,"PUT",(0,a.utf32ToString)(i,d,m))}start(){this.reset(),this._state=1}put(i,d,m){if(this._state!==3){if(this._state===1)for(;d<m;){const D=i[d++];if(D===59){this._state=2,this._start();break}if(D<48||57<D)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+D-48}this._state===2&&m-d>0&&this._put(i,d,m)}}end(i,d=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let m=!1,D=this._active.length-1,u=!1;if(this._stack.paused&&(D=this._stack.loopPosition-1,m=d,u=this._stack.fallThrough,this._stack.paused=!1),!u&&m===!1){for(;D>=0&&(m=this._active[D].end(i),m!==!0);D--)if(m instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=D,this._stack.fallThrough=!1,m;D--}for(;D>=0;D--)if(m=this._active[D].end(!1),m instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=D,this._stack.fallThrough=!0,m}else this._handlerFb(this._id,"END",i);this._active=f,this._id=-1,this._state=0}}},s.OscHandler=class{constructor(i){this._handler=i,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(i,d,m){this._hitLimit||(this._data+=(0,a.utf32ToString)(i,d,m),this._data.length>c.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(i){let d=!1;if(this._hitLimit)d=!1;else if(i&&(d=this._handler(this._data),d instanceof Promise))return d.then(m=>(this._data="",this._hitLimit=!1,m));return this._data="",this._hitLimit=!1,d}}},8742:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.Params=void 0;const l=2147483647;class c{static fromArray(f){const i=new c;if(!f.length)return i;for(let d=Array.isArray(f[0])?1:0;d<f.length;++d){const m=f[d];if(Array.isArray(m))for(let D=0;D<m.length;++D)i.addSubParam(m[D]);else i.addParam(m)}return i}constructor(f=32,i=32){if(this.maxLength=f,this.maxSubParamsLength=i,i>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(f),this.length=0,this._subParams=new Int32Array(i),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(f),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const f=new c(this.maxLength,this.maxSubParamsLength);return f.params.set(this.params),f.length=this.length,f._subParams.set(this._subParams),f._subParamsLength=this._subParamsLength,f._subParamsIdx.set(this._subParamsIdx),f._rejectDigits=this._rejectDigits,f._rejectSubDigits=this._rejectSubDigits,f._digitIsSub=this._digitIsSub,f}toArray(){const f=[];for(let i=0;i<this.length;++i){f.push(this.params[i]);const d=this._subParamsIdx[i]>>8,m=255&this._subParamsIdx[i];m-d>0&&f.push(Array.prototype.slice.call(this._subParams,d,m))}return f}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(f){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(f<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=f>l?l:f}}addSubParam(f){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(f<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=f>l?l:f,this._subParamsIdx[this.length-1]++}}hasSubParams(f){return(255&this._subParamsIdx[f])-(this._subParamsIdx[f]>>8)>0}getSubParams(f){const i=this._subParamsIdx[f]>>8,d=255&this._subParamsIdx[f];return d-i>0?this._subParams.subarray(i,d):null}getSubParamsAll(){const f={};for(let i=0;i<this.length;++i){const d=this._subParamsIdx[i]>>8,m=255&this._subParamsIdx[i];m-d>0&&(f[i]=this._subParams.slice(d,m))}return f}addDigit(f){let i;if(this._rejectDigits||!(i=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const d=this._digitIsSub?this._subParams:this.params,m=d[i-1];d[i-1]=~m?Math.min(10*m+f,l):f}}s.Params=c},5741:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.AddonManager=void 0,s.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let l=this._addons.length-1;l>=0;l--)this._addons[l].instance.dispose()}loadAddon(l,c){const a={instance:c,dispose:c.dispose,isDisposed:!1};this._addons.push(a),c.dispose=()=>this._wrappedAddonDispose(a),c.activate(l)}_wrappedAddonDispose(l){if(l.isDisposed)return;let c=-1;for(let a=0;a<this._addons.length;a++)if(this._addons[a]===l){c=a;break}if(c===-1)throw new Error("Could not dispose an addon that has not been loaded");l.isDisposed=!0,l.dispose.apply(l.instance),this._addons.splice(c,1)}}},8771:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferApiView=void 0;const c=l(3785),a=l(511);s.BufferApiView=class{constructor(f,i){this._buffer=f,this.type=i}init(f){return this._buffer=f,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(f){const i=this._buffer.lines.get(f);if(i)return new c.BufferLineApiView(i)}getNullCell(){return new a.CellData}}},3785:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferLineApiView=void 0;const c=l(511);s.BufferLineApiView=class{constructor(a){this._line=a}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(a,f){if(!(a<0||a>=this._line.length))return f?(this._line.loadCell(a,f),f):this._line.loadCell(a,new c.CellData)}translateToString(a,f,i){return this._line.translateToString(a,f,i)}}},8285:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.BufferNamespaceApi=void 0;const c=l(8771),a=l(8460),f=l(844);class i extends f.Disposable{constructor(m){super(),this._core=m,this._onBufferChange=this.register(new a.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new c.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new c.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}s.BufferNamespaceApi=i},7975:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.ParserApi=void 0,s.ParserApi=class{constructor(l){this._core=l}registerCsiHandler(l,c){return this._core.registerCsiHandler(l,a=>c(a.toArray()))}addCsiHandler(l,c){return this.registerCsiHandler(l,c)}registerDcsHandler(l,c){return this._core.registerDcsHandler(l,(a,f)=>c(a,f.toArray()))}addDcsHandler(l,c){return this.registerDcsHandler(l,c)}registerEscHandler(l,c){return this._core.registerEscHandler(l,c)}addEscHandler(l,c){return this.registerEscHandler(l,c)}registerOscHandler(l,c){return this._core.registerOscHandler(l,c)}addOscHandler(l,c){return this.registerOscHandler(l,c)}}},7090:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UnicodeApi=void 0,s.UnicodeApi=class{constructor(l){this._core=l}register(l){this._core.unicodeService.register(l)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(l){this._core.unicodeService.activeVersion=l}}},744:function(p,s,l){var c=this&&this.__decorate||function(u,_,g,v){var y,b=arguments.length,E=b<3?_:v===null?v=Object.getOwnPropertyDescriptor(_,g):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(u,_,g,v);else for(var F=u.length-1;F>=0;F--)(y=u[F])&&(E=(b<3?y(E):b>3?y(_,g,E):y(_,g))||E);return b>3&&E&&Object.defineProperty(_,g,E),E},a=this&&this.__param||function(u,_){return function(g,v){_(g,v,u)}};Object.defineProperty(s,"__esModule",{value:!0}),s.BufferService=s.MINIMUM_ROWS=s.MINIMUM_COLS=void 0;const f=l(8460),i=l(844),d=l(5295),m=l(2585);s.MINIMUM_COLS=2,s.MINIMUM_ROWS=1;let D=s.BufferService=class extends i.Disposable{get buffer(){return this.buffers.active}constructor(u){super(),this.isUserScrolling=!1,this._onResize=this.register(new f.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new f.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(u.rawOptions.cols||0,s.MINIMUM_COLS),this.rows=Math.max(u.rawOptions.rows||0,s.MINIMUM_ROWS),this.buffers=this.register(new d.BufferSet(u,this))}resize(u,_){this.cols=u,this.rows=_,this.buffers.resize(u,_),this._onResize.fire({cols:u,rows:_})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(u,_=!1){const g=this.buffer;let v;v=this._cachedBlankLine,v&&v.length===this.cols&&v.getFg(0)===u.fg&&v.getBg(0)===u.bg||(v=g.getBlankLine(u,_),this._cachedBlankLine=v),v.isWrapped=_;const y=g.ybase+g.scrollTop,b=g.ybase+g.scrollBottom;if(g.scrollTop===0){const E=g.lines.isFull;b===g.lines.length-1?E?g.lines.recycle().copyFrom(v):g.lines.push(v.clone()):g.lines.splice(b+1,0,v.clone()),E?this.isUserScrolling&&(g.ydisp=Math.max(g.ydisp-1,0)):(g.ybase++,this.isUserScrolling||g.ydisp++)}else{const E=b-y+1;g.lines.shiftElements(y+1,E-1,-1),g.lines.set(b,v.clone())}this.isUserScrolling||(g.ydisp=g.ybase),this._onScroll.fire(g.ydisp)}scrollLines(u,_,g){const v=this.buffer;if(u<0){if(v.ydisp===0)return;this.isUserScrolling=!0}else u+v.ydisp>=v.ybase&&(this.isUserScrolling=!1);const y=v.ydisp;v.ydisp=Math.max(Math.min(v.ydisp+u,v.ybase),0),y!==v.ydisp&&(_||this._onScroll.fire(v.ydisp))}};s.BufferService=D=c([a(0,m.IOptionsService)],D)},7994:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.CharsetService=void 0,s.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(l){this.glevel=l,this.charset=this._charsets[l]}setgCharset(l,c){this._charsets[l]=c,this.glevel===l&&(this.charset=c)}}},1753:function(p,s,l){var c=this&&this.__decorate||function(v,y,b,E){var F,C=arguments.length,A=C<3?y:E===null?E=Object.getOwnPropertyDescriptor(y,b):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(v,y,b,E);else for(var L=v.length-1;L>=0;L--)(F=v[L])&&(A=(C<3?F(A):C>3?F(y,b,A):F(y,b))||A);return C>3&&A&&Object.defineProperty(y,b,A),A},a=this&&this.__param||function(v,y){return function(b,E){y(b,E,v)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CoreMouseService=void 0;const f=l(2585),i=l(8460),d=l(844),m={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:v=>v.button!==4&&v.action===1&&(v.ctrl=!1,v.alt=!1,v.shift=!1,!0)},VT200:{events:19,restrict:v=>v.action!==32},DRAG:{events:23,restrict:v=>v.action!==32||v.button!==3},ANY:{events:31,restrict:v=>!0}};function D(v,y){let b=(v.ctrl?16:0)|(v.shift?4:0)|(v.alt?8:0);return v.button===4?(b|=64,b|=v.action):(b|=3&v.button,4&v.button&&(b|=64),8&v.button&&(b|=128),v.action===32?b|=32:v.action!==0||y||(b|=3)),b}const u=String.fromCharCode,_={DEFAULT:v=>{const y=[D(v,!1)+32,v.col+32,v.row+32];return y[0]>255||y[1]>255||y[2]>255?"":`\x1B[M${u(y[0])}${u(y[1])}${u(y[2])}`},SGR:v=>{const y=v.action===0&&v.button!==4?"m":"M";return`\x1B[<${D(v,!0)};${v.col};${v.row}${y}`},SGR_PIXELS:v=>{const y=v.action===0&&v.button!==4?"m":"M";return`\x1B[<${D(v,!0)};${v.x};${v.y}${y}`}};let g=s.CoreMouseService=class extends d.Disposable{constructor(v,y){super(),this._bufferService=v,this._coreService=y,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new i.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const b of Object.keys(m))this.addProtocol(b,m[b]);for(const b of Object.keys(_))this.addEncoding(b,_[b]);this.reset()}addProtocol(v,y){this._protocols[v]=y}addEncoding(v,y){this._encodings[v]=y}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(v){if(!this._protocols[v])throw new Error(`unknown protocol "${v}"`);this._activeProtocol=v,this._onProtocolChange.fire(this._protocols[v].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(v){if(!this._encodings[v])throw new Error(`unknown encoding "${v}"`);this._activeEncoding=v}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(v){if(v.col<0||v.col>=this._bufferService.cols||v.row<0||v.row>=this._bufferService.rows||v.button===4&&v.action===32||v.button===3&&v.action!==32||v.button!==4&&(v.action===2||v.action===3)||(v.col++,v.row++,v.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,v,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(v))return!1;const y=this._encodings[this._activeEncoding](v);return y&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(y):this._coreService.triggerDataEvent(y,!0)),this._lastEvent=v,!0}explainEvents(v){return{down:!!(1&v),up:!!(2&v),drag:!!(4&v),move:!!(8&v),wheel:!!(16&v)}}_equalEvents(v,y,b){if(b){if(v.x!==y.x||v.y!==y.y)return!1}else if(v.col!==y.col||v.row!==y.row)return!1;return v.button===y.button&&v.action===y.action&&v.ctrl===y.ctrl&&v.alt===y.alt&&v.shift===y.shift}};s.CoreMouseService=g=c([a(0,f.IBufferService),a(1,f.ICoreService)],g)},6975:function(p,s,l){var c=this&&this.__decorate||function(g,v,y,b){var E,F=arguments.length,C=F<3?v:b===null?b=Object.getOwnPropertyDescriptor(v,y):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(g,v,y,b);else for(var A=g.length-1;A>=0;A--)(E=g[A])&&(C=(F<3?E(C):F>3?E(v,y,C):E(v,y))||C);return F>3&&C&&Object.defineProperty(v,y,C),C},a=this&&this.__param||function(g,v){return function(y,b){v(y,b,g)}};Object.defineProperty(s,"__esModule",{value:!0}),s.CoreService=void 0;const f=l(1439),i=l(8460),d=l(844),m=l(2585),D=Object.freeze({insertMode:!1}),u=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let _=s.CoreService=class extends d.Disposable{constructor(g,v,y){super(),this._bufferService=g,this._logService=v,this._optionsService=y,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new i.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new i.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new i.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new i.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,f.clone)(D),this.decPrivateModes=(0,f.clone)(u)}reset(){this.modes=(0,f.clone)(D),this.decPrivateModes=(0,f.clone)(u)}triggerDataEvent(g,v=!1){if(this._optionsService.rawOptions.disableStdin)return;const y=this._bufferService.buffer;v&&this._optionsService.rawOptions.scrollOnUserInput&&y.ybase!==y.ydisp&&this._onRequestScrollToBottom.fire(),v&&this._onUserInput.fire(),this._logService.debug(`sending data "${g}"`,()=>g.split("").map(b=>b.charCodeAt(0))),this._onData.fire(g)}triggerBinaryEvent(g){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${g}"`,()=>g.split("").map(v=>v.charCodeAt(0))),this._onBinary.fire(g))}};s.CoreService=_=c([a(0,m.IBufferService),a(1,m.ILogService),a(2,m.IOptionsService)],_)},9074:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.DecorationService=void 0;const c=l(8055),a=l(8460),f=l(844),i=l(6106);let d=0,m=0;class D extends f.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new i.SortedList(g=>g==null?void 0:g.marker.line),this._onDecorationRegistered=this.register(new a.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new a.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,f.toDisposable)(()=>this.reset()))}registerDecoration(g){if(g.marker.isDisposed)return;const v=new u(g);if(v){const y=v.marker.onDispose(()=>v.dispose());v.onDispose(()=>{v&&(this._decorations.delete(v)&&this._onDecorationRemoved.fire(v),y.dispose())}),this._decorations.insert(v),this._onDecorationRegistered.fire(v)}return v}reset(){for(const g of this._decorations.values())g.dispose();this._decorations.clear()}*getDecorationsAtCell(g,v,y){var b,E,F;let C=0,A=0;for(const L of this._decorations.getKeyIterator(v))C=(b=L.options.x)!==null&&b!==void 0?b:0,A=C+((E=L.options.width)!==null&&E!==void 0?E:1),g>=C&&g<A&&(!y||((F=L.options.layer)!==null&&F!==void 0?F:"bottom")===y)&&(yield L)}forEachDecorationAtCell(g,v,y,b){this._decorations.forEachByKey(v,E=>{var F,C,A;d=(F=E.options.x)!==null&&F!==void 0?F:0,m=d+((C=E.options.width)!==null&&C!==void 0?C:1),g>=d&&g<m&&(!y||((A=E.options.layer)!==null&&A!==void 0?A:"bottom")===y)&&b(E)})}}s.DecorationService=D;class u extends f.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=c.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=c.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(g){super(),this.options=g,this.onRenderEmitter=this.register(new a.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new a.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=g.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.InstantiationService=s.ServiceCollection=void 0;const c=l(2585),a=l(8343);class f{constructor(...d){this._entries=new Map;for(const[m,D]of d)this.set(m,D)}set(d,m){const D=this._entries.get(d);return this._entries.set(d,m),D}forEach(d){for(const[m,D]of this._entries.entries())d(m,D)}has(d){return this._entries.has(d)}get(d){return this._entries.get(d)}}s.ServiceCollection=f,s.InstantiationService=class{constructor(){this._services=new f,this._services.set(c.IInstantiationService,this)}setService(i,d){this._services.set(i,d)}getService(i){return this._services.get(i)}createInstance(i,...d){const m=(0,a.getServiceDependencies)(i).sort((_,g)=>_.index-g.index),D=[];for(const _ of m){const g=this._services.get(_.id);if(!g)throw new Error(`[createInstance] ${i.name} depends on UNKNOWN service ${_.id}.`);D.push(g)}const u=m.length>0?m[0].index:d.length;if(d.length!==u)throw new Error(`[createInstance] First service dependency of ${i.name} at position ${u+1} conflicts with ${d.length} static arguments`);return new i(...d,...D)}}},7866:function(p,s,l){var c=this&&this.__decorate||function(u,_,g,v){var y,b=arguments.length,E=b<3?_:v===null?v=Object.getOwnPropertyDescriptor(_,g):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(u,_,g,v);else for(var F=u.length-1;F>=0;F--)(y=u[F])&&(E=(b<3?y(E):b>3?y(_,g,E):y(_,g))||E);return b>3&&E&&Object.defineProperty(_,g,E),E},a=this&&this.__param||function(u,_){return function(g,v){_(g,v,u)}};Object.defineProperty(s,"__esModule",{value:!0}),s.traceCall=s.setTraceLogger=s.LogService=void 0;const f=l(844),i=l(2585),d={trace:i.LogLevelEnum.TRACE,debug:i.LogLevelEnum.DEBUG,info:i.LogLevelEnum.INFO,warn:i.LogLevelEnum.WARN,error:i.LogLevelEnum.ERROR,off:i.LogLevelEnum.OFF};let m,D=s.LogService=class extends f.Disposable{get logLevel(){return this._logLevel}constructor(u){super(),this._optionsService=u,this._logLevel=i.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),m=this}_updateLogLevel(){this._logLevel=d[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(u){for(let _=0;_<u.length;_++)typeof u[_]=="function"&&(u[_]=u[_]())}_log(u,_,g){this._evalLazyOptionalParams(g),u.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+_,...g)}trace(u,..._){var g,v;this._logLevel<=i.LogLevelEnum.TRACE&&this._log((v=(g=this._optionsService.options.logger)===null||g===void 0?void 0:g.trace.bind(this._optionsService.options.logger))!==null&&v!==void 0?v:console.log,u,_)}debug(u,..._){var g,v;this._logLevel<=i.LogLevelEnum.DEBUG&&this._log((v=(g=this._optionsService.options.logger)===null||g===void 0?void 0:g.debug.bind(this._optionsService.options.logger))!==null&&v!==void 0?v:console.log,u,_)}info(u,..._){var g,v;this._logLevel<=i.LogLevelEnum.INFO&&this._log((v=(g=this._optionsService.options.logger)===null||g===void 0?void 0:g.info.bind(this._optionsService.options.logger))!==null&&v!==void 0?v:console.info,u,_)}warn(u,..._){var g,v;this._logLevel<=i.LogLevelEnum.WARN&&this._log((v=(g=this._optionsService.options.logger)===null||g===void 0?void 0:g.warn.bind(this._optionsService.options.logger))!==null&&v!==void 0?v:console.warn,u,_)}error(u,..._){var g,v;this._logLevel<=i.LogLevelEnum.ERROR&&this._log((v=(g=this._optionsService.options.logger)===null||g===void 0?void 0:g.error.bind(this._optionsService.options.logger))!==null&&v!==void 0?v:console.error,u,_)}};s.LogService=D=c([a(0,i.IOptionsService)],D),s.setTraceLogger=function(u){m=u},s.traceCall=function(u,_,g){if(typeof g.value!="function")throw new Error("not supported");const v=g.value;g.value=function(...y){if(m.logLevel!==i.LogLevelEnum.TRACE)return v.apply(this,y);m.trace(`GlyphRenderer#${v.name}(${y.map(E=>JSON.stringify(E)).join(", ")})`);const b=v.apply(this,y);return m.trace(`GlyphRenderer#${v.name} return`,b),b}}},7302:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.OptionsService=s.DEFAULT_OPTIONS=void 0;const c=l(8460),a=l(844),f=l(6114);s.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:f.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const i=["normal","bold","100","200","300","400","500","600","700","800","900"];class d extends a.Disposable{constructor(D){super(),this._onOptionChange=this.register(new c.EventEmitter),this.onOptionChange=this._onOptionChange.event;const u=Object.assign({},s.DEFAULT_OPTIONS);for(const _ in D)if(_ in u)try{const g=D[_];u[_]=this._sanitizeAndValidateOption(_,g)}catch(g){console.error(g)}this.rawOptions=u,this.options=Object.assign({},u),this._setupOptions()}onSpecificOptionChange(D,u){return this.onOptionChange(_=>{_===D&&u(this.rawOptions[D])})}onMultipleOptionChange(D,u){return this.onOptionChange(_=>{D.indexOf(_)!==-1&&u()})}_setupOptions(){const D=_=>{if(!(_ in s.DEFAULT_OPTIONS))throw new Error(`No option with key "${_}"`);return this.rawOptions[_]},u=(_,g)=>{if(!(_ in s.DEFAULT_OPTIONS))throw new Error(`No option with key "${_}"`);g=this._sanitizeAndValidateOption(_,g),this.rawOptions[_]!==g&&(this.rawOptions[_]=g,this._onOptionChange.fire(_))};for(const _ in this.rawOptions){const g={get:D.bind(this,_),set:u.bind(this,_)};Object.defineProperty(this.options,_,g)}}_sanitizeAndValidateOption(D,u){switch(D){case"cursorStyle":if(u||(u=s.DEFAULT_OPTIONS[D]),!function(_){return _==="block"||_==="underline"||_==="bar"}(u))throw new Error(`"${u}" is not a valid value for ${D}`);break;case"wordSeparator":u||(u=s.DEFAULT_OPTIONS[D]);break;case"fontWeight":case"fontWeightBold":if(typeof u=="number"&&1<=u&&u<=1e3)break;u=i.includes(u)?u:s.DEFAULT_OPTIONS[D];break;case"cursorWidth":u=Math.floor(u);case"lineHeight":case"tabStopWidth":if(u<1)throw new Error(`${D} cannot be less than 1, value: ${u}`);break;case"minimumContrastRatio":u=Math.max(1,Math.min(21,Math.round(10*u)/10));break;case"scrollback":if((u=Math.min(u,4294967295))<0)throw new Error(`${D} cannot be less than 0, value: ${u}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(u<=0)throw new Error(`${D} cannot be less than or equal to 0, value: ${u}`);break;case"rows":case"cols":if(!u&&u!==0)throw new Error(`${D} must be numeric, value: ${u}`);break;case"windowsPty":u=u??{}}return u}}s.OptionsService=d},2660:function(p,s,l){var c=this&&this.__decorate||function(d,m,D,u){var _,g=arguments.length,v=g<3?m:u===null?u=Object.getOwnPropertyDescriptor(m,D):u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")v=Reflect.decorate(d,m,D,u);else for(var y=d.length-1;y>=0;y--)(_=d[y])&&(v=(g<3?_(v):g>3?_(m,D,v):_(m,D))||v);return g>3&&v&&Object.defineProperty(m,D,v),v},a=this&&this.__param||function(d,m){return function(D,u){m(D,u,d)}};Object.defineProperty(s,"__esModule",{value:!0}),s.OscLinkService=void 0;const f=l(2585);let i=s.OscLinkService=class{constructor(d){this._bufferService=d,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(d){const m=this._bufferService.buffer;if(d.id===void 0){const y=m.addMarker(m.ybase+m.y),b={data:d,id:this._nextId++,lines:[y]};return y.onDispose(()=>this._removeMarkerFromLink(b,y)),this._dataByLinkId.set(b.id,b),b.id}const D=d,u=this._getEntryIdKey(D),_=this._entriesWithId.get(u);if(_)return this.addLineToLink(_.id,m.ybase+m.y),_.id;const g=m.addMarker(m.ybase+m.y),v={id:this._nextId++,key:this._getEntryIdKey(D),data:D,lines:[g]};return g.onDispose(()=>this._removeMarkerFromLink(v,g)),this._entriesWithId.set(v.key,v),this._dataByLinkId.set(v.id,v),v.id}addLineToLink(d,m){const D=this._dataByLinkId.get(d);if(D&&D.lines.every(u=>u.line!==m)){const u=this._bufferService.buffer.addMarker(m);D.lines.push(u),u.onDispose(()=>this._removeMarkerFromLink(D,u))}}getLinkData(d){var m;return(m=this._dataByLinkId.get(d))===null||m===void 0?void 0:m.data}_getEntryIdKey(d){return`${d.id};;${d.uri}`}_removeMarkerFromLink(d,m){const D=d.lines.indexOf(m);D!==-1&&(d.lines.splice(D,1),d.lines.length===0&&(d.data.id!==void 0&&this._entriesWithId.delete(d.key),this._dataByLinkId.delete(d.id)))}};s.OscLinkService=i=c([a(0,f.IBufferService)],i)},8343:(p,s)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.createDecorator=s.getServiceDependencies=s.serviceRegistry=void 0;const l="di$target",c="di$dependencies";s.serviceRegistry=new Map,s.getServiceDependencies=function(a){return a[c]||[]},s.createDecorator=function(a){if(s.serviceRegistry.has(a))return s.serviceRegistry.get(a);const f=function(i,d,m){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(D,u,_){u[l]===u?u[c].push({id:D,index:_}):(u[c]=[{id:D,index:_}],u[l]=u)})(f,i,m)};return f.toString=()=>a,s.serviceRegistry.set(a,f),f}},2585:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.IDecorationService=s.IUnicodeService=s.IOscLinkService=s.IOptionsService=s.ILogService=s.LogLevelEnum=s.IInstantiationService=s.ICharsetService=s.ICoreService=s.ICoreMouseService=s.IBufferService=void 0;const c=l(8343);var a;s.IBufferService=(0,c.createDecorator)("BufferService"),s.ICoreMouseService=(0,c.createDecorator)("CoreMouseService"),s.ICoreService=(0,c.createDecorator)("CoreService"),s.ICharsetService=(0,c.createDecorator)("CharsetService"),s.IInstantiationService=(0,c.createDecorator)("InstantiationService"),function(f){f[f.TRACE=0]="TRACE",f[f.DEBUG=1]="DEBUG",f[f.INFO=2]="INFO",f[f.WARN=3]="WARN",f[f.ERROR=4]="ERROR",f[f.OFF=5]="OFF"}(a||(s.LogLevelEnum=a={})),s.ILogService=(0,c.createDecorator)("LogService"),s.IOptionsService=(0,c.createDecorator)("OptionsService"),s.IOscLinkService=(0,c.createDecorator)("OscLinkService"),s.IUnicodeService=(0,c.createDecorator)("UnicodeService"),s.IDecorationService=(0,c.createDecorator)("DecorationService")},1480:(p,s,l)=>{Object.defineProperty(s,"__esModule",{value:!0}),s.UnicodeService=void 0;const c=l(8460),a=l(225);s.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new c.EventEmitter,this.onChange=this._onChange.event;const f=new a.UnicodeV6;this.register(f),this._active=f.version,this._activeProvider=f}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(f){if(!this._providers[f])throw new Error(`unknown Unicode version "${f}"`);this._active=f,this._activeProvider=this._providers[f],this._onChange.fire(f)}register(f){this._providers[f.version]=f}wcwidth(f){return this._activeProvider.wcwidth(f)}getStringCellWidth(f){let i=0;const d=f.length;for(let m=0;m<d;++m){let D=f.charCodeAt(m);if(55296<=D&&D<=56319){if(++m>=d)return i+this.wcwidth(D);const u=f.charCodeAt(m);56320<=u&&u<=57343?D=1024*(D-55296)+u-56320+65536:i+=this.wcwidth(u)}i+=this.wcwidth(D)}return i}}}},n={};function o(p){var s=n[p];if(s!==void 0)return s.exports;var l=n[p]={exports:{}};return r[p].call(l.exports,l,l.exports,o),l.exports}var h={};return(()=>{var p=h;Object.defineProperty(p,"__esModule",{value:!0}),p.Terminal=void 0;const s=o(9042),l=o(3236),c=o(844),a=o(5741),f=o(8285),i=o(7975),d=o(7090),m=["cols","rows"];class D extends c.Disposable{constructor(_){super(),this._core=this.register(new l.Terminal(_)),this._addonManager=this.register(new a.AddonManager),this._publicOptions=Object.assign({},this._core.options);const g=y=>this._core.options[y],v=(y,b)=>{this._checkReadonlyOptions(y),this._core.options[y]=b};for(const y in this._core.options){const b={get:g.bind(this,y),set:v.bind(this,y)};Object.defineProperty(this._publicOptions,y,b)}}_checkReadonlyOptions(_){if(m.includes(_))throw new Error(`Option "${_}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new i.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new d.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new f.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const _=this._core.coreService.decPrivateModes;let g="none";switch(this._core.coreMouseService.activeProtocol){case"X10":g="x10";break;case"VT200":g="vt200";break;case"DRAG":g="drag";break;case"ANY":g="any"}return{applicationCursorKeysMode:_.applicationCursorKeys,applicationKeypadMode:_.applicationKeypad,bracketedPasteMode:_.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:g,originMode:_.origin,reverseWraparoundMode:_.reverseWraparound,sendFocusMode:_.sendFocus,wraparoundMode:_.wraparound}}get options(){return this._publicOptions}set options(_){for(const g in _)this._publicOptions[g]=_[g]}blur(){this._core.blur()}focus(){this._core.focus()}resize(_,g){this._verifyIntegers(_,g),this._core.resize(_,g)}open(_){this._core.open(_)}attachCustomKeyEventHandler(_){this._core.attachCustomKeyEventHandler(_)}registerLinkProvider(_){return this._core.registerLinkProvider(_)}registerCharacterJoiner(_){return this._checkProposedApi(),this._core.registerCharacterJoiner(_)}deregisterCharacterJoiner(_){this._checkProposedApi(),this._core.deregisterCharacterJoiner(_)}registerMarker(_=0){return this._verifyIntegers(_),this._core.registerMarker(_)}registerDecoration(_){var g,v,y;return this._checkProposedApi(),this._verifyPositiveIntegers((g=_.x)!==null&&g!==void 0?g:0,(v=_.width)!==null&&v!==void 0?v:0,(y=_.height)!==null&&y!==void 0?y:0),this._core.registerDecoration(_)}hasSelection(){return this._core.hasSelection()}select(_,g,v){this._verifyIntegers(_,g,v),this._core.select(_,g,v)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(_,g){this._verifyIntegers(_,g),this._core.selectLines(_,g)}dispose(){super.dispose()}scrollLines(_){this._verifyIntegers(_),this._core.scrollLines(_)}scrollPages(_){this._verifyIntegers(_),this._core.scrollPages(_)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(_){this._verifyIntegers(_),this._core.scrollToLine(_)}clear(){this._core.clear()}write(_,g){this._core.write(_,g)}writeln(_,g){this._core.write(_),this._core.write(`\r
`,g)}paste(_){this._core.paste(_)}refresh(_,g){this._verifyIntegers(_,g),this._core.refresh(_,g)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(_){this._addonManager.loadAddon(this,_)}static get strings(){return s}_verifyIntegers(..._){for(const g of _)if(g===1/0||isNaN(g)||g%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(..._){for(const g of _)if(g&&(g===1/0||isNaN(g)||g%1!=0||g<0))throw new Error("This API only accepts positive integers")}}p.Terminal=D})(),h})())})(nu);var Ed=nu.exports,ou={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function o(l,c,a){this.fn=l,this.context=c,this.once=a||!1}function h(l,c,a,f,i){if(typeof a!="function")throw new TypeError("The listener must be a function");var d=new o(a,f||l,i),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],d]:l._events[m].push(d):(l._events[m]=d,l._eventsCount++),l}function p(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var c=[],a,f;if(this._eventsCount===0)return c;for(f in a=this._events)e.call(a,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(a)):c},s.prototype.listeners=function(c){var a=r?r+c:c,f=this._events[a];if(!f)return[];if(f.fn)return[f.fn];for(var i=0,d=f.length,m=new Array(d);i<d;i++)m[i]=f[i].fn;return m},s.prototype.listenerCount=function(c){var a=r?r+c:c,f=this._events[a];return f?f.fn?1:f.length:0},s.prototype.emit=function(c,a,f,i,d,m){var D=r?r+c:c;if(!this._events[D])return!1;var u=this._events[D],_=arguments.length,g,v;if(u.fn){switch(u.once&&this.removeListener(c,u.fn,void 0,!0),_){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,a),!0;case 3:return u.fn.call(u.context,a,f),!0;case 4:return u.fn.call(u.context,a,f,i),!0;case 5:return u.fn.call(u.context,a,f,i,d),!0;case 6:return u.fn.call(u.context,a,f,i,d,m),!0}for(v=1,g=new Array(_-1);v<_;v++)g[v-1]=arguments[v];u.fn.apply(u.context,g)}else{var y=u.length,b;for(v=0;v<y;v++)switch(u[v].once&&this.removeListener(c,u[v].fn,void 0,!0),_){case 1:u[v].fn.call(u[v].context);break;case 2:u[v].fn.call(u[v].context,a);break;case 3:u[v].fn.call(u[v].context,a,f);break;case 4:u[v].fn.call(u[v].context,a,f,i);break;default:if(!g)for(b=1,g=new Array(_-1);b<_;b++)g[b-1]=arguments[b];u[v].fn.apply(u[v].context,g)}}return!0},s.prototype.on=function(c,a,f){return h(this,c,a,f,!1)},s.prototype.once=function(c,a,f){return h(this,c,a,f,!0)},s.prototype.removeListener=function(c,a,f,i){var d=r?r+c:c;if(!this._events[d])return this;if(!a)return p(this,d),this;var m=this._events[d];if(m.fn)m.fn===a&&(!i||m.once)&&(!f||m.context===f)&&p(this,d);else{for(var D=0,u=[],_=m.length;D<_;D++)(m[D].fn!==a||i&&!m[D].once||f&&m[D].context!==f)&&u.push(m[D]);u.length?this._events[d]=u.length===1?u[0]:u:p(this,d)}return this},s.prototype.removeAllListeners=function(c){var a;return c?(a=r?r+c:c,this._events[a]&&p(this,a)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,t.exports=s})(ou);var Fd=ou.exports;const Ad=$t(Fd);function Ei({onlyFirst:t=!1}={}){const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}var au={},Fi={};Fi.byteLength=kd,Fi.toByteArray=Rd,Fi.fromByteArray=Td;for(var St=[],ft=[],xd=typeof Uint8Array<"u"?Uint8Array:Array,Fs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Cr=0,Bd=Fs.length;Cr<Bd;++Cr)St[Cr]=Fs[Cr],ft[Fs.charCodeAt(Cr)]=Cr;ft[45]=62,ft[95]=63;function uu(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function kd(t){var e=uu(t),r=e[0],n=e[1];return(r+n)*3/4-n}function Od(t,e,r){return(e+r)*3/4-r}function Rd(t){var e,r=uu(t),n=r[0],o=r[1],h=new xd(Od(t,n,o)),p=0,s=o>0?n-4:n,l;for(l=0;l<s;l+=4)e=ft[t.charCodeAt(l)]<<18|ft[t.charCodeAt(l+1)]<<12|ft[t.charCodeAt(l+2)]<<6|ft[t.charCodeAt(l+3)],h[p++]=e>>16&255,h[p++]=e>>8&255,h[p++]=e&255;return o===2&&(e=ft[t.charCodeAt(l)]<<2|ft[t.charCodeAt(l+1)]>>4,h[p++]=e&255),o===1&&(e=ft[t.charCodeAt(l)]<<10|ft[t.charCodeAt(l+1)]<<4|ft[t.charCodeAt(l+2)]>>2,h[p++]=e>>8&255,h[p++]=e&255),h}function Pd(t){return St[t>>18&63]+St[t>>12&63]+St[t>>6&63]+St[t&63]}function Ld(t,e,r){for(var n,o=[],h=e;h<r;h+=3)n=(t[h]<<16&16711680)+(t[h+1]<<8&65280)+(t[h+2]&255),o.push(Pd(n));return o.join("")}function Td(t){for(var e,r=t.length,n=r%3,o=[],h=16383,p=0,s=r-n;p<s;p+=h)o.push(Ld(t,p,p+h>s?s:p+h));return n===1?(e=t[r-1],o.push(St[e>>2]+St[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],o.push(St[e>>10]+St[e>>4&63]+St[e<<2&63]+"=")),o.join("")}var As={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */As.read=function(t,e,r,n,o){var h,p,s=o*8-n-1,l=(1<<s)-1,c=l>>1,a=-7,f=r?o-1:0,i=r?-1:1,d=t[e+f];for(f+=i,h=d&(1<<-a)-1,d>>=-a,a+=s;a>0;h=h*256+t[e+f],f+=i,a-=8);for(p=h&(1<<-a)-1,h>>=-a,a+=n;a>0;p=p*256+t[e+f],f+=i,a-=8);if(h===0)h=1-c;else{if(h===l)return p?NaN:(d?-1:1)*(1/0);p=p+Math.pow(2,n),h=h-c}return(d?-1:1)*p*Math.pow(2,h-n)},As.write=function(t,e,r,n,o,h){var p,s,l,c=h*8-o-1,a=(1<<c)-1,f=a>>1,i=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:h-1,m=n?1:-1,D=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,p=a):(p=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-p))<1&&(p--,l*=2),p+f>=1?e+=i/l:e+=i*Math.pow(2,1-f),e*l>=2&&(p++,l/=2),p+f>=a?(s=0,p=a):p+f>=1?(s=(e*l-1)*Math.pow(2,o),p=p+f):(s=e*Math.pow(2,f-1)*Math.pow(2,o),p=0));o>=8;t[r+d]=s&255,d+=m,s/=256,o-=8);for(p=p<<o|s,c+=o;c>0;t[r+d]=p&255,d+=m,p/=256,c-=8);t[r+d-m]|=D*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Fi,r=As,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50;const o=2147483647;t.kMaxLength=o;const{Uint8Array:h,ArrayBuffer:p,SharedArrayBuffer:s}=globalThis;a.TYPED_ARRAY_SUPPORT=l(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const B=new h(1),S={foo:function(){return 42}};return Object.setPrototypeOf(S,h.prototype),Object.setPrototypeOf(B,S),B.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function c(B){if(B>o)throw new RangeError('The value "'+B+'" is invalid for option "size"');const S=new h(B);return Object.setPrototypeOf(S,a.prototype),S}function a(B,S,w){if(typeof B=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(B)}return f(B,S,w)}a.poolSize=8192;function f(B,S,w){if(typeof B=="string")return D(B,S);if(p.isView(B))return _(B);if(B==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(X(B,p)||B&&X(B.buffer,p)||typeof s<"u"&&(X(B,s)||B&&X(B.buffer,s)))return g(B,S,w);if(typeof B=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const W=B.valueOf&&B.valueOf();if(W!=null&&W!==B)return a.from(W,S,w);const K=v(B);if(K)return K;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof B[Symbol.toPrimitive]=="function")return a.from(B[Symbol.toPrimitive]("string"),S,w);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}a.from=function(B,S,w){return f(B,S,w)},Object.setPrototypeOf(a.prototype,h.prototype),Object.setPrototypeOf(a,h);function i(B){if(typeof B!="number")throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function d(B,S,w){return i(B),B<=0?c(B):S!==void 0?typeof w=="string"?c(B).fill(S,w):c(B).fill(S):c(B)}a.alloc=function(B,S,w){return d(B,S,w)};function m(B){return i(B),c(B<0?0:y(B)|0)}a.allocUnsafe=function(B){return m(B)},a.allocUnsafeSlow=function(B){return m(B)};function D(B,S){if((typeof S!="string"||S==="")&&(S="utf8"),!a.isEncoding(S))throw new TypeError("Unknown encoding: "+S);const w=E(B,S)|0;let W=c(w);const K=W.write(B,S);return K!==w&&(W=W.slice(0,K)),W}function u(B){const S=B.length<0?0:y(B.length)|0,w=c(S);for(let W=0;W<S;W+=1)w[W]=B[W]&255;return w}function _(B){if(X(B,h)){const S=new h(B);return g(S.buffer,S.byteOffset,S.byteLength)}return u(B)}function g(B,S,w){if(S<0||B.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<S+(w||0))throw new RangeError('"length" is outside of buffer bounds');let W;return S===void 0&&w===void 0?W=new h(B):w===void 0?W=new h(B,S):W=new h(B,S,w),Object.setPrototypeOf(W,a.prototype),W}function v(B){if(a.isBuffer(B)){const S=y(B.length)|0,w=c(S);return w.length===0||B.copy(w,0,0,S),w}if(B.length!==void 0)return typeof B.length!="number"||ae(B.length)?c(0):u(B);if(B.type==="Buffer"&&Array.isArray(B.data))return u(B.data)}function y(B){if(B>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return B|0}function b(B){return+B!=B&&(B=0),a.alloc(+B)}a.isBuffer=function(S){return S!=null&&S._isBuffer===!0&&S!==a.prototype},a.compare=function(S,w){if(X(S,h)&&(S=a.from(S,S.offset,S.byteLength)),X(w,h)&&(w=a.from(w,w.offset,w.byteLength)),!a.isBuffer(S)||!a.isBuffer(w))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(S===w)return 0;let W=S.length,K=w.length;for(let Q=0,ie=Math.min(W,K);Q<ie;++Q)if(S[Q]!==w[Q]){W=S[Q],K=w[Q];break}return W<K?-1:K<W?1:0},a.isEncoding=function(S){switch(String(S).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(S,w){if(!Array.isArray(S))throw new TypeError('"list" argument must be an Array of Buffers');if(S.length===0)return a.alloc(0);let W;if(w===void 0)for(w=0,W=0;W<S.length;++W)w+=S[W].length;const K=a.allocUnsafe(w);let Q=0;for(W=0;W<S.length;++W){let ie=S[W];if(X(ie,h))Q+ie.length>K.length?(a.isBuffer(ie)||(ie=a.from(ie)),ie.copy(K,Q)):h.prototype.set.call(K,ie,Q);else if(a.isBuffer(ie))ie.copy(K,Q);else throw new TypeError('"list" argument must be an Array of Buffers');Q+=ie.length}return K};function E(B,S){if(a.isBuffer(B))return B.length;if(p.isView(B)||X(B,p))return B.byteLength;if(typeof B!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);const w=B.length,W=arguments.length>2&&arguments[2]===!0;if(!W&&w===0)return 0;let K=!1;for(;;)switch(S){case"ascii":case"latin1":case"binary":return w;case"utf8":case"utf-8":return st(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w*2;case"hex":return w>>>1;case"base64":return Le(B).length;default:if(K)return W?-1:st(B).length;S=(""+S).toLowerCase(),K=!0}}a.byteLength=E;function F(B,S,w){let W=!1;if((S===void 0||S<0)&&(S=0),S>this.length||((w===void 0||w>this.length)&&(w=this.length),w<=0)||(w>>>=0,S>>>=0,w<=S))return"";for(B||(B="utf8");;)switch(B){case"hex":return I(this,S,w);case"utf8":case"utf-8":return ee(this,S,w);case"ascii":return P(this,S,w);case"latin1":case"binary":return q(this,S,w);case"base64":return te(this,S,w);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,S,w);default:if(W)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),W=!0}}a.prototype._isBuffer=!0;function C(B,S,w){const W=B[S];B[S]=B[w],B[w]=W}a.prototype.swap16=function(){const S=this.length;if(S%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let w=0;w<S;w+=2)C(this,w,w+1);return this},a.prototype.swap32=function(){const S=this.length;if(S%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let w=0;w<S;w+=4)C(this,w,w+3),C(this,w+1,w+2);return this},a.prototype.swap64=function(){const S=this.length;if(S%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let w=0;w<S;w+=8)C(this,w,w+7),C(this,w+1,w+6),C(this,w+2,w+5),C(this,w+3,w+4);return this},a.prototype.toString=function(){const S=this.length;return S===0?"":arguments.length===0?ee(this,0,S):F.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(S){if(!a.isBuffer(S))throw new TypeError("Argument must be a Buffer");return this===S?!0:a.compare(this,S)===0},a.prototype.inspect=function(){let S="";const w=t.INSPECT_MAX_BYTES;return S=this.toString("hex",0,w).replace(/(.{2})/g,"$1 ").trim(),this.length>w&&(S+=" ... "),"<Buffer "+S+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(S,w,W,K,Q){if(X(S,h)&&(S=a.from(S,S.offset,S.byteLength)),!a.isBuffer(S))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof S);if(w===void 0&&(w=0),W===void 0&&(W=S?S.length:0),K===void 0&&(K=0),Q===void 0&&(Q=this.length),w<0||W>S.length||K<0||Q>this.length)throw new RangeError("out of range index");if(K>=Q&&w>=W)return 0;if(K>=Q)return-1;if(w>=W)return 1;if(w>>>=0,W>>>=0,K>>>=0,Q>>>=0,this===S)return 0;let ie=Q-K,ye=W-w;const we=Math.min(ie,ye),Fe=this.slice(K,Q),He=S.slice(w,W);for(let Oe=0;Oe<we;++Oe)if(Fe[Oe]!==He[Oe]){ie=Fe[Oe],ye=He[Oe];break}return ie<ye?-1:ye<ie?1:0};function A(B,S,w,W,K){if(B.length===0)return-1;if(typeof w=="string"?(W=w,w=0):w>2147483647?w=2147483647:w<-2147483648&&(w=-2147483648),w=+w,ae(w)&&(w=K?0:B.length-1),w<0&&(w=B.length+w),w>=B.length){if(K)return-1;w=B.length-1}else if(w<0)if(K)w=0;else return-1;if(typeof S=="string"&&(S=a.from(S,W)),a.isBuffer(S))return S.length===0?-1:L(B,S,w,W,K);if(typeof S=="number")return S=S&255,typeof h.prototype.indexOf=="function"?K?h.prototype.indexOf.call(B,S,w):h.prototype.lastIndexOf.call(B,S,w):L(B,[S],w,W,K);throw new TypeError("val must be string, number or Buffer")}function L(B,S,w,W,K){let Q=1,ie=B.length,ye=S.length;if(W!==void 0&&(W=String(W).toLowerCase(),W==="ucs2"||W==="ucs-2"||W==="utf16le"||W==="utf-16le")){if(B.length<2||S.length<2)return-1;Q=2,ie/=2,ye/=2,w/=2}function we(He,Oe){return Q===1?He[Oe]:He.readUInt16BE(Oe*Q)}let Fe;if(K){let He=-1;for(Fe=w;Fe<ie;Fe++)if(we(B,Fe)===we(S,He===-1?0:Fe-He)){if(He===-1&&(He=Fe),Fe-He+1===ye)return He*Q}else He!==-1&&(Fe-=Fe-He),He=-1}else for(w+ye>ie&&(w=ie-ye),Fe=w;Fe>=0;Fe--){let He=!0;for(let Oe=0;Oe<ye;Oe++)if(we(B,Fe+Oe)!==we(S,Oe)){He=!1;break}if(He)return Fe}return-1}a.prototype.includes=function(S,w,W){return this.indexOf(S,w,W)!==-1},a.prototype.indexOf=function(S,w,W){return A(this,S,w,W,!0)},a.prototype.lastIndexOf=function(S,w,W){return A(this,S,w,W,!1)};function T(B,S,w,W){w=Number(w)||0;const K=B.length-w;W?(W=Number(W),W>K&&(W=K)):W=K;const Q=S.length;W>Q/2&&(W=Q/2);let ie;for(ie=0;ie<W;++ie){const ye=parseInt(S.substr(ie*2,2),16);if(ae(ye))return ie;B[w+ie]=ye}return ie}function O(B,S,w,W){return J(st(S,B.length-w),B,w,W)}function H(B,S,w,W){return J(Ke(S),B,w,W)}function Y(B,S,w,W){return J(Le(S),B,w,W)}function Z(B,S,w,W){return J(nt(S,B.length-w),B,w,W)}a.prototype.write=function(S,w,W,K){if(w===void 0)K="utf8",W=this.length,w=0;else if(W===void 0&&typeof w=="string")K=w,W=this.length,w=0;else if(isFinite(w))w=w>>>0,isFinite(W)?(W=W>>>0,K===void 0&&(K="utf8")):(K=W,W=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Q=this.length-w;if((W===void 0||W>Q)&&(W=Q),S.length>0&&(W<0||w<0)||w>this.length)throw new RangeError("Attempt to write outside buffer bounds");K||(K="utf8");let ie=!1;for(;;)switch(K){case"hex":return T(this,S,w,W);case"utf8":case"utf-8":return O(this,S,w,W);case"ascii":case"latin1":case"binary":return H(this,S,w,W);case"base64":return Y(this,S,w,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,S,w,W);default:if(ie)throw new TypeError("Unknown encoding: "+K);K=(""+K).toLowerCase(),ie=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function te(B,S,w){return S===0&&w===B.length?e.fromByteArray(B):e.fromByteArray(B.slice(S,w))}function ee(B,S,w){w=Math.min(B.length,w);const W=[];let K=S;for(;K<w;){const Q=B[K];let ie=null,ye=Q>239?4:Q>223?3:Q>191?2:1;if(K+ye<=w){let we,Fe,He,Oe;switch(ye){case 1:Q<128&&(ie=Q);break;case 2:we=B[K+1],(we&192)===128&&(Oe=(Q&31)<<6|we&63,Oe>127&&(ie=Oe));break;case 3:we=B[K+1],Fe=B[K+2],(we&192)===128&&(Fe&192)===128&&(Oe=(Q&15)<<12|(we&63)<<6|Fe&63,Oe>2047&&(Oe<55296||Oe>57343)&&(ie=Oe));break;case 4:we=B[K+1],Fe=B[K+2],He=B[K+3],(we&192)===128&&(Fe&192)===128&&(He&192)===128&&(Oe=(Q&15)<<18|(we&63)<<12|(Fe&63)<<6|He&63,Oe>65535&&Oe<1114112&&(ie=Oe))}}ie===null?(ie=65533,ye=1):ie>65535&&(ie-=65536,W.push(ie>>>10&1023|55296),ie=56320|ie&1023),W.push(ie),K+=ye}return R(W)}const k=4096;function R(B){const S=B.length;if(S<=k)return String.fromCharCode.apply(String,B);let w="",W=0;for(;W<S;)w+=String.fromCharCode.apply(String,B.slice(W,W+=k));return w}function P(B,S,w){let W="";w=Math.min(B.length,w);for(let K=S;K<w;++K)W+=String.fromCharCode(B[K]&127);return W}function q(B,S,w){let W="";w=Math.min(B.length,w);for(let K=S;K<w;++K)W+=String.fromCharCode(B[K]);return W}function I(B,S,w){const W=B.length;(!S||S<0)&&(S=0),(!w||w<0||w>W)&&(w=W);let K="";for(let Q=S;Q<w;++Q)K+=fe[B[Q]];return K}function G(B,S,w){const W=B.slice(S,w);let K="";for(let Q=0;Q<W.length-1;Q+=2)K+=String.fromCharCode(W[Q]+W[Q+1]*256);return K}a.prototype.slice=function(S,w){const W=this.length;S=~~S,w=w===void 0?W:~~w,S<0?(S+=W,S<0&&(S=0)):S>W&&(S=W),w<0?(w+=W,w<0&&(w=0)):w>W&&(w=W),w<S&&(w=S);const K=this.subarray(S,w);return Object.setPrototypeOf(K,a.prototype),K};function M(B,S,w){if(B%1!==0||B<0)throw new RangeError("offset is not uint");if(B+S>w)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(S,w,W){S=S>>>0,w=w>>>0,W||M(S,w,this.length);let K=this[S],Q=1,ie=0;for(;++ie<w&&(Q*=256);)K+=this[S+ie]*Q;return K},a.prototype.readUintBE=a.prototype.readUIntBE=function(S,w,W){S=S>>>0,w=w>>>0,W||M(S,w,this.length);let K=this[S+--w],Q=1;for(;w>0&&(Q*=256);)K+=this[S+--w]*Q;return K},a.prototype.readUint8=a.prototype.readUInt8=function(S,w){return S=S>>>0,w||M(S,1,this.length),this[S]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(S,w){return S=S>>>0,w||M(S,2,this.length),this[S]|this[S+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(S,w){return S=S>>>0,w||M(S,2,this.length),this[S]<<8|this[S+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(S,w){return S=S>>>0,w||M(S,4,this.length),(this[S]|this[S+1]<<8|this[S+2]<<16)+this[S+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(S,w){return S=S>>>0,w||M(S,4,this.length),this[S]*16777216+(this[S+1]<<16|this[S+2]<<8|this[S+3])},a.prototype.readBigUInt64LE=le(function(S){S=S>>>0,Pe(S,"offset");const w=this[S],W=this[S+7];(w===void 0||W===void 0)&&ge(S,this.length-8);const K=w+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24,Q=this[++S]+this[++S]*2**8+this[++S]*2**16+W*2**24;return BigInt(K)+(BigInt(Q)<<BigInt(32))}),a.prototype.readBigUInt64BE=le(function(S){S=S>>>0,Pe(S,"offset");const w=this[S],W=this[S+7];(w===void 0||W===void 0)&&ge(S,this.length-8);const K=w*2**24+this[++S]*2**16+this[++S]*2**8+this[++S],Q=this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+W;return(BigInt(K)<<BigInt(32))+BigInt(Q)}),a.prototype.readIntLE=function(S,w,W){S=S>>>0,w=w>>>0,W||M(S,w,this.length);let K=this[S],Q=1,ie=0;for(;++ie<w&&(Q*=256);)K+=this[S+ie]*Q;return Q*=128,K>=Q&&(K-=Math.pow(2,8*w)),K},a.prototype.readIntBE=function(S,w,W){S=S>>>0,w=w>>>0,W||M(S,w,this.length);let K=w,Q=1,ie=this[S+--K];for(;K>0&&(Q*=256);)ie+=this[S+--K]*Q;return Q*=128,ie>=Q&&(ie-=Math.pow(2,8*w)),ie},a.prototype.readInt8=function(S,w){return S=S>>>0,w||M(S,1,this.length),this[S]&128?(255-this[S]+1)*-1:this[S]},a.prototype.readInt16LE=function(S,w){S=S>>>0,w||M(S,2,this.length);const W=this[S]|this[S+1]<<8;return W&32768?W|4294901760:W},a.prototype.readInt16BE=function(S,w){S=S>>>0,w||M(S,2,this.length);const W=this[S+1]|this[S]<<8;return W&32768?W|4294901760:W},a.prototype.readInt32LE=function(S,w){return S=S>>>0,w||M(S,4,this.length),this[S]|this[S+1]<<8|this[S+2]<<16|this[S+3]<<24},a.prototype.readInt32BE=function(S,w){return S=S>>>0,w||M(S,4,this.length),this[S]<<24|this[S+1]<<16|this[S+2]<<8|this[S+3]},a.prototype.readBigInt64LE=le(function(S){S=S>>>0,Pe(S,"offset");const w=this[S],W=this[S+7];(w===void 0||W===void 0)&&ge(S,this.length-8);const K=this[S+4]+this[S+5]*2**8+this[S+6]*2**16+(W<<24);return(BigInt(K)<<BigInt(32))+BigInt(w+this[++S]*2**8+this[++S]*2**16+this[++S]*2**24)}),a.prototype.readBigInt64BE=le(function(S){S=S>>>0,Pe(S,"offset");const w=this[S],W=this[S+7];(w===void 0||W===void 0)&&ge(S,this.length-8);const K=(w<<24)+this[++S]*2**16+this[++S]*2**8+this[++S];return(BigInt(K)<<BigInt(32))+BigInt(this[++S]*2**24+this[++S]*2**16+this[++S]*2**8+W)}),a.prototype.readFloatLE=function(S,w){return S=S>>>0,w||M(S,4,this.length),r.read(this,S,!0,23,4)},a.prototype.readFloatBE=function(S,w){return S=S>>>0,w||M(S,4,this.length),r.read(this,S,!1,23,4)},a.prototype.readDoubleLE=function(S,w){return S=S>>>0,w||M(S,8,this.length),r.read(this,S,!0,52,8)},a.prototype.readDoubleBE=function(S,w){return S=S>>>0,w||M(S,8,this.length),r.read(this,S,!1,52,8)};function $(B,S,w,W,K,Q){if(!a.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>K||S<Q)throw new RangeError('"value" argument is out of bounds');if(w+W>B.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(S,w,W,K){if(S=+S,w=w>>>0,W=W>>>0,!K){const ye=Math.pow(2,8*W)-1;$(this,S,w,W,ye,0)}let Q=1,ie=0;for(this[w]=S&255;++ie<W&&(Q*=256);)this[w+ie]=S/Q&255;return w+W},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(S,w,W,K){if(S=+S,w=w>>>0,W=W>>>0,!K){const ye=Math.pow(2,8*W)-1;$(this,S,w,W,ye,0)}let Q=W-1,ie=1;for(this[w+Q]=S&255;--Q>=0&&(ie*=256);)this[w+Q]=S/ie&255;return w+W},a.prototype.writeUint8=a.prototype.writeUInt8=function(S,w,W){return S=+S,w=w>>>0,W||$(this,S,w,1,255,0),this[w]=S&255,w+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(S,w,W){return S=+S,w=w>>>0,W||$(this,S,w,2,65535,0),this[w]=S&255,this[w+1]=S>>>8,w+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(S,w,W){return S=+S,w=w>>>0,W||$(this,S,w,2,65535,0),this[w]=S>>>8,this[w+1]=S&255,w+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(S,w,W){return S=+S,w=w>>>0,W||$(this,S,w,4,4294967295,0),this[w+3]=S>>>24,this[w+2]=S>>>16,this[w+1]=S>>>8,this[w]=S&255,w+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(S,w,W){return S=+S,w=w>>>0,W||$(this,S,w,4,4294967295,0),this[w]=S>>>24,this[w+1]=S>>>16,this[w+2]=S>>>8,this[w+3]=S&255,w+4};function z(B,S,w,W,K){Se(S,W,K,B,w,7);let Q=Number(S&BigInt(4294967295));B[w++]=Q,Q=Q>>8,B[w++]=Q,Q=Q>>8,B[w++]=Q,Q=Q>>8,B[w++]=Q;let ie=Number(S>>BigInt(32)&BigInt(4294967295));return B[w++]=ie,ie=ie>>8,B[w++]=ie,ie=ie>>8,B[w++]=ie,ie=ie>>8,B[w++]=ie,w}function x(B,S,w,W,K){Se(S,W,K,B,w,7);let Q=Number(S&BigInt(4294967295));B[w+7]=Q,Q=Q>>8,B[w+6]=Q,Q=Q>>8,B[w+5]=Q,Q=Q>>8,B[w+4]=Q;let ie=Number(S>>BigInt(32)&BigInt(4294967295));return B[w+3]=ie,ie=ie>>8,B[w+2]=ie,ie=ie>>8,B[w+1]=ie,ie=ie>>8,B[w]=ie,w+8}a.prototype.writeBigUInt64LE=le(function(S,w=0){return z(this,S,w,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=le(function(S,w=0){return x(this,S,w,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(S,w,W,K){if(S=+S,w=w>>>0,!K){const we=Math.pow(2,8*W-1);$(this,S,w,W,we-1,-we)}let Q=0,ie=1,ye=0;for(this[w]=S&255;++Q<W&&(ie*=256);)S<0&&ye===0&&this[w+Q-1]!==0&&(ye=1),this[w+Q]=(S/ie>>0)-ye&255;return w+W},a.prototype.writeIntBE=function(S,w,W,K){if(S=+S,w=w>>>0,!K){const we=Math.pow(2,8*W-1);$(this,S,w,W,we-1,-we)}let Q=W-1,ie=1,ye=0;for(this[w+Q]=S&255;--Q>=0&&(ie*=256);)S<0&&ye===0&&this[w+Q+1]!==0&&(ye=1),this[w+Q]=(S/ie>>0)-ye&255;return w+W},a.prototype.writeInt8=function(S,w,W){return S=+S,w=w>>>0,W||$(this,S,w,1,127,-128),S<0&&(S=255+S+1),this[w]=S&255,w+1},a.prototype.writeInt16LE=function(S,w,W){return S=+S,w=w>>>0,W||$(this,S,w,2,32767,-32768),this[w]=S&255,this[w+1]=S>>>8,w+2},a.prototype.writeInt16BE=function(S,w,W){return S=+S,w=w>>>0,W||$(this,S,w,2,32767,-32768),this[w]=S>>>8,this[w+1]=S&255,w+2},a.prototype.writeInt32LE=function(S,w,W){return S=+S,w=w>>>0,W||$(this,S,w,4,2147483647,-2147483648),this[w]=S&255,this[w+1]=S>>>8,this[w+2]=S>>>16,this[w+3]=S>>>24,w+4},a.prototype.writeInt32BE=function(S,w,W){return S=+S,w=w>>>0,W||$(this,S,w,4,2147483647,-2147483648),S<0&&(S=4294967295+S+1),this[w]=S>>>24,this[w+1]=S>>>16,this[w+2]=S>>>8,this[w+3]=S&255,w+4},a.prototype.writeBigInt64LE=le(function(S,w=0){return z(this,S,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=le(function(S,w=0){return x(this,S,w,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function j(B,S,w,W,K,Q){if(w+W>B.length)throw new RangeError("Index out of range");if(w<0)throw new RangeError("Index out of range")}function U(B,S,w,W,K){return S=+S,w=w>>>0,K||j(B,S,w,4),r.write(B,S,w,W,23,4),w+4}a.prototype.writeFloatLE=function(S,w,W){return U(this,S,w,!0,W)},a.prototype.writeFloatBE=function(S,w,W){return U(this,S,w,!1,W)};function V(B,S,w,W,K){return S=+S,w=w>>>0,K||j(B,S,w,8),r.write(B,S,w,W,52,8),w+8}a.prototype.writeDoubleLE=function(S,w,W){return V(this,S,w,!0,W)},a.prototype.writeDoubleBE=function(S,w,W){return V(this,S,w,!1,W)},a.prototype.copy=function(S,w,W,K){if(!a.isBuffer(S))throw new TypeError("argument should be a Buffer");if(W||(W=0),!K&&K!==0&&(K=this.length),w>=S.length&&(w=S.length),w||(w=0),K>0&&K<W&&(K=W),K===W||S.length===0||this.length===0)return 0;if(w<0)throw new RangeError("targetStart out of bounds");if(W<0||W>=this.length)throw new RangeError("Index out of range");if(K<0)throw new RangeError("sourceEnd out of bounds");K>this.length&&(K=this.length),S.length-w<K-W&&(K=S.length-w+W);const Q=K-W;return this===S&&typeof h.prototype.copyWithin=="function"?this.copyWithin(w,W,K):h.prototype.set.call(S,this.subarray(W,K),w),Q},a.prototype.fill=function(S,w,W,K){if(typeof S=="string"){if(typeof w=="string"?(K=w,w=0,W=this.length):typeof W=="string"&&(K=W,W=this.length),K!==void 0&&typeof K!="string")throw new TypeError("encoding must be a string");if(typeof K=="string"&&!a.isEncoding(K))throw new TypeError("Unknown encoding: "+K);if(S.length===1){const ie=S.charCodeAt(0);(K==="utf8"&&ie<128||K==="latin1")&&(S=ie)}}else typeof S=="number"?S=S&255:typeof S=="boolean"&&(S=Number(S));if(w<0||this.length<w||this.length<W)throw new RangeError("Out of range index");if(W<=w)return this;w=w>>>0,W=W===void 0?this.length:W>>>0,S||(S=0);let Q;if(typeof S=="number")for(Q=w;Q<W;++Q)this[Q]=S;else{const ie=a.isBuffer(S)?S:a.from(S,K),ye=ie.length;if(ye===0)throw new TypeError('The value "'+S+'" is invalid for argument "value"');for(Q=0;Q<W-w;++Q)this[Q+w]=ie[Q%ye]}return this};const re={};function se(B,S,w){re[B]=class extends w{constructor(){super(),Object.defineProperty(this,"message",{value:S.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${B}]`,this.stack,delete this.name}get code(){return B}set code(K){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:K,writable:!0})}toString(){return`${this.name} [${B}]: ${this.message}`}}}se("ERR_BUFFER_OUT_OF_BOUNDS",function(B){return B?`${B} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),se("ERR_INVALID_ARG_TYPE",function(B,S){return`The "${B}" argument must be of type number. Received type ${typeof S}`},TypeError),se("ERR_OUT_OF_RANGE",function(B,S,w){let W=`The value of "${B}" is out of range.`,K=w;return Number.isInteger(w)&&Math.abs(w)>2**32?K=he(String(w)):typeof w=="bigint"&&(K=String(w),(w>BigInt(2)**BigInt(32)||w<-(BigInt(2)**BigInt(32)))&&(K=he(K)),K+="n"),W+=` It must be ${S}. Received ${K}`,W},RangeError);function he(B){let S="",w=B.length;const W=B[0]==="-"?1:0;for(;w>=W+4;w-=3)S=`_${B.slice(w-3,w)}${S}`;return`${B.slice(0,w)}${S}`}function me(B,S,w){Pe(S,"offset"),(B[S]===void 0||B[S+w]===void 0)&&ge(S,B.length-(w+1))}function Se(B,S,w,W,K,Q){if(B>w||B<S){const ie=typeof S=="bigint"?"n":"";let ye;throw S===0||S===BigInt(0)?ye=`>= 0${ie} and < 2${ie} ** ${(Q+1)*8}${ie}`:ye=`>= -(2${ie} ** ${(Q+1)*8-1}${ie}) and < 2 ** ${(Q+1)*8-1}${ie}`,new re.ERR_OUT_OF_RANGE("value",ye,B)}me(W,K,Q)}function Pe(B,S){if(typeof B!="number")throw new re.ERR_INVALID_ARG_TYPE(S,"number",B)}function ge(B,S,w){throw Math.floor(B)!==B?(Pe(B,w),new re.ERR_OUT_OF_RANGE("offset","an integer",B)):S<0?new re.ERR_BUFFER_OUT_OF_BOUNDS:new re.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${S}`,B)}const Me=/[^+/0-9A-Za-z-_]/g;function ne(B){if(B=B.split("=")[0],B=B.trim().replace(Me,""),B.length<2)return"";for(;B.length%4!==0;)B=B+"=";return B}function st(B,S){S=S||1/0;let w;const W=B.length;let K=null;const Q=[];for(let ie=0;ie<W;++ie){if(w=B.charCodeAt(ie),w>55295&&w<57344){if(!K){if(w>56319){(S-=3)>-1&&Q.push(239,191,189);continue}else if(ie+1===W){(S-=3)>-1&&Q.push(239,191,189);continue}K=w;continue}if(w<56320){(S-=3)>-1&&Q.push(239,191,189),K=w;continue}w=(K-55296<<10|w-56320)+65536}else K&&(S-=3)>-1&&Q.push(239,191,189);if(K=null,w<128){if((S-=1)<0)break;Q.push(w)}else if(w<2048){if((S-=2)<0)break;Q.push(w>>6|192,w&63|128)}else if(w<65536){if((S-=3)<0)break;Q.push(w>>12|224,w>>6&63|128,w&63|128)}else if(w<1114112){if((S-=4)<0)break;Q.push(w>>18|240,w>>12&63|128,w>>6&63|128,w&63|128)}else throw new Error("Invalid code point")}return Q}function Ke(B){const S=[];for(let w=0;w<B.length;++w)S.push(B.charCodeAt(w)&255);return S}function nt(B,S){let w,W,K;const Q=[];for(let ie=0;ie<B.length&&!((S-=2)<0);++ie)w=B.charCodeAt(ie),W=w>>8,K=w%256,Q.push(K),Q.push(W);return Q}function Le(B){return e.toByteArray(ne(B))}function J(B,S,w,W){let K;for(K=0;K<W&&!(K+w>=S.length||K>=B.length);++K)S[K+w]=B[K];return K}function X(B,S){return B instanceof S||B!=null&&B.constructor!=null&&B.constructor.name!=null&&B.constructor.name===S.name}function ae(B){return B!==B}const fe=function(){const B="0123456789abcdef",S=new Array(256);for(let w=0;w<16;++w){const W=w*16;for(let K=0;K<16;++K)S[W+K]=B[w]+B[K]}return S}();function le(B){return typeof BigInt>"u"?De:B}function De(){throw new Error("BigInt not supported")}})(au);const xs=au.Buffer;function Id(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lu={exports:{}},We=lu.exports={},wt,Et;function Bs(){throw new Error("setTimeout has not been defined")}function ks(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?wt=setTimeout:wt=Bs}catch{wt=Bs}try{typeof clearTimeout=="function"?Et=clearTimeout:Et=ks}catch{Et=ks}})();function hu(t){if(wt===setTimeout)return setTimeout(t,0);if((wt===Bs||!wt)&&setTimeout)return wt=setTimeout,setTimeout(t,0);try{return wt(t,0)}catch{try{return wt.call(null,t,0)}catch{return wt.call(this,t,0)}}}function Md(t){if(Et===clearTimeout)return clearTimeout(t);if((Et===ks||!Et)&&clearTimeout)return Et=clearTimeout,clearTimeout(t);try{return Et(t)}catch{try{return Et.call(null,t)}catch{return Et.call(this,t)}}}var Lt=[],Sr=!1,Xt,Ai=-1;function jd(){!Sr||!Xt||(Sr=!1,Xt.length?Lt=Xt.concat(Lt):Ai=-1,Lt.length&&cu())}function cu(){if(!Sr){var t=hu(jd);Sr=!0;for(var e=Lt.length;e;){for(Xt=Lt,Lt=[];++Ai<e;)Xt&&Xt[Ai].run();Ai=-1,e=Lt.length}Xt=null,Sr=!1,Md(t)}}We.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Lt.push(new fu(t,e)),Lt.length===1&&!Sr&&hu(cu)};function fu(t,e){this.fun=t,this.array=e}fu.prototype.run=function(){this.fun.apply(null,this.array)},We.title="browser",We.browser=!0,We.env={},We.argv=[],We.version="",We.versions={};function Tt(){}We.on=Tt,We.addListener=Tt,We.once=Tt,We.off=Tt,We.removeListener=Tt,We.removeAllListeners=Tt,We.emit=Tt,We.prependListener=Tt,We.prependOnceListener=Tt,We.listeners=function(t){return[]},We.binding=function(t){throw new Error("process.binding is not supported")},We.cwd=function(){return"/"},We.chdir=function(t){throw new Error("process.chdir is not supported")},We.umask=function(){return 0};var Hd=lu.exports;const oe=Id(Hd),Os=((zf=globalThis.window)==null?void 0:zf.document)!==void 0;(Vf=(Gf=globalThis.process)==null?void 0:Gf.versions)==null||Vf.node,(Yf=(Kf=globalThis.process)==null?void 0:Kf.versions)==null||Yf.bun,(Xf=(Jf=globalThis.Deno)==null?void 0:Jf.version)==null||Xf.deno,(Qf=(Zf=globalThis.process)==null?void 0:Zf.versions)==null||Qf.electron,(td=(ed=globalThis.navigator)==null?void 0:ed.userAgent)==null||td.includes("jsdom"),typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope,typeof DedicatedWorkerGlobalScope<"u"&&globalThis instanceof DedicatedWorkerGlobalScope,typeof SharedWorkerGlobalScope<"u"&&globalThis instanceof SharedWorkerGlobalScope,typeof ServiceWorkerGlobalScope<"u"&&globalThis instanceof ServiceWorkerGlobalScope;const xi=(id=(rd=globalThis.navigator)==null?void 0:rd.userAgentData)==null?void 0:id.platform;xi==="macOS"||((sd=globalThis.navigator)==null?void 0:sd.platform)==="MacIntel"||((od=(nd=globalThis.navigator)==null?void 0:nd.userAgent)==null?void 0:od.includes(" Mac "))===!0||((ad=globalThis.process)==null||ad.platform),xi==="Windows"||((ud=globalThis.navigator)==null?void 0:ud.platform)==="Win32"||((ld=globalThis.process)==null||ld.platform),xi==="Linux"||((cd=(hd=globalThis.navigator)==null?void 0:hd.platform)==null?void 0:cd.startsWith("Linux"))===!0||((dd=(fd=globalThis.navigator)==null?void 0:fd.userAgent)==null?void 0:dd.includes(" Linux "))===!0||((pd=globalThis.process)==null||pd.platform),xi==="Android"||((gd=globalThis.navigator)==null?void 0:gd.platform)==="Android"||((_d=(md=globalThis.navigator)==null?void 0:md.userAgent)==null?void 0:_d.includes(" Android "))===!0||((vd=globalThis.process)==null||vd.platform);const xe="\x1B[",du="\x1B]",Rs="\x07",Gr=";",pu=!Os&&oe.env.TERM_PROGRAM==="Apple_Terminal",Nd=!Os&&oe.platform==="win32";Os||oe.cwd;const Ps=(t,e)=>{if(typeof t!="number")throw new TypeError("The `x` argument is required");return typeof e!="number"?xe+(t+1)+"G":xe+(e+1)+Gr+(t+1)+"H"},Ls=(t,e)=>{if(typeof t!="number")throw new TypeError("The `x` argument is required");let r="";return t<0?r+=xe+-t+"D":t>0&&(r+=xe+t+"C"),e<0?r+=xe+-e+"A":e>0&&(r+=xe+e+"B"),r},Ts=(t=1)=>xe+t+"A",gu=(t=1)=>xe+t+"B",Is=(t=1)=>xe+t+"C",mu=(t=1)=>xe+t+"D",Bi=xe+"G",Wd=pu?"\x1B7":xe+"s",_u=pu?"\x1B8":xe+"u",vu=xe+"E",Ms=xe+"F",Ud=xe+"?25l",$d=xe+"?25h",qd=t=>{let e="";for(let r=0;r<t;r++)e+=yu+(r<t-1?Ts():"");return t&&(e+=Bi),e},ki=xe+"K",Du=xe+"1K",yu=xe+"2K",zd=xe+"J",Gd=xe+"1J",js=xe+"2J",Vd=xe+"S",Kd=xe+"T",Yd="\x1Bc",Jd=Nd?`${js}${xe}0f`:`${js}${xe}3J${xe}H`,Xd=Rs,Zd=(t,e)=>[du,"8",Gr,Gr,e,Rs,t,du,"8",Gr,Gr,Rs].join("");class Qd{constructor(e){this.size=e,this.entries=[],this.cursor=0}push(e){if(e.trim()==="")return;const r=this.entries[this.entries.length-1];e!=r&&(this.entries.push(e),this.entries.length>this.size&&this.entries.pop(0),this.cursor=this.entries.length)}rewind(){this.cursor=this.entries.length}getPrevious(){const e=Math.max(0,this.cursor-1);return this.cursor=e,this.entries[e]}getNext(){const e=Math.min(this.entries.length,this.cursor+1);return this.cursor=e,this.entries[e]}}for(var bu="(?:"+["\\|\\|","\\&\\&",";;","\\|\\&","\\<\\(","\\<\\<\\<",">>",">\\&","<\\&","[&;()|<>]"].join("|")+")",Cu=new RegExp("^"+bu+"$"),Su="|&;()<> \\t",ep='"((\\\\"|[^"])*?)"',tp="'((\\\\'|[^'])*?)'",rp=/^#$/,wu="'",Eu='"',Hs="$",Zt="",ip=4294967296,Fu=0;Fu<4;Fu++)Zt+=(ip*Math.random()).toString(16);var sp=new RegExp("^"+Zt);function np(t,e){for(var r=e.lastIndex,n=[],o;o=e.exec(t);)n.push(o),e.lastIndex===o.index&&(e.lastIndex+=1);return e.lastIndex=r,n}function op(t,e,r){var n=typeof t=="function"?t(r):t[r];return typeof n>"u"&&r!=""?n="":typeof n>"u"&&(n="$"),typeof n=="object"?e+Zt+JSON.stringify(n)+Zt:e+n}function ap(t,e,r){r||(r={});var n=r.escape||"\\",o="(\\"+n+`['"`+Su+`]|[^\\s'"`+Su+"])+",h=new RegExp(["("+bu+")","("+o+"|"+ep+"|"+tp+")+"].join("|"),"g"),p=np(t,h);if(p.length===0)return[];e||(e={});var s=!1;return p.map(function(l){var c=l[0];if(!c||s)return;if(Cu.test(c))return{op:c};var a=!1,f=!1,i="",d=!1,m;function D(){m+=1;var g,v,y=c.charAt(m);if(y==="{"){if(m+=1,c.charAt(m)==="}")throw new Error("Bad substitution: "+c.slice(m-2,m+1));if(g=c.indexOf("}",m),g<0)throw new Error("Bad substitution: "+c.slice(m));v=c.slice(m,g),m=g}else if(/[*@#?$!_-]/.test(y))v=y,m+=1;else{var b=c.slice(m);g=b.match(/[^\w\d_]/),g?(v=b.slice(0,g.index),m+=g.index-1):(v=b,m=c.length)}return op(e,"",v)}for(m=0;m<c.length;m++){var u=c.charAt(m);if(d=d||!a&&(u==="*"||u==="?"),f)i+=u,f=!1;else if(a)u===a?a=!1:a==wu?i+=u:u===n?(m+=1,u=c.charAt(m),u===Eu||u===n||u===Hs?i+=u:i+=n+u):u===Hs?i+=D():i+=u;else if(u===Eu||u===wu)a=u;else{if(Cu.test(u))return{op:c};if(rp.test(u)){s=!0;var _={comment:t.slice(l.index+m+1)};return i.length?[i,_]:[_]}else u===n?f=!0:u===Hs?i+=D():i+=u}}return d?{op:"glob",pattern:i}:i}).reduce(function(l,c){return typeof c>"u"?l:l.concat(c)},[])}var up=function(e,r,n){var o=ap(e,r,n);return typeof r!="function"?o:o.reduce(function(h,p){if(typeof p=="object")return h.concat(p);var s=p.split(RegExp("("+Zt+".*?"+Zt+")","g"));return s.length===1?h.concat(s[0]):h.concat(s.filter(Boolean).map(function(l){return sp.test(l)?JSON.parse(l.split(Zt)[1]):l}))},[])},Au=up;function xu(t,e=!0){let r;const n=[],o=/\w+/g;for(;r=o.exec(t);)e?n.push(r.index):n.push(r.index+r[0].length);return n}function Bu(t,e){const r=xu(t,!0).reverse().find(n=>n<e);return r??0}function lp(t,e){const r=xu(t,!1).find(n=>n>e);return r??t.length}function Vr(t,e,r){let n=0,o=0;t=t.replace(Ei(),"");for(let h=0;h<e;++h)t.charAt(h)==`
`?(o=0,n+=1):(o+=1,o>r&&(o=0,n+=1));return{row:n,col:o}}function Ns(t,e){return Vr(t,t.replace(Ei(),"").length,e).row+1}function hp(t){return t.trim()==""?!1:!!((t.match(/'/g)||[]).length%2!==0||(t.match(/"/g)||[]).length%2!==0||t.split(/(\|\||\||&&)/g).pop().trim()==""||t.endsWith("\\")&&!t.endsWith("\\\\"))}function Ws(t){return t.match(/[^\\][ \t]$/m)!=null}function ku(t){return t.trim()===""||Ws(t)?"":Au(t).pop()||""}function cp(t,e){const r=Au(e);let n=r.length-1,o=r[n]||"";return e.trim()===""?(n=0,o=""):Ws(e)&&(n+=1,o=""),t.reduce((p,{fn:s,args:l})=>{try{return p.concat(s(n,r,...l))}catch(c){return console.error("Auto-complete error:",c),p}},[]).filter(p=>p.startsWith(o))}function Ou(t,e){if(t.length>=e[0].length)return t;const r=t;t+=e[0].slice(t.length,t.length+1);for(let n=0;n<e.length;n++){if(!e[n].startsWith(r))return null;if(!e[n].startsWith(t))return r}return Ou(t,e)}function fp(t){var e=/^(?:\x1b)([a-zA-Z0-9])$/,r=/^(?:\x1b+)(O|N|\[|\[\[)(?:(\d+)(?:;(\d+))?([~^$])|(?:1;)?(\d+)?([a-zA-Z]))/,n,o={name:void 0,ctrl:!1,meta:!1,shift:!1},h;if(xs.isBuffer(t)&&(t[0]>127&&t[1]===void 0?(t[0]-=128,t="\x1B"+t.toString("utf-8")):t=t.toString("utf-8")),o.sequence=t,t==="\r"||t===`
`)o.name="enter";else if(t==="	")o.name="tab";else if(t==="\b"||t===""||t==="\x1B"||t==="\x1B\b")o.name="backspace",o.meta=t.charAt(0)==="\x1B";else if(t==="\x1B"||t==="\x1B\x1B")o.name="escape",o.meta=t.length===2;else if(t===" "||t==="\x1B ")o.name="space",o.meta=t.length===2;else if(t<="")o.name=String.fromCharCode(t.charCodeAt(0)+97-1),o.ctrl=!0;else if(t.length===1&&t>="a"&&t<="z")o.name=t;else if(t.length===1&&t>="A"&&t<="Z")o.name=t.toLowerCase(),o.shift=!0;else if(h=e.exec(t))o.name=h[1].toLowerCase(),o.meta=!0,o.shift=/^[A-Z]$/.test(h[1]);else if(h=r.exec(t)){var p=(h[1]||"")+(h[2]||"")+(h[4]||"")+(h[6]||""),s=(h[3]||h[5]||1)-1;switch(o.ctrl=!!(s&4),o.meta=!!(s&10),o.shift=!!(s&1),o.code=p,p){case"OP":o.name="f1";break;case"OQ":o.name="f2";break;case"OR":o.name="f3";break;case"OS":o.name="f4";break;case"[11~":o.name="f1";break;case"[12~":o.name="f2";break;case"[13~":o.name="f3";break;case"[14~":o.name="f4";break;case"[[A":o.name="f1";break;case"[[B":o.name="f2";break;case"[[C":o.name="f3";break;case"[[D":o.name="f4";break;case"[[E":o.name="f5";break;case"[15~":o.name="f5";break;case"[17~":o.name="f6";break;case"[18~":o.name="f7";break;case"[19~":o.name="f8";break;case"[20~":o.name="f9";break;case"[21~":o.name="f10";break;case"[23~":o.name="f11";break;case"[24~":o.name="f12";break;case"[A":o.name="up";break;case"[B":o.name="down";break;case"[C":o.name="right";break;case"[D":o.name="left";break;case"[E":o.name="clear";break;case"[F":o.name="end";break;case"[H":o.name="home";break;case"OA":o.name="up";break;case"OB":o.name="down";break;case"OC":o.name="right";break;case"OD":o.name="left";break;case"OE":o.name="clear";break;case"OF":o.name="end";break;case"OH":o.name="home";break;case"[1~":o.name="home";break;case"[2~":o.name="insert";break;case"[3~":o.name="delete";break;case"[4~":o.name="end";break;case"[5~":o.name="pageup";break;case"[6~":o.name="pagedown";break;case"[[5~":o.name="pageup";break;case"[[6~":o.name="pagedown";break;case"[7~":o.name="home";break;case"[8~":o.name="end";break;case"[a":o.name="up",o.shift=!0;break;case"[b":o.name="down",o.shift=!0;break;case"[c":o.name="right",o.shift=!0;break;case"[d":o.name="left",o.shift=!0;break;case"[e":o.name="clear",o.shift=!0;break;case"[2$":o.name="insert",o.shift=!0;break;case"[3$":o.name="delete",o.shift=!0;break;case"[5$":o.name="pageup",o.shift=!0;break;case"[6$":o.name="pagedown",o.shift=!0;break;case"[7$":o.name="home",o.shift=!0;break;case"[8$":o.name="end",o.shift=!0;break;case"Oa":o.name="up",o.ctrl=!0;break;case"Ob":o.name="down",o.ctrl=!0;break;case"Oc":o.name="right",o.ctrl=!0;break;case"Od":o.name="left",o.ctrl=!0;break;case"Oe":o.name="clear",o.ctrl=!0;break;case"[2^":o.name="insert",o.ctrl=!0;break;case"[3^":o.name="delete",o.ctrl=!0;break;case"[5^":o.name="pageup",o.ctrl=!0;break;case"[6^":o.name="pagedown",o.ctrl=!0;break;case"[7^":o.name="home",o.ctrl=!0;break;case"[8^":o.name="end",o.ctrl=!0;break;case"[Z":o.name="tab",o.shift=!0;break;default:o.name="undefined";break}}if(o.name===void 0&&(o=void 0),t.length===1&&(n=t),o||n)return{ch:n,key:o}}class dp extends Ad{constructor(e=null,r={}){super(),this.term=e,this._handleTermData=this.handleTermData.bind(this),this._handleTermResize=this.handleTermResize.bind(this),this.history=new Qd(r.historySize||10),this.maxAutocompleteEntries=r.maxAutocompleteEntries||100,this._autocompleteHandlers=[],this._active=!1,this._input="",this._cursor=0,this._activePrompt=null,this._activeCharPrompt=null,this._termSize={cols:0,rows:0},this._disposables=[],e&&(e.loadAddon?e.loadAddon(this):this.attach()),typeof globalThis<"u"&&!globalThis.localEcho&&(globalThis.localEcho=this)}activate(e){this.term=e,this.attach()}dispose(){this.detach()}detach(){this._disposables.forEach(e=>e.dispose()),this._disposables=[],this.emit("pause")}attach(){this._disposables.push(this.term.onData(this._handleTermData)),this._disposables.push(this.term.onResize(this._handleTermResize)),this._termSize={cols:this.term.cols,rows:this.term.rows},this.emit("resume")}addAutocompleteHandler(e,...r){this._autocompleteHandlers.push({fn:e,args:r})}removeAutocompleteHandler(e){const r=this._autocompleteHandlers.findIndex(n=>n.fn===e);r!==-1&&this._autocompleteHandlers.splice(r,1)}read(e,r="> "){return new Promise((n,o)=>{this.term.write(e),this._activePrompt={prompt:e,continuationPrompt:r,resolve:n,reject:o},this._input="",this._cursor=0,this._active=!0,this.emit("resume")})}readChar(e){return new Promise((r,n)=>{this.term.write(e),this._activeCharPrompt={prompt:e,resolve:r,reject:n}})}abortRead(e="aborted"){(this._activePrompt!=null||this._activeCharPrompt!=null)&&this.term.write(`\r
`),this._activePrompt!=null&&(this._activePrompt.reject(e),this._activePrompt=null),this._activeCharPrompt!=null&&(this._activeCharPrompt.reject(e),this._activeCharPrompt=null),this._active=!1,this.emit("pause")}println(e){this.print(e+`
`)}print(e){this.term.write(e)}printWide(e,r=2){if(e.length==0)return println("");const n=e.reduce((s,l)=>Math.max(s,l.length),0)+r,o=Math.floor(this._termSize.cols/n),h=Math.ceil(e.length/o);let p=0;for(let s=0;s<h;++s){let l="";for(let c=0;c<o;++c)if(p<e.length){let a=e[p++];a+=" ".repeat(n-a.length),l+=a}this.println(l)}}applyPrompts(e){var o,h;const r=((o=this==null?void 0:this._activePrompt)==null?void 0:o.prompt)||"",n=((h=this==null?void 0:this._activePrompt)==null?void 0:h.continuationPrompt)||"";return r+e.replace(/\n/g,`
`+n)}applyPromptOffset(e,r){return this.applyPrompts(e.substr(0,r)).replace(Ei(),"").length}clearInput(){const e=this.applyPrompts(this._input),r=Ns(e,this._termSize.cols),n=this.applyPromptOffset(this._input,this._cursor),{col:o,row:h}=Vr(e,n,this._termSize.cols),p=r-h-1;for(var s=0;s<p;++s)this.term.write(vu);this.term.write(Bi+ki);for(var s=1;s<r;++s)this.term.write(Ms+ki)}clearTerminal(){this.term.write(Jd)}setInput(e,r=!0){r&&this.clearInput();const n=this.applyPrompts(e);this.print(n),this._cursor>e.length&&(this._cursor=e.length);const o=this.applyPromptOffset(e,this._cursor),h=Ns(n,this._termSize.cols),{col:p,row:s}=Vr(n,o,this._termSize.cols),l=h-s-1;this.term.write(Bi);for(var c=0;c<l;++c)this.term.write(Ms);p!==0&&this.term.write(Is(p)),this._input=e}printAndRestartPrompt(e){const r=this._cursor;this.setCursor(this._input.length),this.term.write(`\r
`);const n=()=>{this._cursor=r,this.setInput(this._input)},o=e();o==null?n():o.then(n)}setCursor(e){e<0&&(e=0),e>this._input.length&&(e=this._input.length);const r=this.applyPrompts(this._input);Ns(r,this._termSize.cols);const n=this.applyPromptOffset(this._input,this._cursor),{col:o,row:h}=Vr(r,n,this._termSize.cols),p=this.applyPromptOffset(this._input,e),{col:s,row:l}=Vr(r,p,this._termSize.cols);if(l>h)for(let c=h;c<l;++c)this.term.write(gu());else for(let c=l;c<h;++c)this.term.write(Ts());if(s>o)for(let c=o;c<s;++c)this.term.write(Is());else for(let c=s;c<o;++c)this.term.write(mu());this._cursor=e}handleCursorMove(e){if(e>0){const r=Math.min(e,this._input.length-this._cursor);this.setCursor(this._cursor+r)}else if(e<0){const r=Math.max(e,-this._cursor);this.setCursor(this._cursor+r)}}cursorTo(e=null,r=null){e!==null&&r!==null?this.term.write(Ps(e,r)):e!==null?this.term.write(Ps(e)):r!==null&&this.term.write(Ps(0,r))}moveCursor(e=null,r=null){e!==null&&r!==null?this.term.write(Ls(e,r)):e!==null?this.term.write(Ls(e)):r!==null&&this.term.write(Ls(0,r))}handleCursorErase(e){const{_cursor:r,_input:n}=this;if(e){if(r<=0)return;const o=n.substr(0,r-1)+n.substr(r);this.clearInput(),this._cursor-=1,this.setInput(o,!1)}else{const o=n.substr(0,r)+n.substr(r+1);this.setInput(o)}}setPrompt(e,r="> "){this._activePrompt?(this._activePrompt.prompt=e,this._activePrompt.continuationPrompt=r):this._activePrompt={prompt:e,continuationPrompt:r,resolve:null,reject:null}}getPrompt(){return this._activePrompt?{prompt:this._activePrompt.prompt,continuationPrompt:this._activePrompt.continuationPrompt}:null}handleCursorInsert(e){const{_cursor:r,_input:n}=this,o=n.substr(0,r)+e+n.substr(r);this._cursor+=e.length,this.setInput(o)}handleReadComplete(){this.history&&(this.history.push(this._input),this.emit("history")),this._activePrompt&&(this._activePrompt.resolve(this._input),this._activePrompt=null),this.term.write(`\r
`),this._active=!1,this.emit("line",this._input),this.emit("pause")}handleTermResize(e){const{rows:r,cols:n}=e;this.clearInput(),this._termSize={cols:n,rows:r},this.setInput(this._input,!1)}handleTermData(e){if(!this._active&&this._activeCharPrompt!=null){this._activeCharPrompt.resolve(e),this._activeCharPrompt=null,this.term.write(`\r
`);return}if(e.length>3&&e.charCodeAt(0)!==27){const r=e.replace(/[\r\n]+/g,"\r");Array.from(r).forEach(n=>this.decodeTermData(n))}else this.decodeTermData(e)}decodeTermData(e){const{ch:r,key:n}=fp(e);this._active?this.handleActiveInput(r,n):this.emit("keypress",r,n)}handleActiveInput(e,r){let n;switch(r==null?void 0:r.name){case"up":if(this.history){let o=this.history.getPrevious();o&&(this.setInput(o),this.setCursor(o.length))}break;case"down":if(this.history){let o=this.history.getNext();o||(o=""),this.setInput(o),this.setCursor(o.length)}break;case"left":r.meta?(n=Bu(this._input,this._cursor),n!=null&&this.setCursor(n)):this.handleCursorMove(-1);break;case"right":r.meta?(n=lp(this._input,this._cursor),n!=null&&this.setCursor(n)):this.handleCursorMove(1);break;case"delete":this.handleCursorErase(!1);break;case"end":this.setCursor(this._input.length);break;case"home":this.setCursor(0);break;case"backspace":r.ctrl?(n=Bu(this._input,this._cursor),n!=null&&(this.setInput(this._input.substr(0,n)+this._input.substr(this._cursor)),this.setCursor(n))):this.handleCursorErase(!0);break;case"enter":hp(this._input)?this.handleCursorInsert(`
`):this.handleReadComplete();break;case"tab":if(this._autocompleteHandlers.length>0){const o=this._input.substr(0,this._cursor),h=Ws(o),p=cp(this._autocompleteHandlers,o);if(p.sort(),p.length===0)h||this.handleCursorInsert(" ");else if(p.length===1){const s=ku(o);this.handleCursorInsert(p[0].substr(s.length)+" ")}else if(p.length<=this.maxAutocompleteEntries){const s=Ou(o,p);if(s){const l=ku(o);this.handleCursorInsert(s.substr(l.length))}this.printAndRestartPrompt(()=>{this.printWide(p)})}else this.printAndRestartPrompt(()=>this.readChar(`Display all ${p.length} possibilities? (y or n)`).then(s=>{(s=="y"||s=="Y")&&this.printWide(p)}))}else this.handleCursorInsert("    ");break;case"c":r.ctrl?(this.setCursor(this._input.length),this.term.write(`^C\r
`+((this._activePrompt||{}).prompt||"")),this._input="",this._cursor=0,this.history&&this.history.rewind(),this.emit("SIGINT")):this.handleCursorInsert(e);break;default:this.handleCursorInsert(e);break}}cursorUp(e=1){this.term.write(Ts(e))}cursorDown(e=1){this.term.write(gu(e))}cursorForward(e=1){this.term.write(Is(e))}cursorBackward(e=1){this.term.write(mu(e))}cursorLeft(){this.term.write(Bi)}cursorSavePosition(){this.term.write(Wd)}cursorRestorePosition(){this.term.write(_u)}cursorGetPosition(){this.term.write(_u)}cursorNextLine(){this.term.write(vu)}cursorPrevLine(){this.term.write(Ms)}cursorHide(){this.term.write(Ud)}cursorShow(){this.term.write($d)}clearLines(e){this.term.write(qd(e))}clearEndLine(){this.term.write(ki)}clearStartLine(){this.term.write(Du)}clearLine(e=0){switch(e){case-1:this.term.write(Du);break;case 1:this.term.write(ki);break;case 0:default:this.term.write(yu);break}}clearScreenDown(){this.term.write(zd)}clearScreenUp(){this.term.write(Gd)}eraseScreen(){this.term.write(js)}scrollUp(){this.term.write(Vd)}scrollDown(){this.term.write(Kd)}clearScreen(){this.term.write(Yd)}beep(){this.term.write(Xd)}link(e,r){return Zd(e,r)}}function pp(t,e,r){var n=/([^\s'"]([^\s'"]*(['"])([^\3]*?)\3)+[^\s'"]*)|[^\s'"]+|(['"])([^\5]*?)\5/gi,o=t,h=[],p;do p=n.exec(o),p!==null&&h.push(gp(p[1],p[6],p[0]));while(p!==null);return h}function gp(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var r=0;r<t.length;r++){var n=t[r];if(typeof n=="string")return n}}const Us=10,Ru=(t=0)=>e=>`\x1B[${e+t}m`,Pu=(t=0)=>e=>`\x1B[${38+t};5;${e}m`,Lu=(t=0)=>(e,r,n)=>`\x1B[${38+t};2;${e};${r};${n}m`,Te={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(Te.modifier);const mp=Object.keys(Te.color),_p=Object.keys(Te.bgColor);[...mp,..._p];function vp(){const t=new Map;for(const[e,r]of Object.entries(Te)){for(const[n,o]of Object.entries(r))Te[n]={open:`\x1B[${o[0]}m`,close:`\x1B[${o[1]}m`},r[n]=Te[n],t.set(o[0],o[1]);Object.defineProperty(Te,e,{value:r,enumerable:!1})}return Object.defineProperty(Te,"codes",{value:t,enumerable:!1}),Te.color.close="\x1B[39m",Te.bgColor.close="\x1B[49m",Te.color.ansi=Ru(),Te.color.ansi256=Pu(),Te.color.ansi16m=Lu(),Te.bgColor.ansi=Ru(Us),Te.bgColor.ansi256=Pu(Us),Te.bgColor.ansi16m=Lu(Us),Object.defineProperties(Te,{rgbToAnsi256:{value(e,r,n){return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},enumerable:!1},hexToRgb:{value(e){const r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(e.toString(16));if(!r)return[0,0,0];let[n]=r;n.length===3&&(n=[...n].map(h=>h+h).join(""));const o=Number.parseInt(n,16);return[o>>16&255,o>>8&255,o&255]},enumerable:!1},hexToAnsi256:{value:e=>Te.rgbToAnsi256(...Te.hexToRgb(e)),enumerable:!1},ansi256ToAnsi:{value(e){if(e<8)return 30+e;if(e<16)return 90+(e-8);let r,n,o;if(e>=232)r=((e-232)*10+8)/255,n=r,o=r;else{e-=16;const s=e%36;r=Math.floor(e/36)/5,n=Math.floor(s/6)/5,o=s%6/5}const h=Math.max(r,n,o)*2;if(h===0)return 30;let p=30+(Math.round(o)<<2|Math.round(n)<<1|Math.round(r));return h===2&&(p+=60),p},enumerable:!1},rgbToAnsi:{value:(e,r,n)=>Te.ansi256ToAnsi(Te.rgbToAnsi256(e,r,n)),enumerable:!1},hexToAnsi:{value:e=>Te.ansi256ToAnsi(Te.hexToAnsi256(e)),enumerable:!1}}),Te}const Ft=vp(),Oi=(()=>{if(navigator.userAgentData){const t=navigator.userAgentData.brands.find(({brand:e})=>e==="Chromium");if(t&&t.version>93)return 3}return/\b(Chrome|Chromium)\//.test(navigator.userAgent)?1:0})(),Tu=Oi!==0&&{level:Oi,hasBasic:!0,has256:Oi>=2,has16m:Oi>=3},Dp={stdout:Tu,stderr:Tu};function yp(t,e,r){let n=t.indexOf(e);if(n===-1)return t;const o=e.length;let h=0,p="";do p+=t.slice(h,n)+e+r,h=n+o,n=t.indexOf(e,h);while(n!==-1);return p+=t.slice(h),p}function bp(t,e,r,n){let o=0,h="";do{const p=t[n-1]==="\r";h+=t.slice(o,p?n-1:n)+e+(p?`\r
`:`
`)+r,o=n+1,n=t.indexOf(`
`,o)}while(n!==-1);return h+=t.slice(o),h}const{stdout:Iu,stderr:Mu}=Dp,$s=Symbol("GENERATOR"),wr=Symbol("STYLER"),Kr=Symbol("IS_EMPTY"),ju=["ansi","ansi","ansi256","ansi16m"],Er=Object.create(null),Cp=(t,e={})=>{if(e.level&&!(Number.isInteger(e.level)&&e.level>=0&&e.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const r=Iu?Iu.level:0;t.level=e.level===void 0?r:e.level},Sp=t=>{const e=(...r)=>r.join(" ");return Cp(e,t),Object.setPrototypeOf(e,Yr.prototype),e};function Yr(t){return Sp(t)}Object.setPrototypeOf(Yr.prototype,Function.prototype);for(const[t,e]of Object.entries(Ft))Er[t]={get(){const r=Ri(this,zs(e.open,e.close,this[wr]),this[Kr]);return Object.defineProperty(this,t,{value:r}),r}};Er.visible={get(){const t=Ri(this,this[wr],!0);return Object.defineProperty(this,"visible",{value:t}),t}};const qs=(t,e,r,...n)=>t==="rgb"?e==="ansi16m"?Ft[r].ansi16m(...n):e==="ansi256"?Ft[r].ansi256(Ft.rgbToAnsi256(...n)):Ft[r].ansi(Ft.rgbToAnsi(...n)):t==="hex"?qs("rgb",e,r,...Ft.hexToRgb(...n)):Ft[r][t](...n),wp=["rgb","hex","ansi256"];for(const t of wp){Er[t]={get(){const{level:r}=this;return function(...n){const o=zs(qs(t,ju[r],"color",...n),Ft.color.close,this[wr]);return Ri(this,o,this[Kr])}}};const e="bg"+t[0].toUpperCase()+t.slice(1);Er[e]={get(){const{level:r}=this;return function(...n){const o=zs(qs(t,ju[r],"bgColor",...n),Ft.bgColor.close,this[wr]);return Ri(this,o,this[Kr])}}}}const Ep=Object.defineProperties(()=>{},{...Er,level:{enumerable:!0,get(){return this[$s].level},set(t){this[$s].level=t}}}),zs=(t,e,r)=>{let n,o;return r===void 0?(n=t,o=e):(n=r.openAll+t,o=e+r.closeAll),{open:t,close:e,openAll:n,closeAll:o,parent:r}},Ri=(t,e,r)=>{const n=(...o)=>Fp(n,o.length===1?""+o[0]:o.join(" "));return Object.setPrototypeOf(n,Ep),n[$s]=t,n[wr]=e,n[Kr]=r,n},Fp=(t,e)=>{if(t.level<=0||!e)return t[Kr]?"":e;let r=t[wr];if(r===void 0)return e;const{openAll:n,closeAll:o}=r;if(e.includes("\x1B"))for(;r!==void 0;)e=yp(e,r.close,r.open),r=r.parent;const h=e.indexOf(`
`);return h!==-1&&(e=bp(e,o,n,h)),n+e+o};Object.defineProperties(Yr.prototype,Er);const Jr=Yr();Yr({level:Mu?Mu.level:0});function Ap(t,e=!1){return t.map((r,n)=>{const o=r.color?Jr[r.color](r.text):r.text;return n>0&&!e?`
`+o:o}).join("")}const xp=[{text:"user@ubuntu",color:"green"},{text:":",color:"white"},{text:"~",color:"blue"},{text:"$ ",color:"white"}];function Hu(t,e,r){t.read(Ap(xp,!0)).then(n=>{const o=pp(n);r.demandCommand(1,"You need to specify a command.").strict().fail((h,p,s)=>{t.print(Jr.redBright(h+`

`)),s.showHelp()}).parse(o,function(h,p,s){s&&t.println(s),Hu(t,e,r)})})}function Bp(){return kp()?0:1}function kp(){return Op()&&!oe.defaultApp}function Op(){return!!oe.versions.electron}function Rp(){return oe.argv[Bp()]}class qe extends Error{constructor(e){super(e||"yargs error"),this.name="YError",Error.captureStackTrace&&Error.captureStackTrace(this,qe)}}const Pp="require is not supported in browser",Nu="loading a directory of commands is not supported in browser",Lp={assert:{notStrictEqual:(t,e)=>{},strictEqual:(t,e)=>{}},cliui:Ee,findUp:()=>{},getEnv:t=>{},inspect:console.log,getCallerFile:()=>{throw new qe(Nu)},getProcessArgvBin:Rp,mainFilename:"yargs",Parser:Ne,path:{basename:t=>t,dirname:t=>t,extname:t=>t,relative:t=>t},process:{argv:()=>[],cwd:()=>"",emitWarning:(t,e)=>{},execPath:()=>"",exit:()=>{},nextTick:t=>{window.setTimeout(t,1)},stdColumns:80},readFileSync:()=>"",require:()=>{throw new qe(Pp)},requireDirectory:()=>{throw new qe(Nu)},stringWidth:t=>[...t].length,y18n:{__:(...t)=>{if(t.length===0)return"";const e=t.slice(1);return Gs(t[0],...e)},__n:(t,e,r,...n)=>r===1?Gs(t,...n):Gs(e,...n),getLocale:()=>"en_US",setLocale:()=>{},updateLocale:()=>{}}};function Gs(t,...e){let r="";const n=t.split("%s");return n.forEach((o,h)=>{r+=`${o}${n[h+1]!==void 0&&e[h]?e[h]:""}`}),r}function Dt(t,e,r,n){r.assert.notStrictEqual(t,e,n)}function Wu(t,e){e.assert.strictEqual(typeof t,"string")}function Pi(t){return Object.keys(t)}function ze(t){return!!t&&!!t.then&&typeof t.then=="function"}function Xr(t){const r=t.replace(/\s{2,}/g," ").split(/\s+(?![^[]*]|[^<]*>)/),n=/\.*[\][<>]/g,o=r.shift();if(!o)throw new Error(`No command found in: ${t}`);const h={cmd:o.replace(n,""),demanded:[],optional:[]};return r.forEach((p,s)=>{let l=!1;p=p.replace(/\s/g,""),/\.+[\]>]/.test(p)&&s===r.length-1&&(l=!0),/^\[/.test(p)?h.optional.push({cmd:p.replace(n,"").split("|"),variadic:l}):h.demanded.push({cmd:p.replace(n,"").split("|"),variadic:l})}),h}const Tp=["first","second","third","fourth","fifth","sixth"];function de(t,e,r){function n(){return typeof t=="object"?[{demanded:[],optional:[]},t,e]:[Xr(`cmd ${t}`),e,r]}try{let o=0;const[h,p,s]=n(),l=[].slice.call(p);for(;l.length&&l[l.length-1]===void 0;)l.pop();const c=s||l.length;if(c<h.demanded.length)throw new qe(`Not enough arguments provided. Expected ${h.demanded.length} but received ${l.length}.`);const a=h.demanded.length+h.optional.length;if(c>a)throw new qe(`Too many arguments provided. Expected max ${a} but received ${c}.`);h.demanded.forEach(f=>{const i=l.shift(),d=Uu(i);f.cmd.filter(D=>D===d||D==="*").length===0&&$u(d,f.cmd,o),o+=1}),h.optional.forEach(f=>{if(l.length===0)return;const i=l.shift(),d=Uu(i);f.cmd.filter(D=>D===d||D==="*").length===0&&$u(d,f.cmd,o),o+=1})}catch(o){console.warn(o.stack)}}function Uu(t){return Array.isArray(t)?"array":t===null?"null":typeof t}function $u(t,e,r){throw new qe(`Invalid ${Tp[r]||"manyith"} argument. Expected ${e.join(" or ")} but received ${t}.`)}class Ip{constructor(e){this.globalMiddleware=[],this.frozens=[],this.yargs=e}addMiddleware(e,r,n=!0,o=!1){if(de("<array|function> [boolean] [boolean] [boolean]",[e,r,n],arguments.length),Array.isArray(e)){for(let h=0;h<e.length;h++){if(typeof e[h]!="function")throw Error("middleware must be a function");const p=e[h];p.applyBeforeValidation=r,p.global=n}Array.prototype.push.apply(this.globalMiddleware,e)}else if(typeof e=="function"){const h=e;h.applyBeforeValidation=r,h.global=n,h.mutates=o,this.globalMiddleware.push(e)}return this.yargs}addCoerceMiddleware(e,r){const n=this.yargs.getAliases();return this.globalMiddleware=this.globalMiddleware.filter(o=>{const h=[...n[r]||[],r];return o.option?!h.includes(o.option):!0}),e.option=r,this.addMiddleware(e,!0,!0,!0)}getMiddleware(){return this.globalMiddleware}freeze(){this.frozens.push([...this.globalMiddleware])}unfreeze(){const e=this.frozens.pop();e!==void 0&&(this.globalMiddleware=e)}reset(){this.globalMiddleware=this.globalMiddleware.filter(e=>e.global)}}function Mp(t){return t?t.map(e=>(e.applyBeforeValidation=!1,e)):[]}function Zr(t,e,r,n){return r.reduce((o,h)=>{if(h.applyBeforeValidation!==n)return o;if(h.mutates){if(h.applied)return o;h.applied=!0}if(ze(o))return o.then(p=>Promise.all([p,h(p,e)])).then(([p,s])=>Object.assign(p,s));{const p=h(o,e);return ze(p)?p.then(s=>Object.assign(o,s)):Object.assign(o,p)}},t)}function Qr(t,e,r=n=>{throw n}){try{const n=jp(t)?t():t;return ze(n)?n.then(o=>e(o)):e(n)}catch(n){return r(n)}}function jp(t){return typeof t=="function"}function Hp(t){if(typeof require>"u")return null;for(let e=0,r=Object.keys(require.cache),n;e<r.length;e++)if(n=require.cache[r[e]],n.exports===t)return n;return null}const Fr=/(^\*)|(^\$0)/;class Np{constructor(e,r,n,o){this.requireCache=new Set,this.handlers={},this.aliasMap={},this.frozens=[],this.shim=o,this.usage=e,this.globalMiddleware=n,this.validation=r}addDirectory(e,r,n,o){o=o||{},typeof o.recurse!="boolean"&&(o.recurse=!1),Array.isArray(o.extensions)||(o.extensions=["js"]);const h=typeof o.visit=="function"?o.visit:p=>p;o.visit=(p,s,l)=>{const c=h(p,s,l);if(c){if(this.requireCache.has(s))return c;this.requireCache.add(s),this.addHandler(c)}return c},this.shim.requireDirectory({require:r,filename:n},e,o)}addHandler(e,r,n,o,h,p){let s=[];const l=Mp(h);if(o=o||(()=>{}),Array.isArray(e))if(Up(e))[e,...s]=e;else for(const c of e)this.addHandler(c);else if(qp(e)){let c=Array.isArray(e.command)||typeof e.command=="string"?e.command:this.moduleName(e);e.aliases&&(c=[].concat(c).concat(e.aliases)),this.addHandler(c,this.extractDesc(e),e.builder,e.handler,e.middlewares,e.deprecated);return}else if(qu(n)){this.addHandler([e].concat(s),r,n.builder,n.handler,n.middlewares,n.deprecated);return}if(typeof e=="string"){const c=Xr(e);s=s.map(i=>Xr(i).cmd);let a=!1;const f=[c.cmd].concat(s).filter(i=>Fr.test(i)?(a=!0,!1):!0);f.length===0&&a&&f.push("$0"),a&&(c.cmd=f[0],s=f.slice(1),e=e.replace(Fr,c.cmd)),s.forEach(i=>{this.aliasMap[i]=c.cmd}),r!==!1&&this.usage.command(e,r,a,s,p),this.handlers[c.cmd]={original:e,description:r,handler:o,builder:n||{},middlewares:l,deprecated:p,demanded:c.demanded,optional:c.optional},a&&(this.defaultCommand=this.handlers[c.cmd])}}getCommandHandlers(){return this.handlers}getCommands(){return Object.keys(this.handlers).concat(Object.keys(this.aliasMap))}hasDefaultCommand(){return!!this.defaultCommand}runCommand(e,r,n,o,h,p){const s=this.handlers[e]||this.handlers[this.aliasMap[e]]||this.defaultCommand,l=r.getInternalMethods().getContext(),c=l.commands.slice(),a=!e;e&&(l.commands.push(e),l.fullCommands.push(s.original));const f=this.applyBuilderUpdateUsageAndParse(a,s,r,n.aliases,c,o,h,p);return ze(f)?f.then(i=>this.applyMiddlewareAndGetResult(a,s,i.innerArgv,l,h,i.aliases,r)):this.applyMiddlewareAndGetResult(a,s,f.innerArgv,l,h,f.aliases,r)}applyBuilderUpdateUsageAndParse(e,r,n,o,h,p,s,l){const c=r.builder;let a=n;if(Vs(c)){n.getInternalMethods().getUsageInstance().freeze();const f=c(n.getInternalMethods().reset(o),l);if(ze(f))return f.then(i=>(a=og(i)?i:n,this.parseAndUpdateUsage(e,r,a,h,p,s)))}else $p(c)&&(n.getInternalMethods().getUsageInstance().freeze(),a=n.getInternalMethods().reset(o),Object.keys(r.builder).forEach(f=>{a.option(f,c[f])}));return this.parseAndUpdateUsage(e,r,a,h,p,s)}parseAndUpdateUsage(e,r,n,o,h,p){e&&n.getInternalMethods().getUsageInstance().unfreeze(!0),this.shouldUpdateUsage(n)&&n.getInternalMethods().getUsageInstance().usage(this.usageFromParentCommandsCommandHandler(o,r),r.description);const s=n.getInternalMethods().runYargsParserAndExecuteCommands(null,void 0,!0,h,p);return ze(s)?s.then(l=>({aliases:n.parsed.aliases,innerArgv:l})):{aliases:n.parsed.aliases,innerArgv:s}}shouldUpdateUsage(e){return!e.getInternalMethods().getUsageInstance().getUsageDisabled()&&e.getInternalMethods().getUsageInstance().getUsage().length===0}usageFromParentCommandsCommandHandler(e,r){const n=Fr.test(r.original)?r.original.replace(Fr,"").trim():r.original,o=e.filter(h=>!Fr.test(h));return o.push(n),`$0 ${o.join(" ")}`}handleValidationAndGetResult(e,r,n,o,h,p,s,l){if(!p.getInternalMethods().getHasOutput()){const c=p.getInternalMethods().runValidation(h,l,p.parsed.error,e);n=Qr(n,a=>(c(a),a))}if(r.handler&&!p.getInternalMethods().getHasOutput()){p.getInternalMethods().setHasOutput();const c=!!p.getOptions().configuration["populate--"];p.getInternalMethods().postProcess(n,c,!1,!1),n=Zr(n,p,s,!1),n=Qr(n,a=>{const f=r.handler(a);return ze(f)?f.then(()=>a):a}),e||p.getInternalMethods().getUsageInstance().cacheHelpMessage(),ze(n)&&!p.getInternalMethods().hasParseCallback()&&n.catch(a=>{try{p.getInternalMethods().getUsageInstance().fail(null,a)}catch{}})}return e||(o.commands.pop(),o.fullCommands.pop()),n}applyMiddlewareAndGetResult(e,r,n,o,h,p,s){let l={};if(h)return n;s.getInternalMethods().getHasOutput()||(l=this.populatePositionals(r,n,o,s));const c=this.globalMiddleware.getMiddleware().slice(0).concat(r.middlewares),a=Zr(n,s,c,!0);return ze(a)?a.then(f=>this.handleValidationAndGetResult(e,r,f,o,p,s,c,l)):this.handleValidationAndGetResult(e,r,a,o,p,s,c,l)}populatePositionals(e,r,n,o){r._=r._.slice(n.commands.length);const h=e.demanded.slice(0),p=e.optional.slice(0),s={};for(this.validation.positionalCount(h.length,r._.length);h.length;){const l=h.shift();this.populatePositional(l,r,s)}for(;p.length;){const l=p.shift();this.populatePositional(l,r,s)}return r._=n.commands.concat(r._.map(l=>""+l)),this.postProcessPositionals(r,s,this.cmdToParseOptions(e.original),o),s}populatePositional(e,r,n){const o=e.cmd[0];e.variadic?n[o]=r._.splice(0).map(String):r._.length&&(n[o]=[String(r._.shift())])}cmdToParseOptions(e){const r={array:[],default:{},alias:{},demand:{}},n=Xr(e);return n.demanded.forEach(o=>{const[h,...p]=o.cmd;o.variadic&&(r.array.push(h),r.default[h]=[]),r.alias[h]=p,r.demand[h]=!0}),n.optional.forEach(o=>{const[h,...p]=o.cmd;o.variadic&&(r.array.push(h),r.default[h]=[]),r.alias[h]=p}),r}postProcessPositionals(e,r,n,o){const h=Object.assign({},o.getOptions());h.default=Object.assign(n.default,h.default);for(const c of Object.keys(n.alias))h.alias[c]=(h.alias[c]||[]).concat(n.alias[c]);h.array=h.array.concat(n.array),h.config={};const p=[];if(Object.keys(r).forEach(c=>{r[c].map(a=>{h.configuration["unknown-options-as-args"]&&(h.key[c]=!0),p.push(`--${c}`),p.push(a)})}),!p.length)return;const s=Object.assign({},h.configuration,{"populate--":!1}),l=this.shim.Parser.detailed(p,Object.assign({},h,{configuration:s}));if(l.error)o.getInternalMethods().getUsageInstance().fail(l.error.message,l.error);else{const c=Object.keys(r);Object.keys(r).forEach(a=>{c.push(...l.aliases[a])}),Object.keys(l.argv).forEach(a=>{c.includes(a)&&(r[a]||(r[a]=l.argv[a]),!this.isInConfigs(o,a)&&!this.isDefaulted(o,a)&&Object.prototype.hasOwnProperty.call(e,a)&&Object.prototype.hasOwnProperty.call(l.argv,a)&&(Array.isArray(e[a])||Array.isArray(l.argv[a]))?e[a]=[].concat(e[a],l.argv[a]):e[a]=l.argv[a])})}}isDefaulted(e,r){const{default:n}=e.getOptions();return Object.prototype.hasOwnProperty.call(n,r)||Object.prototype.hasOwnProperty.call(n,this.shim.Parser.camelCase(r))}isInConfigs(e,r){const{configObjects:n}=e.getOptions();return n.some(o=>Object.prototype.hasOwnProperty.call(o,r))||n.some(o=>Object.prototype.hasOwnProperty.call(o,this.shim.Parser.camelCase(r)))}runDefaultBuilderOn(e){if(!this.defaultCommand)return;if(this.shouldUpdateUsage(e)){const n=Fr.test(this.defaultCommand.original)?this.defaultCommand.original:this.defaultCommand.original.replace(/^[^[\]<>]*/,"$0 ");e.getInternalMethods().getUsageInstance().usage(n,this.defaultCommand.description)}const r=this.defaultCommand.builder;if(Vs(r))return r(e,!0);qu(r)||Object.keys(r).forEach(n=>{e.option(n,r[n])})}moduleName(e){const r=Hp(e);if(!r)throw new Error(`No command name given for module: ${this.shim.inspect(e)}`);return this.commandFromFilename(r.filename)}commandFromFilename(e){return this.shim.path.basename(e,this.shim.path.extname(e))}extractDesc({describe:e,description:r,desc:n}){for(const o of[e,r,n]){if(typeof o=="string"||o===!1)return o;Dt(o,!0,this.shim)}return!1}freeze(){this.frozens.push({handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand})}unfreeze(){const e=this.frozens.pop();Dt(e,void 0,this.shim),{handlers:this.handlers,aliasMap:this.aliasMap,defaultCommand:this.defaultCommand}=e}reset(){return this.handlers={},this.aliasMap={},this.defaultCommand=void 0,this.requireCache=new Set,this}}function Wp(t,e,r,n){return new Np(t,e,r,n)}function qu(t){return typeof t=="object"&&!!t.builder&&typeof t.handler=="function"}function Up(t){return t.every(e=>typeof e=="string")}function Vs(t){return typeof t=="function"}function $p(t){return typeof t=="object"}function qp(t){return typeof t=="object"&&!Array.isArray(t)}function ei(t={},e=()=>!0){const r={};return Pi(t).forEach(n=>{e(n,t[n])&&(r[n]=t[n])}),r}function ti(t){typeof oe>"u"||[oe.stdout,oe.stderr].forEach(e=>{const r=e;r._handle&&r.isTTY&&typeof r._handle.setBlocking=="function"&&r._handle.setBlocking(t)})}function zp(t){return typeof t=="boolean"}function Gp(t,e){const r=e.y18n.__,n={},o=[];n.failFn=function(O){o.push(O)};let h=null,p=null,s=!0;n.showHelpOnFail=function(O=!0,H){const[Y,Z]=typeof O=="string"?[!0,O]:[O,H];return t.getInternalMethods().isGlobalContext()&&(p=Z),h=Z,s=Y,n};let l=!1;n.fail=function(O,H){const Y=t.getInternalMethods().getLoggerInstance();if(o.length)for(let Z=o.length-1;Z>=0;--Z){const te=o[Z];if(zp(te)){if(H)throw H;if(O)throw Error(O)}else te(O,H,n)}else{if(t.getExitProcess()&&ti(!0),!l){l=!0,s&&(t.showHelp("error"),Y.error()),(O||H)&&Y.error(O||H);const Z=h||p;Z&&((O||H)&&Y.error(""),Y.error(Z))}if(H=H||new qe(O),t.getExitProcess())return t.exit(1);if(t.getInternalMethods().hasParseCallback())return t.exit(1,H);throw H}};let c=[],a=!1;n.usage=(T,O)=>T===null?(a=!0,c=[],n):(a=!1,c.push([T,O||""]),n),n.getUsage=()=>c,n.getUsageDisabled=()=>a,n.getPositionalGroupName=()=>r("Positionals:");let f=[];n.example=(T,O)=>{f.push([T,O||""])};let i=[];n.command=function(O,H,Y,Z,te=!1){Y&&(i=i.map(ee=>(ee[2]=!1,ee))),i.push([O,H||"",Y,Z,te])},n.getCommands=()=>i;let d={};n.describe=function(O,H){Array.isArray(O)?O.forEach(Y=>{n.describe(Y,H)}):typeof O=="object"?Object.keys(O).forEach(Y=>{n.describe(Y,O[Y])}):d[O]=H},n.getDescriptions=()=>d;let m=[];n.epilog=T=>{m.push(T)};let D=!1,u;n.wrap=T=>{D=!0,u=T},n.getWrap=()=>e.getEnv("YARGS_DISABLE_WRAP")?null:(D||(u=C(),D=!0),u);const _="__yargsString__:";n.deferY18nLookup=T=>_+T,n.help=function(){if(y)return y;v();const O=t.customScriptName?t.$0:e.path.basename(t.$0),H=t.getDemandedOptions(),Y=t.getDemandedCommands(),Z=t.getDeprecatedOptions(),te=t.getGroups(),ee=t.getOptions();let k=[];k=k.concat(Object.keys(d)),k=k.concat(Object.keys(H)),k=k.concat(Object.keys(Y)),k=k.concat(Object.keys(ee.default)),k=k.filter(E),k=Object.keys(k.reduce((z,x)=>(x!=="_"&&(z[x]=!0),z),{}));const R=n.getWrap(),P=e.cliui({width:R,wrap:!!R});if(!a){if(c.length)c.forEach(z=>{P.div({text:`${z[0].replace(/\$0/g,O)}`}),z[1]&&P.div({text:`${z[1]}`,padding:[1,0,0,0]})}),P.div();else if(i.length){let z=null;Y._?z=`${O} <${r("command")}>
`:z=`${O} [${r("command")}]
`,P.div(`${z}`)}}if(i.length>1||i.length===1&&!i[0][2]){P.div(r("Commands:"));const z=t.getInternalMethods().getContext(),x=z.commands.length?`${z.commands.join(" ")} `:"";t.getInternalMethods().getParserConfiguration()["sort-commands"]===!0&&(i=i.sort((U,V)=>U[0].localeCompare(V[0])));const j=O?`${O} `:"";i.forEach(U=>{const V=`${j}${x}${U[0].replace(/^\$0 ?/,"")}`;P.span({text:V,padding:[0,2,0,2],width:g(i,R,`${O}${x}`)+4},{text:U[1]});const re=[];U[2]&&re.push(`[${r("default")}]`),U[3]&&U[3].length&&re.push(`[${r("aliases:")} ${U[3].join(", ")}]`),U[4]&&(typeof U[4]=="string"?re.push(`[${r("deprecated: %s",U[4])}]`):re.push(`[${r("deprecated")}]`)),re.length?P.div({text:re.join(" "),padding:[0,0,0,2],align:"right"}):P.div()}),P.div()}const q=(Object.keys(ee.alias)||[]).concat(Object.keys(t.parsed.newAliases)||[]);k=k.filter(z=>!t.parsed.newAliases[z]&&q.every(x=>(ee.alias[x]||[]).indexOf(z)===-1));const I=r("Options:");te[I]||(te[I]=[]),b(k,ee.alias,te,I);const G=z=>/^--/.test(Li(z)),M=Object.keys(te).filter(z=>te[z].length>0).map(z=>{const x=te[z].filter(E).map(j=>{if(q.includes(j))return j;for(let U=0,V;(V=q[U])!==void 0;U++)if((ee.alias[V]||[]).includes(j))return V;return j});return{groupName:z,normalizedKeys:x}}).filter(({normalizedKeys:z})=>z.length>0).map(({groupName:z,normalizedKeys:x})=>{const j=x.reduce((U,V)=>(U[V]=[V].concat(ee.alias[V]||[]).map(re=>z===n.getPositionalGroupName()?re:(/^[0-9]$/.test(re)?ee.boolean.includes(V)?"-":"--":re.length>1?"--":"-")+re).sort((re,se)=>G(re)===G(se)?0:G(re)?1:-1).join(", "),U),{});return{groupName:z,normalizedKeys:x,switches:j}});if(M.filter(({groupName:z})=>z!==n.getPositionalGroupName()).some(({normalizedKeys:z,switches:x})=>!z.every(j=>G(x[j])))&&M.filter(({groupName:z})=>z!==n.getPositionalGroupName()).forEach(({normalizedKeys:z,switches:x})=>{z.forEach(j=>{G(x[j])&&(x[j]=Vp(x[j],4))})}),M.forEach(({groupName:z,normalizedKeys:x,switches:j})=>{P.div(z),x.forEach(U=>{const V=j[U];let re=d[U]||"",se=null;re.includes(_)&&(re=r(re.substring(_.length))),ee.boolean.includes(U)&&(se=`[${r("boolean")}]`),ee.count.includes(U)&&(se=`[${r("count")}]`),ee.string.includes(U)&&(se=`[${r("string")}]`),ee.normalize.includes(U)&&(se=`[${r("string")}]`),ee.array.includes(U)&&(se=`[${r("array")}]`),ee.number.includes(U)&&(se=`[${r("number")}]`);const he=Pe=>typeof Pe=="string"?`[${r("deprecated: %s",Pe)}]`:`[${r("deprecated")}]`,me=[U in Z?he(Z[U]):null,se,U in H?`[${r("required")}]`:null,ee.choices&&ee.choices[U]?`[${r("choices:")} ${n.stringifiedValues(ee.choices[U])}]`:null,F(ee.default[U],ee.defaultDescription[U])].filter(Boolean).join(" ");P.span({text:Li(V),padding:[0,2,0,2+zu(V)],width:g(j,R)+4},re);const Se=t.getInternalMethods().getUsageConfiguration()["hide-types"]===!0;me&&!Se?P.div({text:me,padding:[0,0,0,2],align:"right"}):P.div()}),P.div()}),f.length&&(P.div(r("Examples:")),f.forEach(z=>{z[0]=z[0].replace(/\$0/g,O)}),f.forEach(z=>{z[1]===""?P.div({text:z[0],padding:[0,2,0,2]}):P.div({text:z[0],padding:[0,2,0,2],width:g(f,R)+4},{text:z[1]})}),P.div()),m.length>0){const z=m.map(x=>x.replace(/\$0/g,O)).join(`
`);P.div(`${z}
`)}return P.toString().replace(/\s*$/,"")};function g(T,O,H){let Y=0;return Array.isArray(T)||(T=Object.values(T).map(Z=>[Z])),T.forEach(Z=>{Y=Math.max(e.stringWidth(H?`${H} ${Li(Z[0])}`:Li(Z[0]))+zu(Z[0]),Y)}),O&&(Y=Math.min(Y,parseInt((O*.5).toString(),10))),Y}function v(){const T=t.getDemandedOptions(),O=t.getOptions();(Object.keys(O.alias)||[]).forEach(H=>{O.alias[H].forEach(Y=>{d[Y]&&n.describe(H,d[Y]),Y in T&&t.demandOption(H,T[Y]),O.boolean.includes(Y)&&t.boolean(H),O.count.includes(Y)&&t.count(H),O.string.includes(Y)&&t.string(H),O.normalize.includes(Y)&&t.normalize(H),O.array.includes(Y)&&t.array(H),O.number.includes(Y)&&t.number(H)})})}let y;n.cacheHelpMessage=function(){y=this.help()},n.clearCachedHelpMessage=function(){y=void 0},n.hasCachedHelpMessage=function(){return!!y};function b(T,O,H,Y){let Z=[],te=null;return Object.keys(H).forEach(ee=>{Z=Z.concat(H[ee])}),T.forEach(ee=>{te=[ee].concat(O[ee]),te.some(k=>Z.indexOf(k)!==-1)||H[Y].push(ee)}),Z}function E(T){return t.getOptions().hiddenOptions.indexOf(T)<0||t.parsed.argv[t.getOptions().showHiddenOpt]}n.showHelp=T=>{const O=t.getInternalMethods().getLoggerInstance();T||(T="error"),(typeof T=="function"?T:O[T])(n.help())},n.functionDescription=T=>["(",T.name?e.Parser.decamelize(T.name,"-"):r("generated-value"),")"].join(""),n.stringifiedValues=function(O,H){let Y="";const Z=H||", ",te=[].concat(O);return!O||!te.length||te.forEach(ee=>{Y.length&&(Y+=Z),Y+=JSON.stringify(ee)}),Y};function F(T,O){let H=`[${r("default:")} `;if(T===void 0&&!O)return null;if(O)H+=O;else switch(typeof T){case"string":H+=`"${T}"`;break;case"object":H+=JSON.stringify(T);break;default:H+=T}return`${H}]`}function C(){return e.process.stdColumns?Math.min(80,e.process.stdColumns):80}let A=null;n.version=T=>{A=T},n.showVersion=T=>{const O=t.getInternalMethods().getLoggerInstance();T||(T="error"),(typeof T=="function"?T:O[T])(A)},n.reset=function(O){return h=null,l=!1,c=[],a=!1,m=[],f=[],i=[],d=ei(d,H=>!O[H]),n};const L=[];return n.freeze=function(){L.push({failMessage:h,failureOutput:l,usages:c,usageDisabled:a,epilogs:m,examples:f,commands:i,descriptions:d})},n.unfreeze=function(O=!1){const H=L.pop();H&&(O?(d={...H.descriptions,...d},i=[...H.commands,...i],c=[...H.usages,...c],f=[...H.examples,...f],m=[...H.epilogs,...m]):{failMessage:h,failureOutput:l,usages:c,usageDisabled:a,epilogs:m,examples:f,commands:i,descriptions:d}=H)},n}function Ks(t){return typeof t=="object"}function Vp(t,e){return Ks(t)?{text:t.text,indentation:t.indentation+e}:{text:t,indentation:e}}function zu(t){return Ks(t)?t.indentation:0}function Li(t){return Ks(t)?t.text:t}const Kp=`###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.bashrc
#    or {{app_path}} {{completion_command}} >> ~/.bash_profile on OSX.
#
_{{app_name}}_yargs_completions()
{
    local cur_word args type_list

    cur_word="\${COMP_WORDS[COMP_CWORD]}"
    args=("\${COMP_WORDS[@]}")

    # ask yargs to generate completions.
    type_list=$({{app_path}} --get-yargs-completions "\${args[@]}")

    COMPREPLY=( $(compgen -W "\${type_list}" -- \${cur_word}) )

    # if no match was found, fall back to filename completion
    if [ \${#COMPREPLY[@]} -eq 0 ]; then
      COMPREPLY=()
    fi

    return 0
}
complete -o bashdefault -o default -F _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`,Yp=`#compdef {{app_name}}
###-begin-{{app_name}}-completions-###
#
# yargs command completion script
#
# Installation: {{app_path}} {{completion_command}} >> ~/.zshrc
#    or {{app_path}} {{completion_command}} >> ~/.zprofile on OSX.
#
_{{app_name}}_yargs_completions()
{
  local reply
  local si=$IFS
  IFS=$'
' reply=($(COMP_CWORD="$((CURRENT-1))" COMP_LINE="$BUFFER" COMP_POINT="$CURSOR" {{app_path}} --get-yargs-completions "\${words[@]}"))
  IFS=$si
  _describe 'values' reply
}
compdef _{{app_name}}_yargs_completions {{app_name}}
###-end-{{app_name}}-completions-###
`;class Jp{constructor(e,r,n,o){var h,p,s;this.yargs=e,this.usage=r,this.command=n,this.shim=o,this.completionKey="get-yargs-completions",this.aliases=null,this.customCompletionFunction=null,this.indexAfterLastReset=0,this.zshShell=(s=((h=this.shim.getEnv("SHELL"))===null||h===void 0?void 0:h.includes("zsh"))||((p=this.shim.getEnv("ZSH_NAME"))===null||p===void 0?void 0:p.includes("zsh")))!==null&&s!==void 0?s:!1}defaultCompletion(e,r,n,o){const h=this.command.getCommandHandlers();for(let s=0,l=e.length;s<l;++s)if(h[e[s]]&&h[e[s]].builder){const c=h[e[s]].builder;if(Vs(c)){this.indexAfterLastReset=s+1;const a=this.yargs.getInternalMethods().reset();return c(a,!0),a.argv}}const p=[];this.commandCompletions(p,e,n),this.optionCompletions(p,e,r,n),this.choicesFromOptionsCompletions(p,e,r,n),this.choicesFromPositionalsCompletions(p,e,r,n),o(null,p)}commandCompletions(e,r,n){const o=this.yargs.getInternalMethods().getContext().commands;!n.match(/^-/)&&o[o.length-1]!==n&&!this.previousArgHasChoices(r)&&this.usage.getCommands().forEach(h=>{const p=Xr(h[0]).cmd;if(r.indexOf(p)===-1)if(!this.zshShell)e.push(p);else{const s=h[1]||"";e.push(p.replace(/:/g,"\\:")+":"+s)}})}optionCompletions(e,r,n,o){if((o.match(/^-/)||o===""&&e.length===0)&&!this.previousArgHasChoices(r)){const h=this.yargs.getOptions(),p=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[];Object.keys(h.key).forEach(s=>{const l=!!h.configuration["boolean-negation"]&&h.boolean.includes(s);!p.includes(s)&&!h.hiddenOptions.includes(s)&&!this.argsContainKey(r,s,l)&&this.completeOptionKey(s,e,o,l&&!!h.default[s])})}}choicesFromOptionsCompletions(e,r,n,o){if(this.previousArgHasChoices(r)){const h=this.getPreviousArgChoices(r);h&&h.length>0&&e.push(...h.map(p=>p.replace(/:/g,"\\:")))}}choicesFromPositionalsCompletions(e,r,n,o){if(o===""&&e.length>0&&this.previousArgHasChoices(r))return;const h=this.yargs.getGroups()[this.usage.getPositionalGroupName()]||[],p=Math.max(this.indexAfterLastReset,this.yargs.getInternalMethods().getContext().commands.length+1),s=h[n._.length-p-1];if(!s)return;const l=this.yargs.getOptions().choices[s]||[];for(const c of l)c.startsWith(o)&&e.push(c.replace(/:/g,"\\:"))}getPreviousArgChoices(e){if(e.length<1)return;let r=e[e.length-1],n="";if(!r.startsWith("-")&&e.length>1&&(n=r,r=e[e.length-2]),!r.startsWith("-"))return;const o=r.replace(/^-+/,""),h=this.yargs.getOptions(),p=[o,...this.yargs.getAliases()[o]||[]];let s;for(const l of p)if(Object.prototype.hasOwnProperty.call(h.key,l)&&Array.isArray(h.choices[l])){s=h.choices[l];break}if(s)return s.filter(l=>!n||l.startsWith(n))}previousArgHasChoices(e){const r=this.getPreviousArgChoices(e);return r!==void 0&&r.length>0}argsContainKey(e,r,n){const o=h=>e.indexOf((/^[^0-9]$/.test(h)?"-":"--")+h)!==-1;if(o(r)||n&&o(`no-${r}`))return!0;if(this.aliases){for(const h of this.aliases[r])if(o(h))return!0}return!1}completeOptionKey(e,r,n,o){var h,p,s,l;let c=e;if(this.zshShell){const d=this.usage.getDescriptions(),m=(p=(h=this===null||this===void 0?void 0:this.aliases)===null||h===void 0?void 0:h[e])===null||p===void 0?void 0:p.find(_=>{const g=d[_];return typeof g=="string"&&g.length>0}),D=m?d[m]:void 0,u=(l=(s=d[e])!==null&&s!==void 0?s:D)!==null&&l!==void 0?l:"";c=`${e.replace(/:/g,"\\:")}:${u.replace("__yargsString__:","").replace(/(\r\n|\n|\r)/gm," ")}`}const a=d=>/^--/.test(d),f=d=>/^[^0-9]$/.test(d),i=!a(n)&&f(e)?"-":"--";r.push(i+c),o&&r.push(i+"no-"+c)}customCompletion(e,r,n,o){if(Dt(this.customCompletionFunction,null,this.shim),Zp(this.customCompletionFunction)){const h=this.customCompletionFunction(n,r);return ze(h)?h.then(p=>{this.shim.process.nextTick(()=>{o(null,p)})}).catch(p=>{this.shim.process.nextTick(()=>{o(p,void 0)})}):o(null,h)}else return Qp(this.customCompletionFunction)?this.customCompletionFunction(n,r,(h=o)=>this.defaultCompletion(e,r,n,h),h=>{o(null,h)}):this.customCompletionFunction(n,r,h=>{o(null,h)})}getCompletion(e,r){const n=e.length?e[e.length-1]:"",o=this.yargs.parse(e,!0),h=this.customCompletionFunction?p=>this.customCompletion(e,p,n,r):p=>this.defaultCompletion(e,p,n,r);return ze(o)?o.then(h):h(o)}generateCompletionScript(e,r){let n=this.zshShell?Yp:Kp;const o=this.shim.path.basename(e);return e.match(/\.js$/)&&(e=`./${e}`),n=n.replace(/{{app_name}}/g,o),n=n.replace(/{{completion_command}}/g,r),n.replace(/{{app_path}}/g,e)}registerFunction(e){this.customCompletionFunction=e}setParsed(e){this.aliases=e.aliases}}function Xp(t,e,r,n){return new Jp(t,e,r,n)}function Zp(t){return t.length<3}function Qp(t){return t.length>3}function eg(t,e){if(t.length===0)return e.length;if(e.length===0)return t.length;const r=[];let n;for(n=0;n<=e.length;n++)r[n]=[n];let o;for(o=0;o<=t.length;o++)r[0][o]=o;for(n=1;n<=e.length;n++)for(o=1;o<=t.length;o++)e.charAt(n-1)===t.charAt(o-1)?r[n][o]=r[n-1][o-1]:n>1&&o>1&&e.charAt(n-2)===t.charAt(o-1)&&e.charAt(n-1)===t.charAt(o-2)?r[n][o]=r[n-2][o-2]+1:r[n][o]=Math.min(r[n-1][o-1]+1,Math.min(r[n][o-1]+1,r[n-1][o]+1));return r[e.length][t.length]}const Gu=["$0","--","_"];function tg(t,e,r){const n=r.y18n.__,o=r.y18n.__n,h={};h.nonOptionCount=function(f){const i=t.getDemandedCommands(),m=f._.length+(f["--"]?f["--"].length:0)-t.getInternalMethods().getContext().commands.length;i._&&(m<i._.min||m>i._.max)&&(m<i._.min?i._.minMsg!==void 0?e.fail(i._.minMsg?i._.minMsg.replace(/\$0/g,m.toString()).replace(/\$1/,i._.min.toString()):null):e.fail(o("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",m,m.toString(),i._.min.toString())):m>i._.max&&(i._.maxMsg!==void 0?e.fail(i._.maxMsg?i._.maxMsg.replace(/\$0/g,m.toString()).replace(/\$1/,i._.max.toString()):null):e.fail(o("Too many non-option arguments: got %s, maximum of %s","Too many non-option arguments: got %s, maximum of %s",m,m.toString(),i._.max.toString()))))},h.positionalCount=function(f,i){i<f&&e.fail(o("Not enough non-option arguments: got %s, need at least %s","Not enough non-option arguments: got %s, need at least %s",i,i+"",f+""))},h.requiredArguments=function(f,i){let d=null;for(const m of Object.keys(i))(!Object.prototype.hasOwnProperty.call(f,m)||typeof f[m]>"u")&&(d=d||{},d[m]=i[m]);if(d){const m=[];for(const u of Object.keys(d)){const _=d[u];_&&m.indexOf(_)<0&&m.push(_)}const D=m.length?`
${m.join(`
`)}`:"";e.fail(o("Missing required argument: %s","Missing required arguments: %s",Object.keys(d).length,Object.keys(d).join(", ")+D))}},h.unknownArguments=function(f,i,d,m,D=!0){var u;const _=t.getInternalMethods().getCommandInstance().getCommands(),g=[],v=t.getInternalMethods().getContext();if(Object.keys(f).forEach(y=>{!Gu.includes(y)&&!Object.prototype.hasOwnProperty.call(d,y)&&!Object.prototype.hasOwnProperty.call(t.getInternalMethods().getParseContext(),y)&&!h.isValidAndSomeAliasIsNotNew(y,i)&&g.push(y)}),D&&(v.commands.length>0||_.length>0||m)&&f._.slice(v.commands.length).forEach(y=>{_.includes(""+y)||g.push(""+y)}),D){const b=((u=t.getDemandedCommands()._)===null||u===void 0?void 0:u.max)||0,E=v.commands.length+b;E<f._.length&&f._.slice(E).forEach(F=>{F=String(F),!v.commands.includes(F)&&!g.includes(F)&&g.push(F)})}g.length&&e.fail(o("Unknown argument: %s","Unknown arguments: %s",g.length,g.map(y=>y.trim()?y:`"${y}"`).join(", ")))},h.unknownCommands=function(f){const i=t.getInternalMethods().getCommandInstance().getCommands(),d=[],m=t.getInternalMethods().getContext();return(m.commands.length>0||i.length>0)&&f._.slice(m.commands.length).forEach(D=>{i.includes(""+D)||d.push(""+D)}),d.length>0?(e.fail(o("Unknown command: %s","Unknown commands: %s",d.length,d.join(", "))),!0):!1},h.isValidAndSomeAliasIsNotNew=function(f,i){if(!Object.prototype.hasOwnProperty.call(i,f))return!1;const d=t.parsed.newAliases;return[f,...i[f]].some(m=>!Object.prototype.hasOwnProperty.call(d,m)||!d[f])},h.limitedChoices=function(f){const i=t.getOptions(),d={};if(!Object.keys(i.choices).length)return;Object.keys(f).forEach(u=>{Gu.indexOf(u)===-1&&Object.prototype.hasOwnProperty.call(i.choices,u)&&[].concat(f[u]).forEach(_=>{i.choices[u].indexOf(_)===-1&&_!==void 0&&(d[u]=(d[u]||[]).concat(_))})});const m=Object.keys(d);if(!m.length)return;let D=n("Invalid values:");m.forEach(u=>{D+=`
  ${n("Argument: %s, Given: %s, Choices: %s",u,e.stringifiedValues(d[u]),e.stringifiedValues(i.choices[u]))}`}),e.fail(D)};let p={};h.implies=function(f,i){de("<string|object> [array|number|string]",[f,i],arguments.length),typeof f=="object"?Object.keys(f).forEach(d=>{h.implies(d,f[d])}):(t.global(f),p[f]||(p[f]=[]),Array.isArray(i)?i.forEach(d=>h.implies(f,d)):(Dt(i,void 0,r),p[f].push(i)))},h.getImplied=function(){return p};function s(a,f){const i=Number(f);return f=isNaN(i)?f:i,typeof f=="number"?f=a._.length>=f:f.match(/^--no-.+/)?(f=f.match(/^--no-(.+)/)[1],f=!Object.prototype.hasOwnProperty.call(a,f)):f=Object.prototype.hasOwnProperty.call(a,f),f}h.implications=function(f){const i=[];if(Object.keys(p).forEach(d=>{const m=d;(p[d]||[]).forEach(D=>{let u=m;const _=D;u=s(f,u),D=s(f,D),u&&!D&&i.push(` ${m} -> ${_}`)})}),i.length){let d=`${n("Implications failed:")}
`;i.forEach(m=>{d+=m}),e.fail(d)}};let l={};h.conflicts=function(f,i){de("<string|object> [array|string]",[f,i],arguments.length),typeof f=="object"?Object.keys(f).forEach(d=>{h.conflicts(d,f[d])}):(t.global(f),l[f]||(l[f]=[]),Array.isArray(i)?i.forEach(d=>h.conflicts(f,d)):l[f].push(i))},h.getConflicting=()=>l,h.conflicting=function(f){Object.keys(f).forEach(i=>{l[i]&&l[i].forEach(d=>{d&&f[i]!==void 0&&f[d]!==void 0&&e.fail(n("Arguments %s and %s are mutually exclusive",i,d))})}),t.getInternalMethods().getParserConfiguration()["strip-dashed"]&&Object.keys(l).forEach(i=>{l[i].forEach(d=>{d&&f[r.Parser.camelCase(i)]!==void 0&&f[r.Parser.camelCase(d)]!==void 0&&e.fail(n("Arguments %s and %s are mutually exclusive",i,d))})})},h.recommendCommands=function(f,i){i=i.sort((u,_)=>_.length-u.length);let m=null,D=1/0;for(let u=0,_;(_=i[u])!==void 0;u++){const g=eg(f,_);g<=3&&g<D&&(D=g,m=_)}m&&e.fail(n("Did you mean %s?",m))},h.reset=function(f){return p=ei(p,i=>!f[i]),l=ei(l,i=>!f[i]),h};const c=[];return h.freeze=function(){c.push({implied:p,conflicting:l})},h.unfreeze=function(){const f=c.pop();Dt(f,void 0,r),{implied:p,conflicting:l}=f},h}let Ys=[],ri;function Js(t,e,r,n){ri=n;let o={};if(Object.prototype.hasOwnProperty.call(t,"extends")){if(typeof t.extends!="string")return o;const h=/\.json|\..*rc$/.test(t.extends);let p=null;if(h)p=ig(e,t.extends);else try{p=require.resolve(t.extends)}catch{return t}rg(p),Ys.push(p),o=h?JSON.parse(ri.readFileSync(p,"utf8")):require(t.extends),delete t.extends,o=Js(o,ri.path.dirname(p),r,ri)}return Ys=[],r?Vu(o,t):Object.assign({},o,t)}function rg(t){if(Ys.indexOf(t)>-1)throw new qe(`Circular extended configurations: '${t}'.`)}function ig(t,e){return ri.path.resolve(t,e)}function Vu(t,e){const r={};function n(o){return o&&typeof o=="object"&&!Array.isArray(o)}Object.assign(r,t);for(const o of Object.keys(e))n(e[o])&&n(r[o])?r[o]=Vu(t[o],e[o]):r[o]=e[o];return r}var ce=function(t,e,r,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,r):o?o.value=r:e.set(t,r),r},N=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},Ue,Qt,ii,dt,ot,Ti,qt,er,Ii,pt,Mi,gt,At,at,mt,ji,Ar,Je,pe,Hi,Ni,ut,tr,xr,rr,zt,Wi,_e,ir,sr,nr,ve,Ui,xt,je;function sg(t){return(e=[],r=t.process.cwd(),n)=>{const o=new ng(e,r,n,t);return Object.defineProperty(o,"argv",{get:()=>o.parse(),enumerable:!0}),o.help(),o.version(),o}}const Ku=Symbol("copyDoubleDash"),Yu=Symbol("copyDoubleDash"),Xs=Symbol("deleteFromParserHintObject"),Ju=Symbol("emitWarning"),Xu=Symbol("freeze"),Zu=Symbol("getDollarZero"),or=Symbol("getParserConfiguration"),Qu=Symbol("getUsageConfiguration"),Zs=Symbol("guessLocale"),el=Symbol("guessVersion"),tl=Symbol("parsePositionalNumbers"),Qs=Symbol("pkgUp"),Gt=Symbol("populateParserHintArray"),Br=Symbol("populateParserHintSingleValueDictionary"),en=Symbol("populateParserHintArrayDictionary"),tn=Symbol("populateParserHintDictionary"),rn=Symbol("sanitizeKey"),sn=Symbol("setKey"),nn=Symbol("unfreeze"),rl=Symbol("validateAsync"),il=Symbol("getCommandInstance"),sl=Symbol("getContext"),nl=Symbol("getHasOutput"),ol=Symbol("getLoggerInstance"),al=Symbol("getParseContext"),ul=Symbol("getUsageInstance"),ll=Symbol("getValidationInstance"),$i=Symbol("hasParseCallback"),hl=Symbol("isGlobalContext"),ar=Symbol("postProcess"),cl=Symbol("rebase"),on=Symbol("reset"),si=Symbol("runYargsParserAndExecuteCommands"),an=Symbol("runValidation"),fl=Symbol("setHasOutput"),ur=Symbol("kTrackManuallySetKeys");class ng{constructor(e=[],r,n,o){this.customScriptName=!1,this.parsed=!1,Ue.set(this,void 0),Qt.set(this,void 0),ii.set(this,{commands:[],fullCommands:[]}),dt.set(this,null),ot.set(this,null),Ti.set(this,"show-hidden"),qt.set(this,null),er.set(this,!0),Ii.set(this,{}),pt.set(this,!0),Mi.set(this,[]),gt.set(this,void 0),At.set(this,{}),at.set(this,!1),mt.set(this,null),ji.set(this,!0),Ar.set(this,void 0),Je.set(this,""),pe.set(this,void 0),Hi.set(this,void 0),Ni.set(this,{}),ut.set(this,null),tr.set(this,null),xr.set(this,{}),rr.set(this,{}),zt.set(this,void 0),Wi.set(this,!1),_e.set(this,void 0),ir.set(this,!1),sr.set(this,!1),nr.set(this,!1),ve.set(this,void 0),Ui.set(this,{}),xt.set(this,null),je.set(this,void 0),ce(this,_e,o,"f"),ce(this,zt,e,"f"),ce(this,Qt,r,"f"),ce(this,Hi,n,"f"),ce(this,gt,new Ip(this),"f"),this.$0=this[Zu](),this[on](),ce(this,Ue,N(this,Ue,"f"),"f"),ce(this,ve,N(this,ve,"f"),"f"),ce(this,je,N(this,je,"f"),"f"),ce(this,pe,N(this,pe,"f"),"f"),N(this,pe,"f").showHiddenOpt=N(this,Ti,"f"),ce(this,Ar,this[Yu](),"f")}addHelpOpt(e,r){const n="help";return de("[string|boolean] [string]",[e,r],arguments.length),N(this,mt,"f")&&(this[Xs](N(this,mt,"f")),ce(this,mt,null,"f")),e===!1&&r===void 0?this:(ce(this,mt,typeof e=="string"?e:n,"f"),this.boolean(N(this,mt,"f")),this.describe(N(this,mt,"f"),r||N(this,ve,"f").deferY18nLookup("Show help")),this)}help(e,r){return this.addHelpOpt(e,r)}addShowHiddenOpt(e,r){if(de("[string|boolean] [string]",[e,r],arguments.length),e===!1&&r===void 0)return this;const n=typeof e=="string"?e:N(this,Ti,"f");return this.boolean(n),this.describe(n,r||N(this,ve,"f").deferY18nLookup("Show hidden options")),N(this,pe,"f").showHiddenOpt=n,this}showHidden(e,r){return this.addShowHiddenOpt(e,r)}alias(e,r){return de("<object|string|array> [string|array]",[e,r],arguments.length),this[en](this.alias.bind(this),"alias",e,r),this}array(e){return de("<array|string>",[e],arguments.length),this[Gt]("array",e),this[ur](e),this}boolean(e){return de("<array|string>",[e],arguments.length),this[Gt]("boolean",e),this[ur](e),this}check(e,r){return de("<function> [boolean]",[e,r],arguments.length),this.middleware((n,o)=>Qr(()=>e(n,o.getOptions()),h=>(h?(typeof h=="string"||h instanceof Error)&&N(this,ve,"f").fail(h.toString(),h):N(this,ve,"f").fail(N(this,_e,"f").y18n.__("Argument check failed: %s",e.toString())),n),h=>(N(this,ve,"f").fail(h.message?h.message:h.toString(),h),n)),!1,r),this}choices(e,r){return de("<object|string|array> [string|array]",[e,r],arguments.length),this[en](this.choices.bind(this),"choices",e,r),this}coerce(e,r){if(de("<object|string|array> [function]",[e,r],arguments.length),Array.isArray(e)){if(!r)throw new qe("coerce callback must be provided");for(const n of e)this.coerce(n,r);return this}else if(typeof e=="object"){for(const n of Object.keys(e))this.coerce(n,e[n]);return this}if(!r)throw new qe("coerce callback must be provided");return N(this,pe,"f").key[e]=!0,N(this,gt,"f").addCoerceMiddleware((n,o)=>{let h;return Object.prototype.hasOwnProperty.call(n,e)?Qr(()=>(h=o.getAliases(),r(n[e])),s=>{n[e]=s;const l=o.getInternalMethods().getParserConfiguration()["strip-aliased"];if(h[e]&&l!==!0)for(const c of h[e])n[c]=s;return n},s=>{throw new qe(s.message)}):n},e),this}conflicts(e,r){return de("<string|object> [string|array]",[e,r],arguments.length),N(this,je,"f").conflicts(e,r),this}config(e="config",r,n){return de("[object|string] [string|function] [function]",[e,r,n],arguments.length),typeof e=="object"&&!Array.isArray(e)?(e=Js(e,N(this,Qt,"f"),this[or]()["deep-merge-config"]||!1,N(this,_e,"f")),N(this,pe,"f").configObjects=(N(this,pe,"f").configObjects||[]).concat(e),this):(typeof r=="function"&&(n=r,r=void 0),this.describe(e,r||N(this,ve,"f").deferY18nLookup("Path to JSON config file")),(Array.isArray(e)?e:[e]).forEach(o=>{N(this,pe,"f").config[o]=n||!0}),this)}completion(e,r,n){return de("[string] [string|boolean|function] [function]",[e,r,n],arguments.length),typeof r=="function"&&(n=r,r=void 0),ce(this,ot,e||N(this,ot,"f")||"completion","f"),!r&&r!==!1&&(r="generate completion script"),this.command(N(this,ot,"f"),r),n&&N(this,dt,"f").registerFunction(n),this}command(e,r,n,o,h,p){return de("<string|array|object> [string|boolean] [function|object] [function] [array] [boolean|string]",[e,r,n,o,h,p],arguments.length),N(this,Ue,"f").addHandler(e,r,n,o,h,p),this}commands(e,r,n,o,h,p){return this.command(e,r,n,o,h,p)}commandDir(e,r){de("<string> [object]",[e,r],arguments.length);const n=N(this,Hi,"f")||N(this,_e,"f").require;return N(this,Ue,"f").addDirectory(e,n,N(this,_e,"f").getCallerFile(),r),this}count(e){return de("<array|string>",[e],arguments.length),this[Gt]("count",e),this[ur](e),this}default(e,r,n){return de("<object|string|array> [*] [string]",[e,r,n],arguments.length),n&&(Wu(e,N(this,_e,"f")),N(this,pe,"f").defaultDescription[e]=n),typeof r=="function"&&(Wu(e,N(this,_e,"f")),N(this,pe,"f").defaultDescription[e]||(N(this,pe,"f").defaultDescription[e]=N(this,ve,"f").functionDescription(r)),r=r.call()),this[Br](this.default.bind(this),"default",e,r),this}defaults(e,r,n){return this.default(e,r,n)}demandCommand(e=1,r,n,o){return de("[number] [number|string] [string|null|undefined] [string|null|undefined]",[e,r,n,o],arguments.length),typeof r!="number"&&(n=r,r=1/0),this.global("_",!1),N(this,pe,"f").demandedCommands._={min:e,max:r,minMsg:n,maxMsg:o},this}demand(e,r,n){return Array.isArray(r)?(r.forEach(o=>{Dt(n,!0,N(this,_e,"f")),this.demandOption(o,n)}),r=1/0):typeof r!="number"&&(n=r,r=1/0),typeof e=="number"?(Dt(n,!0,N(this,_e,"f")),this.demandCommand(e,r,n,n)):Array.isArray(e)?e.forEach(o=>{Dt(n,!0,N(this,_e,"f")),this.demandOption(o,n)}):typeof n=="string"?this.demandOption(e,n):(n===!0||typeof n>"u")&&this.demandOption(e),this}demandOption(e,r){return de("<object|string|array> [string]",[e,r],arguments.length),this[Br](this.demandOption.bind(this),"demandedOptions",e,r),this}deprecateOption(e,r){return de("<string> [string|boolean]",[e,r],arguments.length),N(this,pe,"f").deprecatedOptions[e]=r,this}describe(e,r){return de("<object|string|array> [string]",[e,r],arguments.length),this[sn](e,!0),N(this,ve,"f").describe(e,r),this}detectLocale(e){return de("<boolean>",[e],arguments.length),ce(this,er,e,"f"),this}env(e){return de("[string|boolean]",[e],arguments.length),e===!1?delete N(this,pe,"f").envPrefix:N(this,pe,"f").envPrefix=e||"",this}epilogue(e){return de("<string>",[e],arguments.length),N(this,ve,"f").epilog(e),this}epilog(e){return this.epilogue(e)}example(e,r){return de("<string|array> [string]",[e,r],arguments.length),Array.isArray(e)?e.forEach(n=>this.example(...n)):N(this,ve,"f").example(e,r),this}exit(e,r){ce(this,at,!0,"f"),ce(this,qt,r,"f"),N(this,pt,"f")&&N(this,_e,"f").process.exit(e)}exitProcess(e=!0){return de("[boolean]",[e],arguments.length),ce(this,pt,e,"f"),this}fail(e){if(de("<function|boolean>",[e],arguments.length),typeof e=="boolean"&&e!==!1)throw new qe("Invalid first argument. Expected function or boolean 'false'");return N(this,ve,"f").failFn(e),this}getAliases(){return this.parsed?this.parsed.aliases:{}}async getCompletion(e,r){return de("<array> [function]",[e,r],arguments.length),r?N(this,dt,"f").getCompletion(e,r):new Promise((n,o)=>{N(this,dt,"f").getCompletion(e,(h,p)=>{h?o(h):n(p)})})}getDemandedOptions(){return de([],0),N(this,pe,"f").demandedOptions}getDemandedCommands(){return de([],0),N(this,pe,"f").demandedCommands}getDeprecatedOptions(){return de([],0),N(this,pe,"f").deprecatedOptions}getDetectLocale(){return N(this,er,"f")}getExitProcess(){return N(this,pt,"f")}getGroups(){return Object.assign({},N(this,At,"f"),N(this,rr,"f"))}getHelp(){if(ce(this,at,!0,"f"),!N(this,ve,"f").hasCachedHelpMessage()){if(!this.parsed){const r=this[si](N(this,zt,"f"),void 0,void 0,0,!0);if(ze(r))return r.then(()=>N(this,ve,"f").help())}const e=N(this,Ue,"f").runDefaultBuilderOn(this);if(ze(e))return e.then(()=>N(this,ve,"f").help())}return Promise.resolve(N(this,ve,"f").help())}getOptions(){return N(this,pe,"f")}getStrict(){return N(this,ir,"f")}getStrictCommands(){return N(this,sr,"f")}getStrictOptions(){return N(this,nr,"f")}global(e,r){return de("<string|array> [boolean]",[e,r],arguments.length),e=[].concat(e),r!==!1?N(this,pe,"f").local=N(this,pe,"f").local.filter(n=>e.indexOf(n)===-1):e.forEach(n=>{N(this,pe,"f").local.includes(n)||N(this,pe,"f").local.push(n)}),this}group(e,r){de("<string|array> <string>",[e,r],arguments.length);const n=N(this,rr,"f")[r]||N(this,At,"f")[r];N(this,rr,"f")[r]&&delete N(this,rr,"f")[r];const o={};return N(this,At,"f")[r]=(n||[]).concat(e).filter(h=>o[h]?!1:o[h]=!0),this}hide(e){return de("<string>",[e],arguments.length),N(this,pe,"f").hiddenOptions.push(e),this}implies(e,r){return de("<string|object> [number|string|array]",[e,r],arguments.length),N(this,je,"f").implies(e,r),this}locale(e){return de("[string]",[e],arguments.length),e===void 0?(this[Zs](),N(this,_e,"f").y18n.getLocale()):(ce(this,er,!1,"f"),N(this,_e,"f").y18n.setLocale(e),this)}middleware(e,r,n){return N(this,gt,"f").addMiddleware(e,!!r,n)}nargs(e,r){return de("<string|object|array> [number]",[e,r],arguments.length),this[Br](this.nargs.bind(this),"narg",e,r),this}normalize(e){return de("<array|string>",[e],arguments.length),this[Gt]("normalize",e),this}number(e){return de("<array|string>",[e],arguments.length),this[Gt]("number",e),this[ur](e),this}option(e,r){if(de("<string|object> [object]",[e,r],arguments.length),typeof e=="object")Object.keys(e).forEach(n=>{this.options(n,e[n])});else{typeof r!="object"&&(r={}),this[ur](e),N(this,xt,"f")&&(e==="version"||(r==null?void 0:r.alias)==="version")&&this[Ju](['"version" is a reserved word.',"Please do one of the following:",'- Disable version with `yargs.version(false)` if using "version" as an option',"- Use the built-in `yargs.version` method instead (if applicable)","- Use a different option key","https://yargs.js.org/docs/#api-reference-version"].join(`
`),void 0,"versionWarning"),N(this,pe,"f").key[e]=!0,r.alias&&this.alias(e,r.alias);const n=r.deprecate||r.deprecated;n&&this.deprecateOption(e,n);const o=r.demand||r.required||r.require;o&&this.demand(e,o),r.demandOption&&this.demandOption(e,typeof r.demandOption=="string"?r.demandOption:void 0),r.conflicts&&this.conflicts(e,r.conflicts),"default"in r&&this.default(e,r.default),r.implies!==void 0&&this.implies(e,r.implies),r.nargs!==void 0&&this.nargs(e,r.nargs),r.config&&this.config(e,r.configParser),r.normalize&&this.normalize(e),r.choices&&this.choices(e,r.choices),r.coerce&&this.coerce(e,r.coerce),r.group&&this.group(e,r.group),(r.boolean||r.type==="boolean")&&(this.boolean(e),r.alias&&this.boolean(r.alias)),(r.array||r.type==="array")&&(this.array(e),r.alias&&this.array(r.alias)),(r.number||r.type==="number")&&(this.number(e),r.alias&&this.number(r.alias)),(r.string||r.type==="string")&&(this.string(e),r.alias&&this.string(r.alias)),(r.count||r.type==="count")&&this.count(e),typeof r.global=="boolean"&&this.global(e,r.global),r.defaultDescription&&(N(this,pe,"f").defaultDescription[e]=r.defaultDescription),r.skipValidation&&this.skipValidation(e);const h=r.describe||r.description||r.desc,p=N(this,ve,"f").getDescriptions();(!Object.prototype.hasOwnProperty.call(p,e)||typeof h=="string")&&this.describe(e,h),r.hidden&&this.hide(e),r.requiresArg&&this.requiresArg(e)}return this}options(e,r){return this.option(e,r)}parse(e,r,n){de("[string|array] [function|boolean|object] [function]",[e,r,n],arguments.length),this[Xu](),typeof e>"u"&&(e=N(this,zt,"f")),typeof r=="object"&&(ce(this,tr,r,"f"),r=n),typeof r=="function"&&(ce(this,ut,r,"f"),r=!1),r||ce(this,zt,e,"f"),N(this,ut,"f")&&ce(this,pt,!1,"f");const o=this[si](e,!!r),h=this.parsed;return N(this,dt,"f").setParsed(this.parsed),ze(o)?o.then(p=>(N(this,ut,"f")&&N(this,ut,"f").call(this,N(this,qt,"f"),p,N(this,Je,"f")),p)).catch(p=>{throw N(this,ut,"f")&&N(this,ut,"f")(p,this.parsed.argv,N(this,Je,"f")),p}).finally(()=>{this[nn](),this.parsed=h}):(N(this,ut,"f")&&N(this,ut,"f").call(this,N(this,qt,"f"),o,N(this,Je,"f")),this[nn](),this.parsed=h,o)}parseAsync(e,r,n){const o=this.parse(e,r,n);return ze(o)?o:Promise.resolve(o)}parseSync(e,r,n){const o=this.parse(e,r,n);if(ze(o))throw new qe(".parseSync() must not be used with asynchronous builders, handlers, or middleware");return o}parserConfiguration(e){return de("<object>",[e],arguments.length),ce(this,Ni,e,"f"),this}pkgConf(e,r){de("<string> [string]",[e,r],arguments.length);let n=null;const o=this[Qs](r||N(this,Qt,"f"));return o[e]&&typeof o[e]=="object"&&(n=Js(o[e],r||N(this,Qt,"f"),this[or]()["deep-merge-config"]||!1,N(this,_e,"f")),N(this,pe,"f").configObjects=(N(this,pe,"f").configObjects||[]).concat(n)),this}positional(e,r){de("<string> <object>",[e,r],arguments.length);const n=["default","defaultDescription","implies","normalize","choices","conflicts","coerce","type","describe","desc","description","alias"];r=ei(r,(p,s)=>p==="type"&&!["string","number","boolean"].includes(s)?!1:n.includes(p));const o=N(this,ii,"f").fullCommands[N(this,ii,"f").fullCommands.length-1],h=o?N(this,Ue,"f").cmdToParseOptions(o):{array:[],alias:{},default:{},demand:{}};return Pi(h).forEach(p=>{const s=h[p];Array.isArray(s)?s.indexOf(e)!==-1&&(r[p]=!0):s[e]&&!(p in r)&&(r[p]=s[e])}),this.group(e,N(this,ve,"f").getPositionalGroupName()),this.option(e,r)}recommendCommands(e=!0){return de("[boolean]",[e],arguments.length),ce(this,Wi,e,"f"),this}required(e,r,n){return this.demand(e,r,n)}require(e,r,n){return this.demand(e,r,n)}requiresArg(e){return de("<array|string|object> [number]",[e],arguments.length),typeof e=="string"&&N(this,pe,"f").narg[e]?this:(this[Br](this.requiresArg.bind(this),"narg",e,NaN),this)}showCompletionScript(e,r){return de("[string] [string]",[e,r],arguments.length),e=e||this.$0,N(this,Ar,"f").log(N(this,dt,"f").generateCompletionScript(e,r||N(this,ot,"f")||"completion")),this}showHelp(e){if(de("[string|function]",[e],arguments.length),ce(this,at,!0,"f"),!N(this,ve,"f").hasCachedHelpMessage()){if(!this.parsed){const n=this[si](N(this,zt,"f"),void 0,void 0,0,!0);if(ze(n))return n.then(()=>{N(this,ve,"f").showHelp(e)}),this}const r=N(this,Ue,"f").runDefaultBuilderOn(this);if(ze(r))return r.then(()=>{N(this,ve,"f").showHelp(e)}),this}return N(this,ve,"f").showHelp(e),this}scriptName(e){return this.customScriptName=!0,this.$0=e,this}showHelpOnFail(e,r){return de("[boolean|string] [string]",[e,r],arguments.length),N(this,ve,"f").showHelpOnFail(e,r),this}showVersion(e){return de("[string|function]",[e],arguments.length),N(this,ve,"f").showVersion(e),this}skipValidation(e){return de("<array|string>",[e],arguments.length),this[Gt]("skipValidation",e),this}strict(e){return de("[boolean]",[e],arguments.length),ce(this,ir,e!==!1,"f"),this}strictCommands(e){return de("[boolean]",[e],arguments.length),ce(this,sr,e!==!1,"f"),this}strictOptions(e){return de("[boolean]",[e],arguments.length),ce(this,nr,e!==!1,"f"),this}string(e){return de("<array|string>",[e],arguments.length),this[Gt]("string",e),this[ur](e),this}terminalWidth(){return de([],0),N(this,_e,"f").process.stdColumns}updateLocale(e){return this.updateStrings(e)}updateStrings(e){return de("<object>",[e],arguments.length),ce(this,er,!1,"f"),N(this,_e,"f").y18n.updateLocale(e),this}usage(e,r,n,o){if(de("<string|null|undefined> [string|boolean] [function|object] [function]",[e,r,n,o],arguments.length),r!==void 0){if(Dt(e,null,N(this,_e,"f")),(e||"").match(/^\$0( |$)/))return this.command(e,r,n,o);throw new qe(".usage() description must start with $0 if being used as alias for .command()")}else return N(this,ve,"f").usage(e),this}usageConfiguration(e){return de("<object>",[e],arguments.length),ce(this,Ui,e,"f"),this}version(e,r,n){const o="version";if(de("[boolean|string] [string] [string]",[e,r,n],arguments.length),N(this,xt,"f")&&(this[Xs](N(this,xt,"f")),N(this,ve,"f").version(void 0),ce(this,xt,null,"f")),arguments.length===0)n=this[el](),e=o;else if(arguments.length===1){if(e===!1)return this;n=e,e=o}else arguments.length===2&&(n=r,r=void 0);return ce(this,xt,typeof e=="string"?e:o,"f"),r=r||N(this,ve,"f").deferY18nLookup("Show version number"),N(this,ve,"f").version(n||void 0),this.boolean(N(this,xt,"f")),this.describe(N(this,xt,"f"),r),this}wrap(e){return de("<number|null|undefined>",[e],arguments.length),N(this,ve,"f").wrap(e),this}[(Ue=new WeakMap,Qt=new WeakMap,ii=new WeakMap,dt=new WeakMap,ot=new WeakMap,Ti=new WeakMap,qt=new WeakMap,er=new WeakMap,Ii=new WeakMap,pt=new WeakMap,Mi=new WeakMap,gt=new WeakMap,At=new WeakMap,at=new WeakMap,mt=new WeakMap,ji=new WeakMap,Ar=new WeakMap,Je=new WeakMap,pe=new WeakMap,Hi=new WeakMap,Ni=new WeakMap,ut=new WeakMap,tr=new WeakMap,xr=new WeakMap,rr=new WeakMap,zt=new WeakMap,Wi=new WeakMap,_e=new WeakMap,ir=new WeakMap,sr=new WeakMap,nr=new WeakMap,ve=new WeakMap,Ui=new WeakMap,xt=new WeakMap,je=new WeakMap,Ku)](e){if(!e._||!e["--"])return e;e._.push.apply(e._,e["--"]);try{delete e["--"]}catch{}return e}[Yu](){return{log:(...e)=>{this[$i]()||console.log(...e),ce(this,at,!0,"f"),N(this,Je,"f").length&&ce(this,Je,N(this,Je,"f")+`
`,"f"),ce(this,Je,N(this,Je,"f")+e.join(" "),"f")},error:(...e)=>{this[$i]()||console.error(...e),ce(this,at,!0,"f"),N(this,Je,"f").length&&ce(this,Je,N(this,Je,"f")+`
`,"f"),ce(this,Je,N(this,Je,"f")+e.join(" "),"f")}}}[Xs](e){Pi(N(this,pe,"f")).forEach(r=>{if((o=>o==="configObjects")(r))return;const n=N(this,pe,"f")[r];Array.isArray(n)?n.includes(e)&&n.splice(n.indexOf(e),1):typeof n=="object"&&delete n[e]}),delete N(this,ve,"f").getDescriptions()[e]}[Ju](e,r,n){N(this,Ii,"f")[n]||(N(this,_e,"f").process.emitWarning(e,r),N(this,Ii,"f")[n]=!0)}[Xu](){N(this,Mi,"f").push({options:N(this,pe,"f"),configObjects:N(this,pe,"f").configObjects.slice(0),exitProcess:N(this,pt,"f"),groups:N(this,At,"f"),strict:N(this,ir,"f"),strictCommands:N(this,sr,"f"),strictOptions:N(this,nr,"f"),completionCommand:N(this,ot,"f"),output:N(this,Je,"f"),exitError:N(this,qt,"f"),hasOutput:N(this,at,"f"),parsed:this.parsed,parseFn:N(this,ut,"f"),parseContext:N(this,tr,"f")}),N(this,ve,"f").freeze(),N(this,je,"f").freeze(),N(this,Ue,"f").freeze(),N(this,gt,"f").freeze()}[Zu](){let e="",r;return/\b(node|iojs|electron)(\.exe)?$/.test(N(this,_e,"f").process.argv()[0])?r=N(this,_e,"f").process.argv().slice(1,2):r=N(this,_e,"f").process.argv().slice(0,1),e=r.map(n=>{const o=this[cl](N(this,Qt,"f"),n);return n.match(/^(\/|([a-zA-Z]:)?\\)/)&&o.length<n.length?o:n}).join(" ").trim(),N(this,_e,"f").getEnv("_")&&N(this,_e,"f").getProcessArgvBin()===N(this,_e,"f").getEnv("_")&&(e=N(this,_e,"f").getEnv("_").replace(`${N(this,_e,"f").path.dirname(N(this,_e,"f").process.execPath())}/`,"")),e}[or](){return N(this,Ni,"f")}[Qu](){return N(this,Ui,"f")}[Zs](){if(!N(this,er,"f"))return;const e=N(this,_e,"f").getEnv("LC_ALL")||N(this,_e,"f").getEnv("LC_MESSAGES")||N(this,_e,"f").getEnv("LANG")||N(this,_e,"f").getEnv("LANGUAGE")||"en_US";this.locale(e.replace(/[.:].*/,""))}[el](){return this[Qs]().version||"unknown"}[tl](e){const r=e["--"]?e["--"]:e._;for(let n=0,o;(o=r[n])!==void 0;n++)N(this,_e,"f").Parser.looksLikeNumber(o)&&Number.isSafeInteger(Math.floor(parseFloat(`${o}`)))&&(r[n]=Number(o));return e}[Qs](e){const r=e||"*";if(N(this,xr,"f")[r])return N(this,xr,"f")[r];let n={};try{let o=e||N(this,_e,"f").mainFilename;!e&&N(this,_e,"f").path.extname(o)&&(o=N(this,_e,"f").path.dirname(o));const h=N(this,_e,"f").findUp(o,(p,s)=>{if(s.includes("package.json"))return"package.json"});Dt(h,void 0,N(this,_e,"f")),n=JSON.parse(N(this,_e,"f").readFileSync(h,"utf8"))}catch{}return N(this,xr,"f")[r]=n||{},N(this,xr,"f")[r]}[Gt](e,r){r=[].concat(r),r.forEach(n=>{n=this[rn](n),N(this,pe,"f")[e].push(n)})}[Br](e,r,n,o){this[tn](e,r,n,o,(h,p,s)=>{N(this,pe,"f")[h][p]=s})}[en](e,r,n,o){this[tn](e,r,n,o,(h,p,s)=>{N(this,pe,"f")[h][p]=(N(this,pe,"f")[h][p]||[]).concat(s)})}[tn](e,r,n,o,h){if(Array.isArray(n))n.forEach(p=>{e(p,o)});else if((p=>typeof p=="object")(n))for(const p of Pi(n))e(p,n[p]);else h(r,this[rn](n),o)}[rn](e){return e==="__proto__"?"___proto___":e}[sn](e,r){return this[Br](this[sn].bind(this),"key",e,r),this}[nn](){var e,r,n,o,h,p,s,l,c,a,f,i;const d=N(this,Mi,"f").pop();Dt(d,void 0,N(this,_e,"f"));let m;e=this,r=this,n=this,o=this,h=this,p=this,s=this,l=this,c=this,a=this,f=this,i=this,{options:{set value(D){ce(e,pe,D,"f")}}.value,configObjects:m,exitProcess:{set value(D){ce(r,pt,D,"f")}}.value,groups:{set value(D){ce(n,At,D,"f")}}.value,output:{set value(D){ce(o,Je,D,"f")}}.value,exitError:{set value(D){ce(h,qt,D,"f")}}.value,hasOutput:{set value(D){ce(p,at,D,"f")}}.value,parsed:this.parsed,strict:{set value(D){ce(s,ir,D,"f")}}.value,strictCommands:{set value(D){ce(l,sr,D,"f")}}.value,strictOptions:{set value(D){ce(c,nr,D,"f")}}.value,completionCommand:{set value(D){ce(a,ot,D,"f")}}.value,parseFn:{set value(D){ce(f,ut,D,"f")}}.value,parseContext:{set value(D){ce(i,tr,D,"f")}}.value}=d,N(this,pe,"f").configObjects=m,N(this,ve,"f").unfreeze(),N(this,je,"f").unfreeze(),N(this,Ue,"f").unfreeze(),N(this,gt,"f").unfreeze()}[rl](e,r){return Qr(r,n=>(e(n),n))}getInternalMethods(){return{getCommandInstance:this[il].bind(this),getContext:this[sl].bind(this),getHasOutput:this[nl].bind(this),getLoggerInstance:this[ol].bind(this),getParseContext:this[al].bind(this),getParserConfiguration:this[or].bind(this),getUsageConfiguration:this[Qu].bind(this),getUsageInstance:this[ul].bind(this),getValidationInstance:this[ll].bind(this),hasParseCallback:this[$i].bind(this),isGlobalContext:this[hl].bind(this),postProcess:this[ar].bind(this),reset:this[on].bind(this),runValidation:this[an].bind(this),runYargsParserAndExecuteCommands:this[si].bind(this),setHasOutput:this[fl].bind(this)}}[il](){return N(this,Ue,"f")}[sl](){return N(this,ii,"f")}[nl](){return N(this,at,"f")}[ol](){return N(this,Ar,"f")}[al](){return N(this,tr,"f")||{}}[ul](){return N(this,ve,"f")}[ll](){return N(this,je,"f")}[$i](){return!!N(this,ut,"f")}[hl](){return N(this,ji,"f")}[ar](e,r,n,o){return n||ze(e)||(r||(e=this[Ku](e)),(this[or]()["parse-positional-numbers"]||this[or]()["parse-positional-numbers"]===void 0)&&(e=this[tl](e)),o&&(e=Zr(e,this,N(this,gt,"f").getMiddleware(),!1))),e}[on](e={}){ce(this,pe,N(this,pe,"f")||{},"f");const r={};r.local=N(this,pe,"f").local||[],r.configObjects=N(this,pe,"f").configObjects||[];const n={};r.local.forEach(p=>{n[p]=!0,(e[p]||[]).forEach(s=>{n[s]=!0})}),Object.assign(N(this,rr,"f"),Object.keys(N(this,At,"f")).reduce((p,s)=>{const l=N(this,At,"f")[s].filter(c=>!(c in n));return l.length>0&&(p[s]=l),p},{})),ce(this,At,{},"f");const o=["array","boolean","string","skipValidation","count","normalize","number","hiddenOptions"],h=["narg","key","alias","default","defaultDescription","config","choices","demandedOptions","demandedCommands","deprecatedOptions"];return o.forEach(p=>{r[p]=(N(this,pe,"f")[p]||[]).filter(s=>!n[s])}),h.forEach(p=>{r[p]=ei(N(this,pe,"f")[p],s=>!n[s])}),r.envPrefix=N(this,pe,"f").envPrefix,ce(this,pe,r,"f"),ce(this,ve,N(this,ve,"f")?N(this,ve,"f").reset(n):Gp(this,N(this,_e,"f")),"f"),ce(this,je,N(this,je,"f")?N(this,je,"f").reset(n):tg(this,N(this,ve,"f"),N(this,_e,"f")),"f"),ce(this,Ue,N(this,Ue,"f")?N(this,Ue,"f").reset():Wp(N(this,ve,"f"),N(this,je,"f"),N(this,gt,"f"),N(this,_e,"f")),"f"),N(this,dt,"f")||ce(this,dt,Xp(this,N(this,ve,"f"),N(this,Ue,"f"),N(this,_e,"f")),"f"),N(this,gt,"f").reset(),ce(this,ot,null,"f"),ce(this,Je,"","f"),ce(this,qt,null,"f"),ce(this,at,!1,"f"),this.parsed=!1,this}[cl](e,r){return N(this,_e,"f").path.relative(e,r)}[si](e,r,n,o=0,h=!1){let p=!!n||h;e=e||N(this,zt,"f"),N(this,pe,"f").__=N(this,_e,"f").y18n.__,N(this,pe,"f").configuration=this[or]();const s=!!N(this,pe,"f").configuration["populate--"],l=Object.assign({},N(this,pe,"f").configuration,{"populate--":!0}),c=N(this,_e,"f").Parser.detailed(e,Object.assign({},N(this,pe,"f"),{configuration:{"parse-positional-numbers":!1,...l}})),a=Object.assign(c.argv,N(this,tr,"f"));let f;const i=c.aliases;let d=!1,m=!1;Object.keys(a).forEach(D=>{D===N(this,mt,"f")&&a[D]?d=!0:D===N(this,xt,"f")&&a[D]&&(m=!0)}),a.$0=this.$0,this.parsed=c,o===0&&N(this,ve,"f").clearCachedHelpMessage();try{if(this[Zs](),r)return this[ar](a,s,!!n,!1);N(this,mt,"f")&&[N(this,mt,"f")].concat(i[N(this,mt,"f")]||[]).filter(v=>v.length>1).includes(""+a._[a._.length-1])&&(a._.pop(),d=!0),ce(this,ji,!1,"f");const D=N(this,Ue,"f").getCommands(),u=N(this,dt,"f").completionKey in a,_=d||u||h;if(a._.length){if(D.length){let g;for(let v=o||0,y;a._[v]!==void 0;v++)if(y=String(a._[v]),D.includes(y)&&y!==N(this,ot,"f")){const b=N(this,Ue,"f").runCommand(y,this,c,v+1,h,d||m||h);return this[ar](b,s,!!n,!1)}else if(!g&&y!==N(this,ot,"f")){g=y;break}!N(this,Ue,"f").hasDefaultCommand()&&N(this,Wi,"f")&&g&&!_&&N(this,je,"f").recommendCommands(g,D)}N(this,ot,"f")&&a._.includes(N(this,ot,"f"))&&!u&&(N(this,pt,"f")&&ti(!0),this.showCompletionScript(),this.exit(0))}if(N(this,Ue,"f").hasDefaultCommand()&&!_){const g=N(this,Ue,"f").runCommand(null,this,c,0,h,d||m||h);return this[ar](g,s,!!n,!1)}if(u){N(this,pt,"f")&&ti(!0),e=[].concat(e);const g=e.slice(e.indexOf(`--${N(this,dt,"f").completionKey}`)+1);return N(this,dt,"f").getCompletion(g,(v,y)=>{if(v)throw new qe(v.message);(y||[]).forEach(b=>{N(this,Ar,"f").log(b)}),this.exit(0)}),this[ar](a,!s,!!n,!1)}if(N(this,at,"f")||(d?(N(this,pt,"f")&&ti(!0),p=!0,this.showHelp("log"),this.exit(0)):m&&(N(this,pt,"f")&&ti(!0),p=!0,N(this,ve,"f").showVersion("log"),this.exit(0))),!p&&N(this,pe,"f").skipValidation.length>0&&(p=Object.keys(a).some(g=>N(this,pe,"f").skipValidation.indexOf(g)>=0&&a[g]===!0)),!p){if(c.error)throw new qe(c.error.message);if(!u){const g=this[an](i,{},c.error);n||(f=Zr(a,this,N(this,gt,"f").getMiddleware(),!0)),f=this[rl](g,f??a),ze(f)&&!n&&(f=f.then(()=>Zr(a,this,N(this,gt,"f").getMiddleware(),!1)))}}}catch(D){if(D instanceof qe)N(this,ve,"f").fail(D.message,D);else throw D}return this[ar](f??a,s,!!n,!0)}[an](e,r,n,o){const h={...this.getDemandedOptions()};return p=>{if(n)throw new qe(n.message);N(this,je,"f").nonOptionCount(p),N(this,je,"f").requiredArguments(p,h);let s=!1;N(this,sr,"f")&&(s=N(this,je,"f").unknownCommands(p)),N(this,ir,"f")&&!s?N(this,je,"f").unknownArguments(p,e,r,!!o):N(this,nr,"f")&&N(this,je,"f").unknownArguments(p,e,{},!1,!1),N(this,je,"f").limitedChoices(p),N(this,je,"f").implications(p),N(this,je,"f").conflicting(p)}}[fl](){ce(this,at,!0,"f")}[ur](e){if(typeof e=="string")N(this,pe,"f").key[e]=!0;else for(const r of e)N(this,pe,"f").key[r]=!0}}function og(t){return!!t&&typeof t.getInternalMethods=="function"}const ag=sg(Lp);var un={exports:{}},ln={exports:{}},_t={},Re={};Re.__esModule=!0,Re.extend=dl,Re.indexOf=fg,Re.escapeExpression=dg,Re.isEmpty=pg,Re.createFrame=gg,Re.blockParams=mg,Re.appendContextPath=_g;var ug={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},lg=/[&<>"'`=]/g,hg=/[&<>"'`=]/;function cg(t){return ug[t]}function dl(t){for(var e=1;e<arguments.length;e++)for(var r in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],r)&&(t[r]=arguments[e][r]);return t}var hn=Object.prototype.toString;Re.toString=hn;var cn=function(e){return typeof e=="function"};cn(/x/)&&(Re.isFunction=cn=function(t){return typeof t=="function"&&hn.call(t)==="[object Function]"}),Re.isFunction=cn;var pl=Array.isArray||function(t){return t&&typeof t=="object"?hn.call(t)==="[object Array]":!1};Re.isArray=pl;function fg(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function dg(t){if(typeof t!="string"){if(t&&t.toHTML)return t.toHTML();if(t==null)return"";if(!t)return t+"";t=""+t}return hg.test(t)?t.replace(lg,cg):t}function pg(t){return!t&&t!==0?!0:!!(pl(t)&&t.length===0)}function gg(t){var e=dl({},t);return e._parent=t,e}function mg(t,e){return t.path=e,t}function _g(t,e){return(t?t+".":"")+e}var fn={exports:{}};(function(t,e){e.__esModule=!0;var r=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function n(o,h){var p=h&&h.loc,s=void 0,l=void 0,c=void 0,a=void 0;p&&(s=p.start.line,l=p.end.line,c=p.start.column,a=p.end.column,o+=" - "+s+":"+c);for(var f=Error.prototype.constructor.call(this,o),i=0;i<r.length;i++)this[r[i]]=f[r[i]];Error.captureStackTrace&&Error.captureStackTrace(this,n);try{p&&(this.lineNumber=s,this.endLineNumber=l,Object.defineProperty?(Object.defineProperty(this,"column",{value:c,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:a,enumerable:!0})):(this.column=c,this.endColumn=a))}catch{}}n.prototype=new Error,e.default=n,t.exports=e.default})(fn,fn.exports);var yt=fn.exports,ni={},dn={exports:{}};(function(t,e){e.__esModule=!0;var r=Re;e.default=function(n){n.registerHelper("blockHelperMissing",function(o,h){var p=h.inverse,s=h.fn;if(o===!0)return s(this);if(o===!1||o==null)return p(this);if(r.isArray(o))return o.length>0?(h.ids&&(h.ids=[h.name]),n.helpers.each(o,h)):p(this);if(h.data&&h.ids){var l=r.createFrame(h.data);l.contextPath=r.appendContextPath(h.data.contextPath,h.name),h={data:l}}return s(o,h)})},t.exports=e.default})(dn,dn.exports);var vg=dn.exports,pn={exports:{}};(function(t,e){e.__esModule=!0;function r(p){return p&&p.__esModule?p:{default:p}}var n=Re,o=yt,h=r(o);e.default=function(p){p.registerHelper("each",function(s,l){if(!l)throw new h.default("Must pass iterator to #each");var c=l.fn,a=l.inverse,f=0,i="",d=void 0,m=void 0;l.data&&l.ids&&(m=n.appendContextPath(l.data.contextPath,l.ids[0])+"."),n.isFunction(s)&&(s=s.call(this)),l.data&&(d=n.createFrame(l.data));function D(y,b,E){d&&(d.key=y,d.index=b,d.first=b===0,d.last=!!E,m&&(d.contextPath=m+y)),i=i+c(s[y],{data:d,blockParams:n.blockParams([s[y],y],[m+y,null])})}if(s&&typeof s=="object")if(n.isArray(s))for(var u=s.length;f<u;f++)f in s&&D(f,f,f===s.length-1);else if(typeof Symbol=="function"&&s[Symbol.iterator]){for(var _=[],g=s[Symbol.iterator](),v=g.next();!v.done;v=g.next())_.push(v.value);s=_;for(var u=s.length;f<u;f++)D(f,f,f===s.length-1)}else(function(){var y=void 0;Object.keys(s).forEach(function(b){y!==void 0&&D(y,f-1),y=b,f++}),y!==void 0&&D(y,f-1,!0)})();return f===0&&(i=a(this)),i})},t.exports=e.default})(pn,pn.exports);var Dg=pn.exports,gn={exports:{}};(function(t,e){e.__esModule=!0;function r(h){return h&&h.__esModule?h:{default:h}}var n=yt,o=r(n);e.default=function(h){h.registerHelper("helperMissing",function(){if(arguments.length!==1)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e.default})(gn,gn.exports);var yg=gn.exports,mn={exports:{}};(function(t,e){e.__esModule=!0;function r(p){return p&&p.__esModule?p:{default:p}}var n=Re,o=yt,h=r(o);e.default=function(p){p.registerHelper("if",function(s,l){if(arguments.length!=2)throw new h.default("#if requires exactly one argument");return n.isFunction(s)&&(s=s.call(this)),!l.hash.includeZero&&!s||n.isEmpty(s)?l.inverse(this):l.fn(this)}),p.registerHelper("unless",function(s,l){if(arguments.length!=2)throw new h.default("#unless requires exactly one argument");return p.helpers.if.call(this,s,{fn:l.inverse,inverse:l.fn,hash:l.hash})})},t.exports=e.default})(mn,mn.exports);var bg=mn.exports,_n={exports:{}};(function(t,e){e.__esModule=!0,e.default=function(r){r.registerHelper("log",function(){for(var n=[void 0],o=arguments[arguments.length-1],h=0;h<arguments.length-1;h++)n.push(arguments[h]);var p=1;o.hash.level!=null?p=o.hash.level:o.data&&o.data.level!=null&&(p=o.data.level),n[0]=p,r.log.apply(r,n)})},t.exports=e.default})(_n,_n.exports);var Cg=_n.exports,vn={exports:{}};(function(t,e){e.__esModule=!0,e.default=function(r){r.registerHelper("lookup",function(n,o,h){return n&&h.lookupProperty(n,o)})},t.exports=e.default})(vn,vn.exports);var Sg=vn.exports,Dn={exports:{}};(function(t,e){e.__esModule=!0;function r(p){return p&&p.__esModule?p:{default:p}}var n=Re,o=yt,h=r(o);e.default=function(p){p.registerHelper("with",function(s,l){if(arguments.length!=2)throw new h.default("#with requires exactly one argument");n.isFunction(s)&&(s=s.call(this));var c=l.fn;if(n.isEmpty(s))return l.inverse(this);var a=l.data;return l.data&&l.ids&&(a=n.createFrame(l.data),a.contextPath=n.appendContextPath(l.data.contextPath,l.ids[0])),c(s,{data:a,blockParams:n.blockParams([s],[a&&a.contextPath])})})},t.exports=e.default})(Dn,Dn.exports);var wg=Dn.exports;ni.__esModule=!0,ni.registerDefaultHelpers=Hg,ni.moveHelperToHooks=Ng;function lr(t){return t&&t.__esModule?t:{default:t}}var Eg=vg,Fg=lr(Eg),Ag=Dg,xg=lr(Ag),Bg=yg,kg=lr(Bg),Og=bg,Rg=lr(Og),Pg=Cg,Lg=lr(Pg),Tg=Sg,Ig=lr(Tg),Mg=wg,jg=lr(Mg);function Hg(t){Fg.default(t),xg.default(t),kg.default(t),Rg.default(t),Lg.default(t),Ig.default(t),jg.default(t)}function Ng(t,e,r){t.helpers[e]&&(t.hooks[e]=t.helpers[e],r||delete t.helpers[e])}var yn={},bn={exports:{}};(function(t,e){e.__esModule=!0;var r=Re;e.default=function(n){n.registerDecorator("inline",function(o,h,p,s){var l=o;return h.partials||(h.partials={},l=function(c,a){var f=p.partials;p.partials=r.extend({},f,h.partials);var i=o(c,a);return p.partials=f,i}),h.partials[s.args[0]]=s.fn,l})},t.exports=e.default})(bn,bn.exports);var Wg=bn.exports;yn.__esModule=!0,yn.registerDefaultDecorators=zg;function Ug(t){return t&&t.__esModule?t:{default:t}}var $g=Wg,qg=Ug($g);function zg(t){qg.default(t)}var Cn={exports:{}};(function(t,e){e.__esModule=!0;var r=Re,n={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(h){if(typeof h=="string"){var p=r.indexOf(n.methodMap,h.toLowerCase());p>=0?h=p:h=parseInt(h,10)}return h},log:function(h){if(h=n.lookupLevel(h),typeof console<"u"&&n.lookupLevel(n.level)<=h){var p=n.methodMap[h];console[p]||(p="log");for(var s=arguments.length,l=Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];console[p].apply(console,l)}}};e.default=n,t.exports=e.default})(Cn,Cn.exports);var gl=Cn.exports,kr={},Sn={};Sn.__esModule=!0,Sn.createNewLookupObject=Vg;var Gg=Re;function Vg(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return Gg.extend.apply(void 0,[Object.create(null)].concat(e))}kr.__esModule=!0,kr.createProtoAccessControl=Xg,kr.resultIsAllowed=Zg,kr.resetLoggedProperties=e0;function Kg(t){return t&&t.__esModule?t:{default:t}}var ml=Sn,Yg=gl,Jg=Kg(Yg),qi=Object.create(null);function Xg(t){var e=Object.create(null);e.constructor=!1,e.__defineGetter__=!1,e.__defineSetter__=!1,e.__lookupGetter__=!1;var r=Object.create(null);return r.__proto__=!1,{properties:{whitelist:ml.createNewLookupObject(r,t.allowedProtoProperties),defaultValue:t.allowProtoPropertiesByDefault},methods:{whitelist:ml.createNewLookupObject(e,t.allowedProtoMethods),defaultValue:t.allowProtoMethodsByDefault}}}function Zg(t,e,r){return _l(typeof t=="function"?e.methods:e.properties,r)}function _l(t,e){return t.whitelist[e]!==void 0?t.whitelist[e]===!0:t.defaultValue!==void 0?t.defaultValue:(Qg(e),!1)}function Qg(t){qi[t]!==!0&&(qi[t]=!0,Jg.default.log("error",'Handlebars: Access has been denied to resolve the property "'+t+`" because it is not an "own property" of its parent.
You can add a runtime option to disable the check or this warning:
See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details`))}function e0(){Object.keys(qi).forEach(function(t){delete qi[t]})}_t.__esModule=!0,_t.HandlebarsEnvironment=Fn;function vl(t){return t&&t.__esModule?t:{default:t}}var hr=Re,t0=yt,wn=vl(t0),r0=ni,i0=yn,s0=gl,zi=vl(s0),n0=kr,o0="4.7.8";_t.VERSION=o0;var a0=8;_t.COMPILER_REVISION=a0;var u0=7;_t.LAST_COMPATIBLE_COMPILER_REVISION=u0;var l0={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};_t.REVISION_CHANGES=l0;var En="[object Object]";function Fn(t,e,r){this.helpers=t||{},this.partials=e||{},this.decorators=r||{},r0.registerDefaultHelpers(this),i0.registerDefaultDecorators(this)}Fn.prototype={constructor:Fn,logger:zi.default,log:zi.default.log,registerHelper:function(e,r){if(hr.toString.call(e)===En){if(r)throw new wn.default("Arg not supported with multiple helpers");hr.extend(this.helpers,e)}else this.helpers[e]=r},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,r){if(hr.toString.call(e)===En)hr.extend(this.partials,e);else{if(typeof r>"u")throw new wn.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=r}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,r){if(hr.toString.call(e)===En){if(r)throw new wn.default("Arg not supported with multiple decorators");hr.extend(this.decorators,e)}else this.decorators[e]=r},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){n0.resetLoggedProperties()}};var h0=zi.default.log;_t.log=h0,_t.createFrame=hr.createFrame,_t.logger=zi.default;var An={exports:{}};(function(t,e){e.__esModule=!0;function r(n){this.string=n}r.prototype.toString=r.prototype.toHTML=function(){return""+this.string},e.default=r,t.exports=e.default})(An,An.exports);var c0=An.exports,Vt={},xn={};xn.__esModule=!0,xn.wrapHelper=f0;function f0(t,e){if(typeof t!="function")return t;var r=function(){var o=arguments[arguments.length-1];return arguments[arguments.length-1]=e(o),t.apply(this,arguments)};return r}Vt.__esModule=!0,Vt.checkRevision=v0,Vt.template=D0,Vt.wrapProgram=Gi,Vt.resolvePartial=y0,Vt.invokePartial=b0,Vt.noop=bl;function d0(t){return t&&t.__esModule?t:{default:t}}function p0(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}var g0=Re,It=p0(g0),m0=yt,Mt=d0(m0),jt=_t,Dl=ni,_0=xn,yl=kr;function v0(t){var e=t&&t[0]||1,r=jt.COMPILER_REVISION;if(!(e>=jt.LAST_COMPATIBLE_COMPILER_REVISION&&e<=jt.COMPILER_REVISION))if(e<jt.LAST_COMPATIBLE_COMPILER_REVISION){var n=jt.REVISION_CHANGES[r],o=jt.REVISION_CHANGES[e];throw new Mt.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+o+").")}else throw new Mt.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}function D0(t,e){if(!e)throw new Mt.default("No environment passed to template");if(!t||!t.main)throw new Mt.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var r=t.compiler&&t.compiler[0]===7;function n(p,s,l){l.hash&&(s=It.extend({},s,l.hash),l.ids&&(l.ids[0]=!0)),p=e.VM.resolvePartial.call(this,p,s,l);var c=It.extend({},l,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),a=e.VM.invokePartial.call(this,p,s,c);if(a==null&&e.compile&&(l.partials[l.name]=e.compile(p,t.compilerOptions,e),a=l.partials[l.name](s,c)),a!=null){if(l.indent){for(var f=a.split(`
`),i=0,d=f.length;i<d&&!(!f[i]&&i+1===d);i++)f[i]=l.indent+f[i];a=f.join(`
`)}return a}else throw new Mt.default("The partial "+l.name+" could not be compiled when running in runtime-only mode")}var o={strict:function(s,l,c){if(!s||!(l in s))throw new Mt.default('"'+l+'" not defined in '+s,{loc:c});return o.lookupProperty(s,l)},lookupProperty:function(s,l){var c=s[l];if(c==null||Object.prototype.hasOwnProperty.call(s,l)||yl.resultIsAllowed(c,o.protoAccessControl,l))return c},lookup:function(s,l){for(var c=s.length,a=0;a<c;a++){var f=s[a]&&o.lookupProperty(s[a],l);if(f!=null)return s[a][l]}},lambda:function(s,l){return typeof s=="function"?s.call(l):s},escapeExpression:It.escapeExpression,invokePartial:n,fn:function(s){var l=t[s];return l.decorator=t[s+"_d"],l},programs:[],program:function(s,l,c,a,f){var i=this.programs[s],d=this.fn(s);return l||f||a||c?i=Gi(this,s,d,l,c,a,f):i||(i=this.programs[s]=Gi(this,s,d)),i},data:function(s,l){for(;s&&l--;)s=s._parent;return s},mergeIfNeeded:function(s,l){var c=s||l;return s&&l&&s!==l&&(c=It.extend({},l,s)),c},nullContext:Object.seal({}),noop:e.VM.noop,compilerInfo:t.compiler};function h(p){var s=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],l=s.data;h._setup(s),!s.partial&&t.useData&&(l=C0(p,l));var c=void 0,a=t.useBlockParams?[]:void 0;t.useDepths&&(s.depths?c=p!=s.depths[0]?[p].concat(s.depths):s.depths:c=[p]);function f(i){return""+t.main(o,i,o.helpers,o.partials,l,a,c)}return f=Cl(t.main,f,o,s.depths||[],l,a),f(p,s)}return h.isTop=!0,h._setup=function(p){if(p.partial)o.protoAccessControl=p.protoAccessControl,o.helpers=p.helpers,o.partials=p.partials,o.decorators=p.decorators,o.hooks=p.hooks;else{var s=It.extend({},e.helpers,p.helpers);S0(s,o),o.helpers=s,t.usePartial&&(o.partials=o.mergeIfNeeded(p.partials,e.partials)),(t.usePartial||t.useDecorators)&&(o.decorators=It.extend({},e.decorators,p.decorators)),o.hooks={},o.protoAccessControl=yl.createProtoAccessControl(p);var l=p.allowCallsToHelperMissing||r;Dl.moveHelperToHooks(o,"helperMissing",l),Dl.moveHelperToHooks(o,"blockHelperMissing",l)}},h._child=function(p,s,l,c){if(t.useBlockParams&&!l)throw new Mt.default("must pass block params");if(t.useDepths&&!c)throw new Mt.default("must pass parent depths");return Gi(o,p,t[p],s,0,l,c)},h}function Gi(t,e,r,n,o,h,p){function s(l){var c=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],a=p;return p&&l!=p[0]&&!(l===t.nullContext&&p[0]===null)&&(a=[l].concat(p)),r(t,l,t.helpers,t.partials,c.data||n,h&&[c.blockParams].concat(h),a)}return s=Cl(r,s,t,p,n,h),s.program=e,s.depth=p?p.length:0,s.blockParams=o||0,s}function y0(t,e,r){return t?!t.call&&!r.name&&(r.name=t,t=r.partials[t]):r.name==="@partial-block"?t=r.data["partial-block"]:t=r.partials[r.name],t}function b0(t,e,r){var n=r.data&&r.data["partial-block"];r.partial=!0,r.ids&&(r.data.contextPath=r.ids[0]||r.data.contextPath);var o=void 0;if(r.fn&&r.fn!==bl&&function(){r.data=jt.createFrame(r.data);var h=r.fn;o=r.data["partial-block"]=function(s){var l=arguments.length<=1||arguments[1]===void 0?{}:arguments[1];return l.data=jt.createFrame(l.data),l.data["partial-block"]=n,h(s,l)},h.partials&&(r.partials=It.extend({},r.partials,h.partials))}(),t===void 0&&o&&(t=o),t===void 0)throw new Mt.default("The partial "+r.name+" could not be found");if(t instanceof Function)return t(e,r)}function bl(){return""}function C0(t,e){return(!e||!("root"in e))&&(e=e?jt.createFrame(e):{},e.root=t),e}function Cl(t,e,r,n,o,h){if(t.decorator){var p={};e=t.decorator(e,p,r,n&&n[0],o,h,n),It.extend(e,p)}return e}function S0(t,e){Object.keys(t).forEach(function(r){var n=t[r];t[r]=w0(n,e)})}function w0(t,e){var r=e.lookupProperty;return _0.wrapHelper(t,function(n){return It.extend({lookupProperty:r},n)})}var Bn={exports:{}};(function(t,e){e.__esModule=!0,e.default=function(r){(function(){typeof globalThis!="object"&&(Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__)})();var n=globalThis.Handlebars;r.noConflict=function(){return globalThis.Handlebars===r&&(globalThis.Handlebars=n),r}},t.exports=e.default})(Bn,Bn.exports);var Sl=Bn.exports;(function(t,e){e.__esModule=!0;function r(g){return g&&g.__esModule?g:{default:g}}function n(g){if(g&&g.__esModule)return g;var v={};if(g!=null)for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(v[y]=g[y]);return v.default=g,v}var o=_t,h=n(o),p=c0,s=r(p),l=yt,c=r(l),a=Re,f=n(a),i=Vt,d=n(i),m=Sl,D=r(m);function u(){var g=new h.HandlebarsEnvironment;return f.extend(g,h),g.SafeString=s.default,g.Exception=c.default,g.Utils=f,g.escapeExpression=f.escapeExpression,g.VM=d,g.template=function(v){return d.template(v,g)},g}var _=u();_.create=u,D.default(_),_.default=_,e.default=_,t.exports=e.default})(ln,ln.exports);var E0=ln.exports,kn={exports:{}};(function(t,e){e.__esModule=!0;var r={helpers:{helperExpression:function(o){return o.type==="SubExpression"||(o.type==="MustacheStatement"||o.type==="BlockStatement")&&!!(o.params&&o.params.length||o.hash)},scopedId:function(o){return/^\.|this\b/.test(o.original)},simpleId:function(o){return o.parts.length===1&&!r.helpers.scopedId(o)&&!o.depth}}};e.default=r,t.exports=e.default})(kn,kn.exports);var wl=kn.exports,oi={},On={exports:{}};(function(t,e){e.__esModule=!0;var r=function(){var n={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(s,l,c,a,f,i,d){var m=i.length-1;switch(f){case 1:return i[m-1];case 2:this.$=a.prepareProgram(i[m]);break;case 3:this.$=i[m];break;case 4:this.$=i[m];break;case 5:this.$=i[m];break;case 6:this.$=i[m];break;case 7:this.$=i[m];break;case 8:this.$=i[m];break;case 9:this.$={type:"CommentStatement",value:a.stripComment(i[m]),strip:a.stripFlags(i[m],i[m]),loc:a.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:i[m],value:i[m],loc:a.locInfo(this._$)};break;case 11:this.$=a.prepareRawBlock(i[m-2],i[m-1],i[m],this._$);break;case 12:this.$={path:i[m-3],params:i[m-2],hash:i[m-1]};break;case 13:this.$=a.prepareBlock(i[m-3],i[m-2],i[m-1],i[m],!1,this._$);break;case 14:this.$=a.prepareBlock(i[m-3],i[m-2],i[m-1],i[m],!0,this._$);break;case 15:this.$={open:i[m-5],path:i[m-4],params:i[m-3],hash:i[m-2],blockParams:i[m-1],strip:a.stripFlags(i[m-5],i[m])};break;case 16:this.$={path:i[m-4],params:i[m-3],hash:i[m-2],blockParams:i[m-1],strip:a.stripFlags(i[m-5],i[m])};break;case 17:this.$={path:i[m-4],params:i[m-3],hash:i[m-2],blockParams:i[m-1],strip:a.stripFlags(i[m-5],i[m])};break;case 18:this.$={strip:a.stripFlags(i[m-1],i[m-1]),program:i[m]};break;case 19:var D=a.prepareBlock(i[m-2],i[m-1],i[m],i[m],!1,this._$),u=a.prepareProgram([D],i[m-1].loc);u.chained=!0,this.$={strip:i[m-2].strip,program:u,chain:!0};break;case 20:this.$=i[m];break;case 21:this.$={path:i[m-1],strip:a.stripFlags(i[m-2],i[m])};break;case 22:this.$=a.prepareMustache(i[m-3],i[m-2],i[m-1],i[m-4],a.stripFlags(i[m-4],i[m]),this._$);break;case 23:this.$=a.prepareMustache(i[m-3],i[m-2],i[m-1],i[m-4],a.stripFlags(i[m-4],i[m]),this._$);break;case 24:this.$={type:"PartialStatement",name:i[m-3],params:i[m-2],hash:i[m-1],indent:"",strip:a.stripFlags(i[m-4],i[m]),loc:a.locInfo(this._$)};break;case 25:this.$=a.preparePartialBlock(i[m-2],i[m-1],i[m],this._$);break;case 26:this.$={path:i[m-3],params:i[m-2],hash:i[m-1],strip:a.stripFlags(i[m-4],i[m])};break;case 27:this.$=i[m];break;case 28:this.$=i[m];break;case 29:this.$={type:"SubExpression",path:i[m-3],params:i[m-2],hash:i[m-1],loc:a.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:i[m],loc:a.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:a.id(i[m-2]),value:i[m],loc:a.locInfo(this._$)};break;case 32:this.$=a.id(i[m-1]);break;case 33:this.$=i[m];break;case 34:this.$=i[m];break;case 35:this.$={type:"StringLiteral",value:i[m],original:i[m],loc:a.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(i[m]),original:Number(i[m]),loc:a.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:i[m]==="true",original:i[m]==="true",loc:a.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:a.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:a.locInfo(this._$)};break;case 40:this.$=i[m];break;case 41:this.$=i[m];break;case 42:this.$=a.preparePath(!0,i[m],this._$);break;case 43:this.$=a.preparePath(!1,i[m],this._$);break;case 44:i[m-2].push({part:a.id(i[m]),original:i[m],separator:i[m-1]}),this.$=i[m-2];break;case 45:this.$=[{part:a.id(i[m]),original:i[m]}];break;case 46:this.$=[];break;case 47:i[m-1].push(i[m]);break;case 48:this.$=[];break;case 49:i[m-1].push(i[m]);break;case 50:this.$=[];break;case 51:i[m-1].push(i[m]);break;case 58:this.$=[];break;case 59:i[m-1].push(i[m]);break;case 64:this.$=[];break;case 65:i[m-1].push(i[m]);break;case 70:this.$=[];break;case 71:i[m-1].push(i[m]);break;case 78:this.$=[];break;case 79:i[m-1].push(i[m]);break;case 82:this.$=[];break;case 83:i[m-1].push(i[m]);break;case 86:this.$=[];break;case 87:i[m-1].push(i[m]);break;case 90:this.$=[];break;case 91:i[m-1].push(i[m]);break;case 94:this.$=[];break;case 95:i[m-1].push(i[m]);break;case 98:this.$=[i[m]];break;case 99:i[m-1].push(i[m]);break;case 100:this.$=[i[m]];break;case 101:i[m-1].push(i[m]);break}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(s,l){throw new Error(s)},parse:function(s){var l=this,c=[0],a=[null],f=[],i=this.table,d="",m=0,D=0;this.lexer.setInput(s),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,typeof this.lexer.yylloc>"u"&&(this.lexer.yylloc={});var u=this.lexer.yylloc;f.push(u);var _=this.lexer.options&&this.lexer.options.ranges;typeof this.yy.parseError=="function"&&(this.parseError=this.yy.parseError);function g(){var H;return H=l.lexer.lex()||1,typeof H!="number"&&(H=l.symbols_[H]||H),H}for(var v,y,b,E,F={},C,A,L,T;;){if(y=c[c.length-1],this.defaultActions[y]?b=this.defaultActions[y]:((v===null||typeof v>"u")&&(v=g()),b=i[y]&&i[y][v]),typeof b>"u"||!b.length||!b[0]){var O="";{T=[];for(C in i[y])this.terminals_[C]&&C>2&&T.push("'"+this.terminals_[C]+"'");this.lexer.showPosition?O="Parse error on line "+(m+1)+`:
`+this.lexer.showPosition()+`
Expecting `+T.join(", ")+", got '"+(this.terminals_[v]||v)+"'":O="Parse error on line "+(m+1)+": Unexpected "+(v==1?"end of input":"'"+(this.terminals_[v]||v)+"'"),this.parseError(O,{text:this.lexer.match,token:this.terminals_[v]||v,line:this.lexer.yylineno,loc:u,expected:T})}}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+v);switch(b[0]){case 1:c.push(v),a.push(this.lexer.yytext),f.push(this.lexer.yylloc),c.push(b[1]),v=null,D=this.lexer.yyleng,d=this.lexer.yytext,m=this.lexer.yylineno,u=this.lexer.yylloc;break;case 2:if(A=this.productions_[b[1]][1],F.$=a[a.length-A],F._$={first_line:f[f.length-(A||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(A||1)].first_column,last_column:f[f.length-1].last_column},_&&(F._$.range=[f[f.length-(A||1)].range[0],f[f.length-1].range[1]]),E=this.performAction.call(F,d,D,m,this.yy,b[1],a,f),typeof E<"u")return E;A&&(c=c.slice(0,-1*A*2),a=a.slice(0,-1*A),f=f.slice(0,-1*A)),c.push(this.productions_[b[1]][0]),a.push(F.$),f.push(F._$),L=i[c[c.length-2]][c[c.length-1]],c.push(L);break;case 3:return!0}}return!0}},o=function(){var p={EOF:1,parseError:function(l,c){if(this.yy.parser)this.yy.parser.parseError(l,c);else throw new Error(l)},setInput:function(l){return this._input=l,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var l=this._input[0];this.yytext+=l,this.yyleng++,this.offset++,this.match+=l,this.matched+=l;var c=l.match(/(?:\r\n?|\n).*/g);return c?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),l},unput:function(l){var c=l.length,a=l.split(/(?:\r\n?|\n)/g);this._input=l+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-c-1),this.offset-=c;var f=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),a.length-1&&(this.yylineno-=a.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:a?(a.length===f.length?this.yylloc.first_column:0)+f[f.length-a.length].length-a[0].length:this.yylloc.first_column-c},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-c]),this},more:function(){return this._more=!0,this},less:function(l){this.unput(this.match.slice(l))},pastInput:function(){var l=this.matched.substr(0,this.matched.length-this.match.length);return(l.length>20?"...":"")+l.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var l=this.match;return l.length<20&&(l+=this._input.substr(0,20-l.length)),(l.substr(0,20)+(l.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var l=this.pastInput(),c=new Array(l.length+1).join("-");return l+this.upcomingInput()+`
`+c+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var l,c,a,f,i;this._more||(this.yytext="",this.match="");for(var d=this._currentRules(),m=0;m<d.length&&(a=this._input.match(this.rules[d[m]]),!(a&&(!c||a[0].length>c[0].length)&&(c=a,f=m,!this.options.flex)));m++);return c?(i=c[0].match(/(?:\r\n?|\n).*/g),i&&(this.yylineno+=i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+c[0].length},this.yytext+=c[0],this.match+=c[0],this.matches=c,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(c[0].length),this.matched+=c[0],l=this.performAction.call(this,this.yy,this,d[f],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),l||void 0):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var l=this.next();return typeof l<"u"?l:this.lex()},begin:function(l){this.conditionStack.push(l)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(l){this.begin(l)}};return p.options={},p.performAction=function(l,c,a,f){function i(d,m){return c.yytext=c.yytext.substring(d,c.yyleng-m+d)}switch(a){case 0:if(c.yytext.slice(-2)==="\\\\"?(i(0,1),this.begin("mu")):c.yytext.slice(-1)==="\\"?(i(0,1),this.begin("emu")):this.begin("mu"),c.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),this.conditionStack[this.conditionStack.length-1]==="raw"?15:(i(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:return this.popState(),44;case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(c.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:return 72;case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return c.yytext=i(1,2).replace(/\\"/g,'"'),80;case 32:return c.yytext=i(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:return 82;case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return c.yytext=c.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},p.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],p.conditions={mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}},p}();n.lexer=o;function h(){this.yy={}}return h.prototype=n,n.Parser=h,new h}();e.default=r,t.exports=e.default})(On,On.exports);var F0=On.exports,Rn={exports:{}},Pn={exports:{}};(function(t,e){e.__esModule=!0;function r(c){return c&&c.__esModule?c:{default:c}}var n=yt,o=r(n);function h(){this.parents=[]}h.prototype={constructor:h,mutating:!1,acceptKey:function(a,f){var i=this.accept(a[f]);if(this.mutating){if(i&&!h.prototype[i.type])throw new o.default('Unexpected node type "'+i.type+'" found when accepting '+f+" on "+a.type);a[f]=i}},acceptRequired:function(a,f){if(this.acceptKey(a,f),!a[f])throw new o.default(a.type+" requires "+f)},acceptArray:function(a){for(var f=0,i=a.length;f<i;f++)this.acceptKey(a,f),a[f]||(a.splice(f,1),f--,i--)},accept:function(a){if(a){if(!this[a.type])throw new o.default("Unknown type: "+a.type,a);this.current&&this.parents.unshift(this.current),this.current=a;var f=this[a.type](a);if(this.current=this.parents.shift(),!this.mutating||f)return f;if(f!==!1)return a}},Program:function(a){this.acceptArray(a.body)},MustacheStatement:p,Decorator:p,BlockStatement:s,DecoratorBlock:s,PartialStatement:l,PartialBlockStatement:function(a){l.call(this,a),this.acceptKey(a,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:p,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(a){this.acceptArray(a.pairs)},HashPair:function(a){this.acceptRequired(a,"value")}};function p(c){this.acceptRequired(c,"path"),this.acceptArray(c.params),this.acceptKey(c,"hash")}function s(c){p.call(this,c),this.acceptKey(c,"program"),this.acceptKey(c,"inverse")}function l(c){this.acceptRequired(c,"name"),this.acceptArray(c.params),this.acceptKey(c,"hash")}e.default=h,t.exports=e.default})(Pn,Pn.exports);var El=Pn.exports;(function(t,e){e.__esModule=!0;function r(a){return a&&a.__esModule?a:{default:a}}var n=El,o=r(n);function h(){var a=arguments.length<=0||arguments[0]===void 0?{}:arguments[0];this.options=a}h.prototype=new o.default,h.prototype.Program=function(a){var f=!this.options.ignoreStandalone,i=!this.isRootSeen;this.isRootSeen=!0;for(var d=a.body,m=0,D=d.length;m<D;m++){var u=d[m],_=this.accept(u);if(_){var g=p(d,m,i),v=s(d,m,i),y=_.openStandalone&&g,b=_.closeStandalone&&v,E=_.inlineStandalone&&g&&v;_.close&&l(d,m,!0),_.open&&c(d,m,!0),f&&E&&(l(d,m),c(d,m)&&u.type==="PartialStatement"&&(u.indent=/([ \t]+$)/.exec(d[m-1].original)[1])),f&&y&&(l((u.program||u.inverse).body),c(d,m)),f&&b&&(l(d,m),c((u.inverse||u.program).body))}}return a},h.prototype.BlockStatement=h.prototype.DecoratorBlock=h.prototype.PartialBlockStatement=function(a){this.accept(a.program),this.accept(a.inverse);var f=a.program||a.inverse,i=a.program&&a.inverse,d=i,m=i;if(i&&i.chained)for(d=i.body[0].program;m.chained;)m=m.body[m.body.length-1].program;var D={open:a.openStrip.open,close:a.closeStrip.close,openStandalone:s(f.body),closeStandalone:p((d||f).body)};if(a.openStrip.close&&l(f.body,null,!0),i){var u=a.inverseStrip;u.open&&c(f.body,null,!0),u.close&&l(d.body,null,!0),a.closeStrip.open&&c(m.body,null,!0),!this.options.ignoreStandalone&&p(f.body)&&s(d.body)&&(c(f.body),l(d.body))}else a.closeStrip.open&&c(f.body,null,!0);return D},h.prototype.Decorator=h.prototype.MustacheStatement=function(a){return a.strip},h.prototype.PartialStatement=h.prototype.CommentStatement=function(a){var f=a.strip||{};return{inlineStandalone:!0,open:f.open,close:f.close}};function p(a,f,i){f===void 0&&(f=a.length);var d=a[f-1],m=a[f-2];if(!d)return i;if(d.type==="ContentStatement")return(m||!i?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(d.original)}function s(a,f,i){f===void 0&&(f=-1);var d=a[f+1],m=a[f+2];if(!d)return i;if(d.type==="ContentStatement")return(m||!i?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(d.original)}function l(a,f,i){var d=a[f==null?0:f+1];if(!(!d||d.type!=="ContentStatement"||!i&&d.rightStripped)){var m=d.value;d.value=d.value.replace(i?/^\s+/:/^[ \t]*\r?\n?/,""),d.rightStripped=d.value!==m}}function c(a,f,i){var d=a[f==null?a.length-1:f-1];if(!(!d||d.type!=="ContentStatement"||!i&&d.leftStripped)){var m=d.value;return d.value=d.value.replace(i?/\s+$/:/[ \t]+$/,""),d.leftStripped=d.value!==m,d.leftStripped}}e.default=h,t.exports=e.default})(Rn,Rn.exports);var A0=Rn.exports,vt={};vt.__esModule=!0,vt.SourceLocation=k0,vt.id=O0,vt.stripFlags=R0,vt.stripComment=P0,vt.preparePath=L0,vt.prepareMustache=T0,vt.prepareRawBlock=I0,vt.prepareBlock=M0,vt.prepareProgram=j0,vt.preparePartialBlock=H0;function x0(t){return t&&t.__esModule?t:{default:t}}var B0=yt,Ln=x0(B0);function Tn(t,e){if(e=e.path?e.path.original:e,t.path.original!==e){var r={loc:t.path.loc};throw new Ln.default(t.path.original+" doesn't match "+e,r)}}function k0(t,e){this.source=t,this.start={line:e.first_line,column:e.first_column},this.end={line:e.last_line,column:e.last_column}}function O0(t){return/^\[.*\]$/.test(t)?t.substring(1,t.length-1):t}function R0(t,e){return{open:t.charAt(2)==="~",close:e.charAt(e.length-3)==="~"}}function P0(t){return t.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function L0(t,e,r){r=this.locInfo(r);for(var n=t?"@":"",o=[],h=0,p=0,s=e.length;p<s;p++){var l=e[p].part,c=e[p].original!==l;if(n+=(e[p].separator||"")+l,!c&&(l===".."||l==="."||l==="this")){if(o.length>0)throw new Ln.default("Invalid path: "+n,{loc:r});l===".."&&h++}else o.push(l)}return{type:"PathExpression",data:t,depth:h,parts:o,original:n,loc:r}}function T0(t,e,r,n,o,h){var p=n.charAt(3)||n.charAt(2),s=p!=="{"&&p!=="&",l=/\*/.test(n);return{type:l?"Decorator":"MustacheStatement",path:t,params:e,hash:r,escaped:s,strip:o,loc:this.locInfo(h)}}function I0(t,e,r,n){Tn(t,r),n=this.locInfo(n);var o={type:"Program",body:e,strip:{},loc:n};return{type:"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:o,openStrip:{},inverseStrip:{},closeStrip:{},loc:n}}function M0(t,e,r,n,o,h){n&&n.path&&Tn(t,n);var p=/\*/.test(t.open);e.blockParams=t.blockParams;var s=void 0,l=void 0;if(r){if(p)throw new Ln.default("Unexpected inverse block on decorator",r);r.chain&&(r.program.body[0].closeStrip=n.strip),l=r.strip,s=r.program}return o&&(o=s,s=e,e=o),{type:p?"DecoratorBlock":"BlockStatement",path:t.path,params:t.params,hash:t.hash,program:e,inverse:s,openStrip:t.strip,inverseStrip:l,closeStrip:n&&n.strip,loc:this.locInfo(h)}}function j0(t,e){if(!e&&t.length){var r=t[0].loc,n=t[t.length-1].loc;r&&n&&(e={source:r.source,start:{line:r.start.line,column:r.start.column},end:{line:n.end.line,column:n.end.column}})}return{type:"Program",body:t,strip:{},loc:e}}function H0(t,e,r,n){return Tn(t,r),{type:"PartialBlockStatement",name:t.path,params:t.params,hash:t.hash,program:e,openStrip:t.strip,closeStrip:r&&r.strip,loc:this.locInfo(n)}}oi.__esModule=!0,oi.parseWithoutProcessing=Al,oi.parse=V0;function N0(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function Fl(t){return t&&t.__esModule?t:{default:t}}var W0=F0,In=Fl(W0),U0=A0,$0=Fl(U0),q0=vt,z0=N0(q0),G0=Re;oi.parser=In.default;var Vi={};G0.extend(Vi,z0);function Al(t,e){if(t.type==="Program")return t;In.default.yy=Vi,Vi.locInfo=function(n){return new Vi.SourceLocation(e&&e.srcName,n)};var r=In.default.parse(t);return r}function V0(t,e){var r=Al(t,e),n=new $0.default(e);return n.accept(r)}var ai={};ai.__esModule=!0,ai.Compiler=Mn,ai.precompile=X0,ai.compile=Z0;function xl(t){return t&&t.__esModule?t:{default:t}}var K0=yt,ui=xl(K0),li=Re,Y0=wl,hi=xl(Y0),J0=[].slice;function Mn(){}Mn.prototype={compiler:Mn,equals:function(e){var r=this.opcodes.length;if(e.opcodes.length!==r)return!1;for(var n=0;n<r;n++){var o=this.opcodes[n],h=e.opcodes[n];if(o.opcode!==h.opcode||!Bl(o.args,h.args))return!1}r=this.children.length;for(var n=0;n<r;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,r){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=r,this.stringParams=r.stringParams,this.trackIds=r.trackIds,r.blockParams=r.blockParams||[],r.knownHelpers=li.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},r.knownHelpers),this.accept(e)},compileProgram:function(e){var r=new this.compiler,n=r.compile(e,this.options),o=this.guid++;return this.usePartial=this.usePartial||n.usePartial,this.children[o]=n,this.useDepths=this.useDepths||n.useDepths,o},accept:function(e){if(!this[e.type])throw new ui.default("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var r=this[e.type](e);return this.sourceNode.shift(),r},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var r=e.body,n=r.length,o=0;o<n;o++)this.accept(r[o]);return this.options.blockParams.shift(),this.isSimple=n===1,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){kl(e);var r=e.program,n=e.inverse;r=r&&this.compileProgram(r),n=n&&this.compileProgram(n);var o=this.classifySexpr(e);o==="helper"?this.helperSexpr(e,r,n):o==="simple"?(this.simpleSexpr(e),this.opcode("pushProgram",r),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,r,n),this.opcode("pushProgram",r),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var r=e.program&&this.compileProgram(e.program),n=this.setupFullMustacheParams(e,r,void 0),o=e.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,o.original)},PartialStatement:function(e){this.usePartial=!0;var r=e.program;r&&(r=this.compileProgram(e.program));var n=e.params;if(n.length>1)throw new ui.default("Unsupported number of partial arguments: "+n.length,e);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));var o=e.name.original,h=e.name.type==="SubExpression";h&&this.accept(e.name),this.setupFullMustacheParams(e,r,void 0,!0);var p=e.indent||"";this.options.preventIndent&&p&&(this.opcode("appendContent",p),p=""),this.opcode("invokePartial",h,o,p),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){kl(e);var r=this.classifySexpr(e);r==="simple"?this.simpleSexpr(e):r==="helper"?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,r,n){var o=e.path,h=o.parts[0],p=r!=null||n!=null;this.opcode("getContext",o.depth),this.opcode("pushProgram",r),this.opcode("pushProgram",n),o.strict=!0,this.accept(o),this.opcode("invokeAmbiguous",h,p)},simpleSexpr:function(e){var r=e.path;r.strict=!0,this.accept(r),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,r,n){var o=this.setupFullMustacheParams(e,r,n),h=e.path,p=h.parts[0];if(this.options.knownHelpers[p])this.opcode("invokeKnownHelper",o.length,p);else{if(this.options.knownHelpersOnly)throw new ui.default("You specified knownHelpersOnly, but used the unknown helper "+p,e);h.strict=!0,h.falsy=!0,this.accept(h),this.opcode("invokeHelper",o.length,h.original,hi.default.helpers.simpleId(h))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var r=e.parts[0],n=hi.default.helpers.scopedId(e),o=!e.depth&&!n&&this.blockParamIndex(r);o?this.opcode("lookupBlockParam",o,e.parts):r?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,n):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var r=e.pairs,n=0,o=r.length;for(this.opcode("pushHash");n<o;n++)this.pushParam(r[n].value);for(;n--;)this.opcode("assignToHash",r[n].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:J0.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var r=hi.default.helpers.simpleId(e.path),n=r&&!!this.blockParamIndex(e.path.parts[0]),o=!n&&hi.default.helpers.helperExpression(e),h=!n&&(o||r);if(h&&!o){var p=e.path.parts[0],s=this.options;s.knownHelpers[p]?o=!0:s.knownHelpersOnly&&(h=!1)}return o?"helper":h?"ambiguous":"simple"},pushParams:function(e){for(var r=0,n=e.length;r<n;r++)this.pushParam(e[r])},pushParam:function(e){var r=e.value!=null?e.value:e.original||"";if(this.stringParams)r.replace&&(r=r.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",r,e.type),e.type==="SubExpression"&&this.accept(e);else{if(this.trackIds){var n=void 0;if(e.parts&&!hi.default.helpers.scopedId(e)&&!e.depth&&(n=this.blockParamIndex(e.parts[0])),n){var o=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,o)}else r=e.original||r,r.replace&&(r=r.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,r)}this.accept(e)}},setupFullMustacheParams:function(e,r,n,o){var h=e.params;return this.pushParams(h),this.opcode("pushProgram",r),this.opcode("pushProgram",n),e.hash?this.accept(e.hash):this.opcode("emptyHash",o),h},blockParamIndex:function(e){for(var r=0,n=this.options.blockParams.length;r<n;r++){var o=this.options.blockParams[r],h=o&&li.indexOf(o,e);if(o&&h>=0)return[r,h]}}};function X0(t,e,r){if(t==null||typeof t!="string"&&t.type!=="Program")throw new ui.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);e=e||{},"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var n=r.parse(t,e),o=new r.Compiler().compile(n,e);return new r.JavaScriptCompiler().compile(o,e)}function Z0(t,e,r){if(e===void 0&&(e={}),t==null||typeof t!="string"&&t.type!=="Program")throw new ui.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+t);e=li.extend({},e),"data"in e||(e.data=!0),e.compat&&(e.useDepths=!0);var n=void 0;function o(){var p=r.parse(t,e),s=new r.Compiler().compile(p,e),l=new r.JavaScriptCompiler().compile(s,e,void 0,!0);return r.template(l)}function h(p,s){return n||(n=o()),n.call(this,p,s)}return h._setup=function(p){return n||(n=o()),n._setup(p)},h._child=function(p,s,l,c){return n||(n=o()),n._child(p,s,l,c)},h}function Bl(t,e){if(t===e)return!0;if(li.isArray(t)&&li.isArray(e)&&t.length===e.length){for(var r=0;r<t.length;r++)if(!Bl(t[r],e[r]))return!1;return!0}}function kl(t){if(!t.path.parts){var e=t.path;t.path={type:"PathExpression",data:!1,depth:0,parts:[e.original+""],original:e.original+"",loc:e.loc}}}var jn={exports:{}},Hn={exports:{}},ci={},Nn={},Ki={},Yi={},Ol;function Q0(){if(Ol)return Yi;Ol=1;var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return Yi.encode=function(e){if(0<=e&&e<t.length)return t[e];throw new TypeError("Must be between 0 and 63: "+e)},Yi.decode=function(e){var r=65,n=90,o=97,h=122,p=48,s=57,l=43,c=47,a=26,f=52;return r<=e&&e<=n?e-r:o<=e&&e<=h?e-o+a:p<=e&&e<=s?e-p+f:e==l?62:e==c?63:-1},Yi}var Rl;function Pl(){if(Rl)return Ki;Rl=1;var t=Q0(),e=5,r=1<<e,n=r-1,o=r;function h(s){return s<0?(-s<<1)+1:(s<<1)+0}function p(s){var l=(s&1)===1,c=s>>1;return l?-c:c}return Ki.encode=function(l){var c="",a,f=h(l);do a=f&n,f>>>=e,f>0&&(a|=o),c+=t.encode(a);while(f>0);return c},Ki.decode=function(l,c,a){var f=l.length,i=0,d=0,m,D;do{if(c>=f)throw new Error("Expected more digits in base 64 VLQ value.");if(D=t.decode(l.charCodeAt(c++)),D===-1)throw new Error("Invalid base64 digit: "+l.charAt(c-1));m=!!(D&o),D&=n,i=i+(D<<d),d+=e}while(m);a.value=p(i),a.rest=c},Ki}var Wn={},Ll;function fi(){return Ll||(Ll=1,function(t){function e(y,b,E){if(b in y)return y[b];if(arguments.length===3)return E;throw new Error('"'+b+'" is a required argument.')}t.getArg=e;var r=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,n=/^data:.+\,.+$/;function o(y){var b=y.match(r);return b?{scheme:b[1],auth:b[2],host:b[3],port:b[4],path:b[5]}:null}t.urlParse=o;function h(y){var b="";return y.scheme&&(b+=y.scheme+":"),b+="//",y.auth&&(b+=y.auth+"@"),y.host&&(b+=y.host),y.port&&(b+=":"+y.port),y.path&&(b+=y.path),b}t.urlGenerate=h;function p(y){var b=y,E=o(y);if(E){if(!E.path)return y;b=E.path}for(var F=t.isAbsolute(b),C=b.split(/\/+/),A,L=0,T=C.length-1;T>=0;T--)A=C[T],A==="."?C.splice(T,1):A===".."?L++:L>0&&(A===""?(C.splice(T+1,L),L=0):(C.splice(T,2),L--));return b=C.join("/"),b===""&&(b=F?"/":"."),E?(E.path=b,h(E)):b}t.normalize=p;function s(y,b){y===""&&(y="."),b===""&&(b=".");var E=o(b),F=o(y);if(F&&(y=F.path||"/"),E&&!E.scheme)return F&&(E.scheme=F.scheme),h(E);if(E||b.match(n))return b;if(F&&!F.host&&!F.path)return F.host=b,h(F);var C=b.charAt(0)==="/"?b:p(y.replace(/\/+$/,"")+"/"+b);return F?(F.path=C,h(F)):C}t.join=s,t.isAbsolute=function(y){return y.charAt(0)==="/"||r.test(y)};function l(y,b){y===""&&(y="."),y=y.replace(/\/$/,"");for(var E=0;b.indexOf(y+"/")!==0;){var F=y.lastIndexOf("/");if(F<0||(y=y.slice(0,F),y.match(/^([^\/]+:\/)?\/*$/)))return b;++E}return Array(E+1).join("../")+b.substr(y.length+1)}t.relative=l;var c=function(){var y=Object.create(null);return!("__proto__"in y)}();function a(y){return y}function f(y){return d(y)?"$"+y:y}t.toSetString=c?a:f;function i(y){return d(y)?y.slice(1):y}t.fromSetString=c?a:i;function d(y){if(!y)return!1;var b=y.length;if(b<9||y.charCodeAt(b-1)!==95||y.charCodeAt(b-2)!==95||y.charCodeAt(b-3)!==111||y.charCodeAt(b-4)!==116||y.charCodeAt(b-5)!==111||y.charCodeAt(b-6)!==114||y.charCodeAt(b-7)!==112||y.charCodeAt(b-8)!==95||y.charCodeAt(b-9)!==95)return!1;for(var E=b-10;E>=0;E--)if(y.charCodeAt(E)!==36)return!1;return!0}function m(y,b,E){var F=u(y.source,b.source);return F!==0||(F=y.originalLine-b.originalLine,F!==0)||(F=y.originalColumn-b.originalColumn,F!==0||E)||(F=y.generatedColumn-b.generatedColumn,F!==0)||(F=y.generatedLine-b.generatedLine,F!==0)?F:u(y.name,b.name)}t.compareByOriginalPositions=m;function D(y,b,E){var F=y.generatedLine-b.generatedLine;return F!==0||(F=y.generatedColumn-b.generatedColumn,F!==0||E)||(F=u(y.source,b.source),F!==0)||(F=y.originalLine-b.originalLine,F!==0)||(F=y.originalColumn-b.originalColumn,F!==0)?F:u(y.name,b.name)}t.compareByGeneratedPositionsDeflated=D;function u(y,b){return y===b?0:y===null?1:b===null?-1:y>b?1:-1}function _(y,b){var E=y.generatedLine-b.generatedLine;return E!==0||(E=y.generatedColumn-b.generatedColumn,E!==0)||(E=u(y.source,b.source),E!==0)||(E=y.originalLine-b.originalLine,E!==0)||(E=y.originalColumn-b.originalColumn,E!==0)?E:u(y.name,b.name)}t.compareByGeneratedPositionsInflated=_;function g(y){return JSON.parse(y.replace(/^\)]}'[^\n]*\n/,""))}t.parseSourceMapInput=g;function v(y,b,E){if(b=b||"",y&&(y[y.length-1]!=="/"&&b[0]!=="/"&&(y+="/"),b=y+b),E){var F=o(E);if(!F)throw new Error("sourceMapURL could not be parsed");if(F.path){var C=F.path.lastIndexOf("/");C>=0&&(F.path=F.path.substring(0,C+1))}b=s(h(F),b)}return p(b)}t.computeSourceURL=v}(Wn)),Wn}var Un={},Tl;function Il(){if(Tl)return Un;Tl=1;var t=fi(),e=Object.prototype.hasOwnProperty,r=typeof Map<"u";function n(){this._array=[],this._set=r?new Map:Object.create(null)}return n.fromArray=function(h,p){for(var s=new n,l=0,c=h.length;l<c;l++)s.add(h[l],p);return s},n.prototype.size=function(){return r?this._set.size:Object.getOwnPropertyNames(this._set).length},n.prototype.add=function(h,p){var s=r?h:t.toSetString(h),l=r?this.has(h):e.call(this._set,s),c=this._array.length;(!l||p)&&this._array.push(h),l||(r?this._set.set(h,c):this._set[s]=c)},n.prototype.has=function(h){if(r)return this._set.has(h);var p=t.toSetString(h);return e.call(this._set,p)},n.prototype.indexOf=function(h){if(r){var p=this._set.get(h);if(p>=0)return p}else{var s=t.toSetString(h);if(e.call(this._set,s))return this._set[s]}throw new Error('"'+h+'" is not in the set.')},n.prototype.at=function(h){if(h>=0&&h<this._array.length)return this._array[h];throw new Error("No element indexed by "+h)},n.prototype.toArray=function(){return this._array.slice()},Un.ArraySet=n,Un}var $n={},Ml;function em(){if(Ml)return $n;Ml=1;var t=fi();function e(n,o){var h=n.generatedLine,p=o.generatedLine,s=n.generatedColumn,l=o.generatedColumn;return p>h||p==h&&l>=s||t.compareByGeneratedPositionsInflated(n,o)<=0}function r(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return r.prototype.unsortedForEach=function(o,h){this._array.forEach(o,h)},r.prototype.add=function(o){e(this._last,o)?(this._last=o,this._array.push(o)):(this._sorted=!1,this._array.push(o))},r.prototype.toArray=function(){return this._sorted||(this._array.sort(t.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},$n.MappingList=r,$n}var jl;function Hl(){if(jl)return Nn;jl=1;var t=Pl(),e=fi(),r=Il().ArraySet,n=em().MappingList;function o(h){h||(h={}),this._file=e.getArg(h,"file",null),this._sourceRoot=e.getArg(h,"sourceRoot",null),this._skipValidation=e.getArg(h,"skipValidation",!1),this._sources=new r,this._names=new r,this._mappings=new n,this._sourcesContents=null}return o.prototype._version=3,o.fromSourceMap=function(p){var s=p.sourceRoot,l=new o({file:p.file,sourceRoot:s});return p.eachMapping(function(c){var a={generated:{line:c.generatedLine,column:c.generatedColumn}};c.source!=null&&(a.source=c.source,s!=null&&(a.source=e.relative(s,a.source)),a.original={line:c.originalLine,column:c.originalColumn},c.name!=null&&(a.name=c.name)),l.addMapping(a)}),p.sources.forEach(function(c){var a=c;s!==null&&(a=e.relative(s,c)),l._sources.has(a)||l._sources.add(a);var f=p.sourceContentFor(c);f!=null&&l.setSourceContent(c,f)}),l},o.prototype.addMapping=function(p){var s=e.getArg(p,"generated"),l=e.getArg(p,"original",null),c=e.getArg(p,"source",null),a=e.getArg(p,"name",null);this._skipValidation||this._validateMapping(s,l,c,a),c!=null&&(c=String(c),this._sources.has(c)||this._sources.add(c)),a!=null&&(a=String(a),this._names.has(a)||this._names.add(a)),this._mappings.add({generatedLine:s.line,generatedColumn:s.column,originalLine:l!=null&&l.line,originalColumn:l!=null&&l.column,source:c,name:a})},o.prototype.setSourceContent=function(p,s){var l=p;this._sourceRoot!=null&&(l=e.relative(this._sourceRoot,l)),s!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[e.toSetString(l)]=s):this._sourcesContents&&(delete this._sourcesContents[e.toSetString(l)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},o.prototype.applySourceMap=function(p,s,l){var c=s;if(s==null){if(p.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);c=p.file}var a=this._sourceRoot;a!=null&&(c=e.relative(a,c));var f=new r,i=new r;this._mappings.unsortedForEach(function(d){if(d.source===c&&d.originalLine!=null){var m=p.originalPositionFor({line:d.originalLine,column:d.originalColumn});m.source!=null&&(d.source=m.source,l!=null&&(d.source=e.join(l,d.source)),a!=null&&(d.source=e.relative(a,d.source)),d.originalLine=m.line,d.originalColumn=m.column,m.name!=null&&(d.name=m.name))}var D=d.source;D!=null&&!f.has(D)&&f.add(D);var u=d.name;u!=null&&!i.has(u)&&i.add(u)},this),this._sources=f,this._names=i,p.sources.forEach(function(d){var m=p.sourceContentFor(d);m!=null&&(l!=null&&(d=e.join(l,d)),a!=null&&(d=e.relative(a,d)),this.setSourceContent(d,m))},this)},o.prototype._validateMapping=function(p,s,l,c){if(s&&typeof s.line!="number"&&typeof s.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(p&&"line"in p&&"column"in p&&p.line>0&&p.column>=0&&!s&&!l&&!c)){if(p&&"line"in p&&"column"in p&&s&&"line"in s&&"column"in s&&p.line>0&&p.column>=0&&s.line>0&&s.column>=0&&l)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:p,source:l,original:s,name:c}))}},o.prototype._serializeMappings=function(){for(var p=0,s=1,l=0,c=0,a=0,f=0,i="",d,m,D,u,_=this._mappings.toArray(),g=0,v=_.length;g<v;g++){if(m=_[g],d="",m.generatedLine!==s)for(p=0;m.generatedLine!==s;)d+=";",s++;else if(g>0){if(!e.compareByGeneratedPositionsInflated(m,_[g-1]))continue;d+=","}d+=t.encode(m.generatedColumn-p),p=m.generatedColumn,m.source!=null&&(u=this._sources.indexOf(m.source),d+=t.encode(u-f),f=u,d+=t.encode(m.originalLine-1-c),c=m.originalLine-1,d+=t.encode(m.originalColumn-l),l=m.originalColumn,m.name!=null&&(D=this._names.indexOf(m.name),d+=t.encode(D-a),a=D)),i+=d}return i},o.prototype._generateSourcesContent=function(p,s){return p.map(function(l){if(!this._sourcesContents)return null;s!=null&&(l=e.relative(s,l));var c=e.toSetString(l);return Object.prototype.hasOwnProperty.call(this._sourcesContents,c)?this._sourcesContents[c]:null},this)},o.prototype.toJSON=function(){var p={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(p.file=this._file),this._sourceRoot!=null&&(p.sourceRoot=this._sourceRoot),this._sourcesContents&&(p.sourcesContent=this._generateSourcesContent(p.sources,p.sourceRoot)),p},o.prototype.toString=function(){return JSON.stringify(this.toJSON())},Nn.SourceMapGenerator=o,Nn}var di={},qn={},Nl;function tm(){return Nl||(Nl=1,function(t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2;function e(r,n,o,h,p,s){var l=Math.floor((n-r)/2)+r,c=p(o,h[l],!0);return c===0?l:c>0?n-l>1?e(l,n,o,h,p,s):s==t.LEAST_UPPER_BOUND?n<h.length?n:-1:l:l-r>1?e(r,l,o,h,p,s):s==t.LEAST_UPPER_BOUND?l:r<0?-1:r}t.search=function(n,o,h,p){if(o.length===0)return-1;var s=e(-1,o.length,n,o,h,p||t.GREATEST_LOWER_BOUND);if(s<0)return-1;for(;s-1>=0&&h(o[s],o[s-1],!0)===0;)--s;return s}}(qn)),qn}var zn={},Wl;function rm(){if(Wl)return zn;Wl=1;function t(n,o,h){var p=n[o];n[o]=n[h],n[h]=p}function e(n,o){return Math.round(n+Math.random()*(o-n))}function r(n,o,h,p){if(h<p){var s=e(h,p),l=h-1;t(n,s,p);for(var c=n[p],a=h;a<p;a++)o(n[a],c)<=0&&(l+=1,t(n,l,a));t(n,l+1,a);var f=l+1;r(n,o,h,f-1),r(n,o,f+1,p)}}return zn.quickSort=function(n,o){r(n,o,0,n.length-1)},zn}var Ul;function im(){if(Ul)return di;Ul=1;var t=fi(),e=tm(),r=Il().ArraySet,n=Pl(),o=rm().quickSort;function h(c,a){var f=c;return typeof c=="string"&&(f=t.parseSourceMapInput(c)),f.sections!=null?new l(f,a):new p(f,a)}h.fromSourceMap=function(c,a){return p.fromSourceMap(c,a)},h.prototype._version=3,h.prototype.__generatedMappings=null,Object.defineProperty(h.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),h.prototype.__originalMappings=null,Object.defineProperty(h.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),h.prototype._charIsMappingSeparator=function(a,f){var i=a.charAt(f);return i===";"||i===","},h.prototype._parseMappings=function(a,f){throw new Error("Subclasses must implement _parseMappings")},h.GENERATED_ORDER=1,h.ORIGINAL_ORDER=2,h.GREATEST_LOWER_BOUND=1,h.LEAST_UPPER_BOUND=2,h.prototype.eachMapping=function(a,f,i){var d=f||null,m=i||h.GENERATED_ORDER,D;switch(m){case h.GENERATED_ORDER:D=this._generatedMappings;break;case h.ORIGINAL_ORDER:D=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var u=this.sourceRoot;D.map(function(_){var g=_.source===null?null:this._sources.at(_.source);return g=t.computeSourceURL(u,g,this._sourceMapURL),{source:g,generatedLine:_.generatedLine,generatedColumn:_.generatedColumn,originalLine:_.originalLine,originalColumn:_.originalColumn,name:_.name===null?null:this._names.at(_.name)}},this).forEach(a,d)},h.prototype.allGeneratedPositionsFor=function(a){var f=t.getArg(a,"line"),i={source:t.getArg(a,"source"),originalLine:f,originalColumn:t.getArg(a,"column",0)};if(i.source=this._findSourceIndex(i.source),i.source<0)return[];var d=[],m=this._findMapping(i,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,e.LEAST_UPPER_BOUND);if(m>=0){var D=this._originalMappings[m];if(a.column===void 0)for(var u=D.originalLine;D&&D.originalLine===u;)d.push({line:t.getArg(D,"generatedLine",null),column:t.getArg(D,"generatedColumn",null),lastColumn:t.getArg(D,"lastGeneratedColumn",null)}),D=this._originalMappings[++m];else for(var _=D.originalColumn;D&&D.originalLine===f&&D.originalColumn==_;)d.push({line:t.getArg(D,"generatedLine",null),column:t.getArg(D,"generatedColumn",null),lastColumn:t.getArg(D,"lastGeneratedColumn",null)}),D=this._originalMappings[++m]}return d},di.SourceMapConsumer=h;function p(c,a){var f=c;typeof c=="string"&&(f=t.parseSourceMapInput(c));var i=t.getArg(f,"version"),d=t.getArg(f,"sources"),m=t.getArg(f,"names",[]),D=t.getArg(f,"sourceRoot",null),u=t.getArg(f,"sourcesContent",null),_=t.getArg(f,"mappings"),g=t.getArg(f,"file",null);if(i!=this._version)throw new Error("Unsupported version: "+i);D&&(D=t.normalize(D)),d=d.map(String).map(t.normalize).map(function(v){return D&&t.isAbsolute(D)&&t.isAbsolute(v)?t.relative(D,v):v}),this._names=r.fromArray(m.map(String),!0),this._sources=r.fromArray(d,!0),this._absoluteSources=this._sources.toArray().map(function(v){return t.computeSourceURL(D,v,a)}),this.sourceRoot=D,this.sourcesContent=u,this._mappings=_,this._sourceMapURL=a,this.file=g}p.prototype=Object.create(h.prototype),p.prototype.consumer=h,p.prototype._findSourceIndex=function(c){var a=c;if(this.sourceRoot!=null&&(a=t.relative(this.sourceRoot,a)),this._sources.has(a))return this._sources.indexOf(a);var f;for(f=0;f<this._absoluteSources.length;++f)if(this._absoluteSources[f]==c)return f;return-1},p.fromSourceMap=function(a,f){var i=Object.create(p.prototype),d=i._names=r.fromArray(a._names.toArray(),!0),m=i._sources=r.fromArray(a._sources.toArray(),!0);i.sourceRoot=a._sourceRoot,i.sourcesContent=a._generateSourcesContent(i._sources.toArray(),i.sourceRoot),i.file=a._file,i._sourceMapURL=f,i._absoluteSources=i._sources.toArray().map(function(E){return t.computeSourceURL(i.sourceRoot,E,f)});for(var D=a._mappings.toArray().slice(),u=i.__generatedMappings=[],_=i.__originalMappings=[],g=0,v=D.length;g<v;g++){var y=D[g],b=new s;b.generatedLine=y.generatedLine,b.generatedColumn=y.generatedColumn,y.source&&(b.source=m.indexOf(y.source),b.originalLine=y.originalLine,b.originalColumn=y.originalColumn,y.name&&(b.name=d.indexOf(y.name)),_.push(b)),u.push(b)}return o(i.__originalMappings,t.compareByOriginalPositions),i},p.prototype._version=3,Object.defineProperty(p.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function s(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}p.prototype._parseMappings=function(a,f){for(var i=1,d=0,m=0,D=0,u=0,_=0,g=a.length,v=0,y={},b={},E=[],F=[],C,A,L,T,O;v<g;)if(a.charAt(v)===";")i++,v++,d=0;else if(a.charAt(v)===",")v++;else{for(C=new s,C.generatedLine=i,T=v;T<g&&!this._charIsMappingSeparator(a,T);T++);if(A=a.slice(v,T),L=y[A],L)v+=A.length;else{for(L=[];v<T;)n.decode(a,v,b),O=b.value,v=b.rest,L.push(O);if(L.length===2)throw new Error("Found a source, but no line and column");if(L.length===3)throw new Error("Found a source and line, but no column");y[A]=L}C.generatedColumn=d+L[0],d=C.generatedColumn,L.length>1&&(C.source=u+L[1],u+=L[1],C.originalLine=m+L[2],m=C.originalLine,C.originalLine+=1,C.originalColumn=D+L[3],D=C.originalColumn,L.length>4&&(C.name=_+L[4],_+=L[4])),F.push(C),typeof C.originalLine=="number"&&E.push(C)}o(F,t.compareByGeneratedPositionsDeflated),this.__generatedMappings=F,o(E,t.compareByOriginalPositions),this.__originalMappings=E},p.prototype._findMapping=function(a,f,i,d,m,D){if(a[i]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+a[i]);if(a[d]<0)throw new TypeError("Column must be greater than or equal to 0, got "+a[d]);return e.search(a,f,m,D)},p.prototype.computeColumnSpans=function(){for(var a=0;a<this._generatedMappings.length;++a){var f=this._generatedMappings[a];if(a+1<this._generatedMappings.length){var i=this._generatedMappings[a+1];if(f.generatedLine===i.generatedLine){f.lastGeneratedColumn=i.generatedColumn-1;continue}}f.lastGeneratedColumn=1/0}},p.prototype.originalPositionFor=function(a){var f={generatedLine:t.getArg(a,"line"),generatedColumn:t.getArg(a,"column")},i=this._findMapping(f,this._generatedMappings,"generatedLine","generatedColumn",t.compareByGeneratedPositionsDeflated,t.getArg(a,"bias",h.GREATEST_LOWER_BOUND));if(i>=0){var d=this._generatedMappings[i];if(d.generatedLine===f.generatedLine){var m=t.getArg(d,"source",null);m!==null&&(m=this._sources.at(m),m=t.computeSourceURL(this.sourceRoot,m,this._sourceMapURL));var D=t.getArg(d,"name",null);return D!==null&&(D=this._names.at(D)),{source:m,line:t.getArg(d,"originalLine",null),column:t.getArg(d,"originalColumn",null),name:D}}}return{source:null,line:null,column:null,name:null}},p.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(a){return a==null}):!1},p.prototype.sourceContentFor=function(a,f){if(!this.sourcesContent)return null;var i=this._findSourceIndex(a);if(i>=0)return this.sourcesContent[i];var d=a;this.sourceRoot!=null&&(d=t.relative(this.sourceRoot,d));var m;if(this.sourceRoot!=null&&(m=t.urlParse(this.sourceRoot))){var D=d.replace(/^file:\/\//,"");if(m.scheme=="file"&&this._sources.has(D))return this.sourcesContent[this._sources.indexOf(D)];if((!m.path||m.path=="/")&&this._sources.has("/"+d))return this.sourcesContent[this._sources.indexOf("/"+d)]}if(f)return null;throw new Error('"'+d+'" is not in the SourceMap.')},p.prototype.generatedPositionFor=function(a){var f=t.getArg(a,"source");if(f=this._findSourceIndex(f),f<0)return{line:null,column:null,lastColumn:null};var i={source:f,originalLine:t.getArg(a,"line"),originalColumn:t.getArg(a,"column")},d=this._findMapping(i,this._originalMappings,"originalLine","originalColumn",t.compareByOriginalPositions,t.getArg(a,"bias",h.GREATEST_LOWER_BOUND));if(d>=0){var m=this._originalMappings[d];if(m.source===i.source)return{line:t.getArg(m,"generatedLine",null),column:t.getArg(m,"generatedColumn",null),lastColumn:t.getArg(m,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},di.BasicSourceMapConsumer=p;function l(c,a){var f=c;typeof c=="string"&&(f=t.parseSourceMapInput(c));var i=t.getArg(f,"version"),d=t.getArg(f,"sections");if(i!=this._version)throw new Error("Unsupported version: "+i);this._sources=new r,this._names=new r;var m={line:-1,column:0};this._sections=d.map(function(D){if(D.url)throw new Error("Support for url field in sections not implemented.");var u=t.getArg(D,"offset"),_=t.getArg(u,"line"),g=t.getArg(u,"column");if(_<m.line||_===m.line&&g<m.column)throw new Error("Section offsets must be ordered and non-overlapping.");return m=u,{generatedOffset:{generatedLine:_+1,generatedColumn:g+1},consumer:new h(t.getArg(D,"map"),a)}})}return l.prototype=Object.create(h.prototype),l.prototype.constructor=h,l.prototype._version=3,Object.defineProperty(l.prototype,"sources",{get:function(){for(var c=[],a=0;a<this._sections.length;a++)for(var f=0;f<this._sections[a].consumer.sources.length;f++)c.push(this._sections[a].consumer.sources[f]);return c}}),l.prototype.originalPositionFor=function(a){var f={generatedLine:t.getArg(a,"line"),generatedColumn:t.getArg(a,"column")},i=e.search(f,this._sections,function(m,D){var u=m.generatedLine-D.generatedOffset.generatedLine;return u||m.generatedColumn-D.generatedOffset.generatedColumn}),d=this._sections[i];return d?d.consumer.originalPositionFor({line:f.generatedLine-(d.generatedOffset.generatedLine-1),column:f.generatedColumn-(d.generatedOffset.generatedLine===f.generatedLine?d.generatedOffset.generatedColumn-1:0),bias:a.bias}):{source:null,line:null,column:null,name:null}},l.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(a){return a.consumer.hasContentsOfAllSources()})},l.prototype.sourceContentFor=function(a,f){for(var i=0;i<this._sections.length;i++){var d=this._sections[i],m=d.consumer.sourceContentFor(a,!0);if(m)return m}if(f)return null;throw new Error('"'+a+'" is not in the SourceMap.')},l.prototype.generatedPositionFor=function(a){for(var f=0;f<this._sections.length;f++){var i=this._sections[f];if(i.consumer._findSourceIndex(t.getArg(a,"source"))!==-1){var d=i.consumer.generatedPositionFor(a);if(d){var m={line:d.line+(i.generatedOffset.generatedLine-1),column:d.column+(i.generatedOffset.generatedLine===d.line?i.generatedOffset.generatedColumn-1:0)};return m}}}return{line:null,column:null}},l.prototype._parseMappings=function(a,f){this.__generatedMappings=[],this.__originalMappings=[];for(var i=0;i<this._sections.length;i++)for(var d=this._sections[i],m=d.consumer._generatedMappings,D=0;D<m.length;D++){var u=m[D],_=d.consumer._sources.at(u.source);_=t.computeSourceURL(d.consumer.sourceRoot,_,this._sourceMapURL),this._sources.add(_),_=this._sources.indexOf(_);var g=null;u.name&&(g=d.consumer._names.at(u.name),this._names.add(g),g=this._names.indexOf(g));var v={source:_,generatedLine:u.generatedLine+(d.generatedOffset.generatedLine-1),generatedColumn:u.generatedColumn+(d.generatedOffset.generatedLine===u.generatedLine?d.generatedOffset.generatedColumn-1:0),originalLine:u.originalLine,originalColumn:u.originalColumn,name:g};this.__generatedMappings.push(v),typeof v.originalLine=="number"&&this.__originalMappings.push(v)}o(this.__generatedMappings,t.compareByGeneratedPositionsDeflated),o(this.__originalMappings,t.compareByOriginalPositions)},di.IndexedSourceMapConsumer=l,di}var Gn={},$l;function sm(){if($l)return Gn;$l=1;var t=Hl().SourceMapGenerator,e=fi(),r=/(\r?\n)/,n=10,o="$$$isSourceNode$$$";function h(p,s,l,c,a){this.children=[],this.sourceContents={},this.line=p??null,this.column=s??null,this.source=l??null,this.name=a??null,this[o]=!0,c!=null&&this.add(c)}return h.fromStringWithSourceMap=function(s,l,c){var a=new h,f=s.split(r),i=0,d=function(){var g=y(),v=y()||"";return g+v;function y(){return i<f.length?f[i++]:void 0}},m=1,D=0,u=null;return l.eachMapping(function(g){if(u!==null)if(m<g.generatedLine)_(u,d()),m++,D=0;else{var v=f[i]||"",y=v.substr(0,g.generatedColumn-D);f[i]=v.substr(g.generatedColumn-D),D=g.generatedColumn,_(u,y),u=g;return}for(;m<g.generatedLine;)a.add(d()),m++;if(D<g.generatedColumn){var v=f[i]||"";a.add(v.substr(0,g.generatedColumn)),f[i]=v.substr(g.generatedColumn),D=g.generatedColumn}u=g},this),i<f.length&&(u&&_(u,d()),a.add(f.splice(i).join(""))),l.sources.forEach(function(g){var v=l.sourceContentFor(g);v!=null&&(c!=null&&(g=e.join(c,g)),a.setSourceContent(g,v))}),a;function _(g,v){if(g===null||g.source===void 0)a.add(v);else{var y=c?e.join(c,g.source):g.source;a.add(new h(g.originalLine,g.originalColumn,y,v,g.name))}}},h.prototype.add=function(s){if(Array.isArray(s))s.forEach(function(l){this.add(l)},this);else if(s[o]||typeof s=="string")s&&this.children.push(s);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+s);return this},h.prototype.prepend=function(s){if(Array.isArray(s))for(var l=s.length-1;l>=0;l--)this.prepend(s[l]);else if(s[o]||typeof s=="string")this.children.unshift(s);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+s);return this},h.prototype.walk=function(s){for(var l,c=0,a=this.children.length;c<a;c++)l=this.children[c],l[o]?l.walk(s):l!==""&&s(l,{source:this.source,line:this.line,column:this.column,name:this.name})},h.prototype.join=function(s){var l,c,a=this.children.length;if(a>0){for(l=[],c=0;c<a-1;c++)l.push(this.children[c]),l.push(s);l.push(this.children[c]),this.children=l}return this},h.prototype.replaceRight=function(s,l){var c=this.children[this.children.length-1];return c[o]?c.replaceRight(s,l):typeof c=="string"?this.children[this.children.length-1]=c.replace(s,l):this.children.push("".replace(s,l)),this},h.prototype.setSourceContent=function(s,l){this.sourceContents[e.toSetString(s)]=l},h.prototype.walkSourceContents=function(s){for(var l=0,c=this.children.length;l<c;l++)this.children[l][o]&&this.children[l].walkSourceContents(s);for(var a=Object.keys(this.sourceContents),l=0,c=a.length;l<c;l++)s(e.fromSetString(a[l]),this.sourceContents[a[l]])},h.prototype.toString=function(){var s="";return this.walk(function(l){s+=l}),s},h.prototype.toStringWithSourceMap=function(s){var l={code:"",line:1,column:0},c=new t(s),a=!1,f=null,i=null,d=null,m=null;return this.walk(function(D,u){l.code+=D,u.source!==null&&u.line!==null&&u.column!==null?((f!==u.source||i!==u.line||d!==u.column||m!==u.name)&&c.addMapping({source:u.source,original:{line:u.line,column:u.column},generated:{line:l.line,column:l.column},name:u.name}),f=u.source,i=u.line,d=u.column,m=u.name,a=!0):a&&(c.addMapping({generated:{line:l.line,column:l.column}}),f=null,a=!1);for(var _=0,g=D.length;_<g;_++)D.charCodeAt(_)===n?(l.line++,l.column=0,_+1===g?(f=null,a=!1):a&&c.addMapping({source:u.source,original:{line:u.line,column:u.column},generated:{line:l.line,column:l.column},name:u.name})):l.column++}),this.walkSourceContents(function(D,u){c.setSourceContent(D,u)}),{code:l.code,map:c}},Gn.SourceNode=h,Gn}var ql;function nm(){return ql||(ql=1,ci.SourceMapGenerator=Hl().SourceMapGenerator,ci.SourceMapConsumer=im().SourceMapConsumer,ci.SourceNode=sm().SourceNode),ci}(function(t,e){e.__esModule=!0;var r=Re,n=void 0;try{var o=nm();n=o.SourceNode}catch{}n||(n=function(s,l,c,a){this.src="",a&&this.add(a)},n.prototype={add:function(l){r.isArray(l)&&(l=l.join("")),this.src+=l},prepend:function(l){r.isArray(l)&&(l=l.join("")),this.src=l+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}});function h(s,l,c){if(r.isArray(s)){for(var a=[],f=0,i=s.length;f<i;f++)a.push(l.wrap(s[f],c));return a}else if(typeof s=="boolean"||typeof s=="number")return s+"";return s}function p(s){this.srcFile=s,this.source=[]}p.prototype={isEmpty:function(){return!this.source.length},prepend:function(l,c){this.source.unshift(this.wrap(l,c))},push:function(l,c){this.source.push(this.wrap(l,c))},merge:function(){var l=this.empty();return this.each(function(c){l.add(["  ",c,`
`])}),l},each:function(l){for(var c=0,a=this.source.length;c<a;c++)l(this.source[c])},empty:function(){var l=this.currentLocation||{start:{}};return new n(l.start.line,l.start.column,this.srcFile)},wrap:function(l){var c=arguments.length<=1||arguments[1]===void 0?this.currentLocation||{start:{}}:arguments[1];return l instanceof n?l:(l=h(l,this,c),new n(c.start.line,c.start.column,this.srcFile,l))},functionCall:function(l,c,a){return a=this.generateList(a),this.wrap([l,c?"."+c+"(":"(",a,")"])},quotedString:function(l){return'"'+(l+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(l){var c=this,a=[];Object.keys(l).forEach(function(i){var d=h(l[i],c);d!=="undefined"&&a.push([c.quotedString(i),":",d])});var f=this.generateList(a);return f.prepend("{"),f.add("}"),f},generateList:function(l){for(var c=this.empty(),a=0,f=l.length;a<f;a++)a&&c.add(","),c.add(h(l[a],this));return c},generateArray:function(l){var c=this.generateList(l);return c.prepend("["),c.add("]"),c}},e.default=p,t.exports=e.default})(Hn,Hn.exports);var om=Hn.exports;(function(t,e){e.__esModule=!0;function r(i){return i&&i.__esModule?i:{default:i}}var n=_t,o=yt,h=r(o),p=Re,s=om,l=r(s);function c(i){this.value=i}function a(){}a.prototype={nameLookup:function(d,m){return this.internalNameLookup(d,m)},depthedLookup:function(d){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(d),")"]},compilerInfo:function(){var d=n.COMPILER_REVISION,m=n.REVISION_CHANGES[d];return[d,m]},appendToBuffer:function(d,m,D){return p.isArray(d)||(d=[d]),d=this.source.wrap(d,m),this.environment.isSimple?["return ",d,";"]:D?["buffer += ",d,";"]:(d.appendToBuffer=!0,d)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(d,m){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",d,",",JSON.stringify(m),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(d,m,D,u){this.environment=d,this.options=m,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!u,this.name=this.environment.name,this.isChild=!!D,this.context=D||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(d,m),this.useDepths=this.useDepths||d.useDepths||d.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||d.useBlockParams;var _=d.opcodes,g=void 0,v=void 0,y=void 0,b=void 0;for(y=0,b=_.length;y<b;y++)g=_[y],this.source.currentLocation=g.loc,v=v||g.loc,this[g.opcode].apply(this,g.args);if(this.source.currentLocation=v,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new h.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),`;
`]),this.decorators.push("return fn;"),u?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend(`function(fn, props, container, depth0, data, blockParams, depths) {
`),this.decorators.push(`}
`),this.decorators=this.decorators.merge()));var E=this.createFunctionContext(u);if(this.isChild)return E;var F={compiler:this.compilerInfo(),main:E};this.decorators&&(F.main_d=this.decorators,F.useDecorators=!0);var C=this.context,A=C.programs,L=C.decorators;for(y=0,b=A.length;y<b;y++)A[y]&&(F[y]=A[y],L[y]&&(F[y+"_d"]=L[y],F.useDecorators=!0));return this.environment.usePartial&&(F.usePartial=!0),this.options.data&&(F.useData=!0),this.useDepths&&(F.useDepths=!0),this.useBlockParams&&(F.useBlockParams=!0),this.options.compat&&(F.compat=!0),u?F.compilerOptions=this.options:(F.compiler=JSON.stringify(F.compiler),this.source.currentLocation={start:{line:1,column:0}},F=this.objectLiteral(F),m.srcName?(F=F.toStringWithSourceMap({file:m.destName}),F.map=F.map&&F.map.toString()):F=F.toString()),F},preamble:function(){this.lastContext=0,this.source=new l.default(this.options.srcName),this.decorators=new l.default(this.options.srcName)},createFunctionContext:function(d){var m=this,D="",u=this.stackVars.concat(this.registers.list);u.length>0&&(D+=", "+u.join(", "));var _=0;Object.keys(this.aliases).forEach(function(y){var b=m.aliases[y];b.children&&b.referenceCount>1&&(D+=", alias"+ ++_+"="+y,b.children[0]="alias"+_)}),this.lookupPropertyFunctionIsUsed&&(D+=", "+this.lookupPropertyFunctionVarDeclaration());var g=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&g.push("blockParams"),this.useDepths&&g.push("depths");var v=this.mergeSource(D);return d?(g.push(v),Function.apply(this,g)):this.source.wrap(["function(",g.join(","),`) {
  `,v,"}"])},mergeSource:function(d){var m=this.environment.isSimple,D=!this.forceBuffer,u=void 0,_=void 0,g=void 0,v=void 0;return this.source.each(function(y){y.appendToBuffer?(g?y.prepend("  + "):g=y,v=y):(g&&(_?g.prepend("buffer += "):u=!0,v.add(";"),g=v=void 0),_=!0,m||(D=!1))}),D?g?(g.prepend("return "),v.add(";")):_||this.source.push('return "";'):(d+=", buffer = "+(u?"":this.initializeBuffer()),g?(g.prepend("return buffer + "),v.add(";")):this.source.push("return buffer;")),d&&this.source.prepend("var "+d.substring(2)+(u?"":`;
`)),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return`
      lookupProperty = container.lookupProperty || function(parent, propertyName) {
        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {
          return parent[propertyName];
        }
        return undefined
    }
    `.trim()},blockValue:function(d){var m=this.aliasable("container.hooks.blockHelperMissing"),D=[this.contextName(0)];this.setupHelperArgs(d,0,D);var u=this.popStack();D.splice(1,0,u),this.push(this.source.functionCall(m,"call",D))},ambiguousBlockValue:function(){var d=this.aliasable("container.hooks.blockHelperMissing"),m=[this.contextName(0)];this.setupHelperArgs("",0,m,!0),this.flushInline();var D=this.topStack();m.splice(1,0,D),this.pushSource(["if (!",this.lastHelper,") { ",D," = ",this.source.functionCall(d,"call",m),"}"])},appendContent:function(d){this.pendingContent?d=this.pendingContent+d:this.pendingLocation=this.source.currentLocation,this.pendingContent=d},append:function(){if(this.isInline())this.replaceStack(function(m){return[" != null ? ",m,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var d=this.popStack();this.pushSource(["if (",d," != null) { ",this.appendToBuffer(d,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(d){this.lastContext=d},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(d,m,D,u){var _=0;!u&&this.options.compat&&!this.lastContext?this.push(this.depthedLookup(d[_++])):this.pushContext(),this.resolvePath("context",d,_,m,D)},lookupBlockParam:function(d,m){this.useBlockParams=!0,this.push(["blockParams[",d[0],"][",d[1],"]"]),this.resolvePath("context",m,1)},lookupData:function(d,m,D){d?this.pushStackLiteral("container.data(data, "+d+")"):this.pushStackLiteral("data"),this.resolvePath("data",m,0,!0,D)},resolvePath:function(d,m,D,u,_){var g=this;if(this.options.strict||this.options.assumeObjects){this.push(f(this.options.strict&&_,this,m,D,d));return}for(var v=m.length;D<v;D++)this.replaceStack(function(y){var b=g.nameLookup(y,m[D],d);return u?[" && ",b]:[" != null ? ",b," : ",y]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(d,m){this.pushContext(),this.pushString(m),m!=="SubExpression"&&(typeof d=="string"?this.pushString(d):this.pushStackLiteral(d))},emptyHash:function(d){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(d?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var d=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(d.ids)),this.stringParams&&(this.push(this.objectLiteral(d.contexts)),this.push(this.objectLiteral(d.types))),this.push(this.objectLiteral(d.values))},pushString:function(d){this.pushStackLiteral(this.quotedString(d))},pushLiteral:function(d){this.pushStackLiteral(d)},pushProgram:function(d){d!=null?this.pushStackLiteral(this.programExpression(d)):this.pushStackLiteral(null)},registerDecorator:function(d,m){var D=this.nameLookup("decorators",m,"decorator"),u=this.setupHelperArgs(m,d);this.decorators.push(["fn = ",this.decorators.functionCall(D,"",["fn","props","container",u])," || fn;"])},invokeHelper:function(d,m,D){var u=this.popStack(),_=this.setupHelper(d,m),g=[];D&&g.push(_.name),g.push(u),this.options.strict||g.push(this.aliasable("container.hooks.helperMissing"));var v=["(",this.itemsSeparatedBy(g,"||"),")"],y=this.source.functionCall(v,"call",_.callParams);this.push(y)},itemsSeparatedBy:function(d,m){var D=[];D.push(d[0]);for(var u=1;u<d.length;u++)D.push(m,d[u]);return D},invokeKnownHelper:function(d,m){var D=this.setupHelper(d,m);this.push(this.source.functionCall(D.name,"call",D.callParams))},invokeAmbiguous:function(d,m){this.useRegister("helper");var D=this.popStack();this.emptyHash();var u=this.setupHelper(0,d,m),_=this.lastHelper=this.nameLookup("helpers",d,"helper"),g=["(","(helper = ",_," || ",D,")"];this.options.strict||(g[0]="(helper = ",g.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",g,u.paramsInit?["),(",u.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",u.callParams)," : helper))"])},invokePartial:function(d,m,D){var u=[],_=this.setupParams(m,1,u);d&&(m=this.popStack(),delete _.name),D&&(_.indent=JSON.stringify(D)),_.helpers="helpers",_.partials="partials",_.decorators="container.decorators",d?u.unshift(m):u.unshift(this.nameLookup("partials",m,"partial")),this.options.compat&&(_.depths="depths"),_=this.objectLiteral(_),u.push(_),this.push(this.source.functionCall("container.invokePartial","",u))},assignToHash:function(d){var m=this.popStack(),D=void 0,u=void 0,_=void 0;this.trackIds&&(_=this.popStack()),this.stringParams&&(u=this.popStack(),D=this.popStack());var g=this.hash;D&&(g.contexts[d]=D),u&&(g.types[d]=u),_&&(g.ids[d]=_),g.values[d]=m},pushId:function(d,m,D){d==="BlockParam"?this.pushStackLiteral("blockParams["+m[0]+"].path["+m[1]+"]"+(D?" + "+JSON.stringify("."+D):"")):d==="PathExpression"?this.pushString(m):d==="SubExpression"?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:a,compileChildren:function(d,m){for(var D=d.children,u=void 0,_=void 0,g=0,v=D.length;g<v;g++){u=D[g],_=new this.compiler;var y=this.matchExistingProgram(u);if(y==null){this.context.programs.push("");var b=this.context.programs.length;u.index=b,u.name="program"+b,this.context.programs[b]=_.compile(u,m,this.context,!this.precompile),this.context.decorators[b]=_.decorators,this.context.environments[b]=u,this.useDepths=this.useDepths||_.useDepths,this.useBlockParams=this.useBlockParams||_.useBlockParams,u.useDepths=this.useDepths,u.useBlockParams=this.useBlockParams}else u.index=y.index,u.name="program"+y.index,this.useDepths=this.useDepths||y.useDepths,this.useBlockParams=this.useBlockParams||y.useBlockParams}},matchExistingProgram:function(d){for(var m=0,D=this.context.environments.length;m<D;m++){var u=this.context.environments[m];if(u&&u.equals(d))return u}},programExpression:function(d){var m=this.environment.children[d],D=[m.index,"data",m.blockParams];return(this.useBlockParams||this.useDepths)&&D.push("blockParams"),this.useDepths&&D.push("depths"),"container.program("+D.join(", ")+")"},useRegister:function(d){this.registers[d]||(this.registers[d]=!0,this.registers.list.push(d))},push:function(d){return d instanceof c||(d=this.source.wrap(d)),this.inlineStack.push(d),d},pushStackLiteral:function(d){this.push(new c(d))},pushSource:function(d){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),d&&this.source.push(d)},replaceStack:function(d){var m=["("],D=void 0,u=void 0,_=void 0;if(!this.isInline())throw new h.default("replaceStack on non-inline");var g=this.popStack(!0);if(g instanceof c)D=[g.value],m=["(",D],_=!0;else{u=!0;var v=this.incrStack();m=["((",this.push(v)," = ",g,")"],D=this.topStack()}var y=d.call(this,D);_||this.popStack(),u&&this.stackSlot--,this.push(m.concat(y,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var d=this.inlineStack;this.inlineStack=[];for(var m=0,D=d.length;m<D;m++){var u=d[m];if(u instanceof c)this.compileStack.push(u);else{var _=this.incrStack();this.pushSource([_," = ",u,";"]),this.compileStack.push(_)}}},isInline:function(){return this.inlineStack.length},popStack:function(d){var m=this.isInline(),D=(m?this.inlineStack:this.compileStack).pop();if(!d&&D instanceof c)return D.value;if(!m){if(!this.stackSlot)throw new h.default("Invalid stack pop");this.stackSlot--}return D},topStack:function(){var d=this.isInline()?this.inlineStack:this.compileStack,m=d[d.length-1];return m instanceof c?m.value:m},contextName:function(d){return this.useDepths&&d?"depths["+d+"]":"depth"+d},quotedString:function(d){return this.source.quotedString(d)},objectLiteral:function(d){return this.source.objectLiteral(d)},aliasable:function(d){var m=this.aliases[d];return m?(m.referenceCount++,m):(m=this.aliases[d]=this.source.wrap(d),m.aliasable=!0,m.referenceCount=1,m)},setupHelper:function(d,m,D){var u=[],_=this.setupHelperArgs(m,d,u,D),g=this.nameLookup("helpers",m,"helper"),v=this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})");return{params:u,paramsInit:_,name:g,callParams:[v].concat(u)}},setupParams:function(d,m,D){var u={},_=[],g=[],v=[],y=!D,b=void 0;y&&(D=[]),u.name=this.quotedString(d),u.hash=this.popStack(),this.trackIds&&(u.hashIds=this.popStack()),this.stringParams&&(u.hashTypes=this.popStack(),u.hashContexts=this.popStack());var E=this.popStack(),F=this.popStack();(F||E)&&(u.fn=F||"container.noop",u.inverse=E||"container.noop");for(var C=m;C--;)b=this.popStack(),D[C]=b,this.trackIds&&(v[C]=this.popStack()),this.stringParams&&(g[C]=this.popStack(),_[C]=this.popStack());return y&&(u.args=this.source.generateArray(D)),this.trackIds&&(u.ids=this.source.generateArray(v)),this.stringParams&&(u.types=this.source.generateArray(g),u.contexts=this.source.generateArray(_)),this.options.data&&(u.data="data"),this.useBlockParams&&(u.blockParams="blockParams"),u},setupHelperArgs:function(d,m,D,u){var _=this.setupParams(d,m,D);return _.loc=JSON.stringify(this.source.currentLocation),_=this.objectLiteral(_),u?(this.useRegister("options"),D.push("options"),["options=",_]):D?(D.push(_),""):_}},function(){for(var i="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),d=a.RESERVED_WORDS={},m=0,D=i.length;m<D;m++)d[i[m]]=!0}(),a.isValidJavaScriptVariableName=function(i){return!a.RESERVED_WORDS[i]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(i)};function f(i,d,m,D,u){var _=d.popStack(),g=m.length;for(i&&g--;D<g;D++)_=d.nameLookup(_,m[D],u);return i?[d.aliasable("container.strict"),"(",_,", ",d.quotedString(m[D]),", ",JSON.stringify(d.source.currentLocation)," )"]:_}e.default=a,t.exports=e.default})(jn,jn.exports);var am=jn.exports;(function(t,e){e.__esModule=!0;function r(g){return g&&g.__esModule?g:{default:g}}var n=E0,o=r(n),h=wl,p=r(h),s=oi,l=ai,c=am,a=r(c),f=El,i=r(f),d=Sl,m=r(d),D=o.default.create;function u(){var g=D();return g.compile=function(v,y){return l.compile(v,y,g)},g.precompile=function(v,y){return l.precompile(v,y,g)},g.AST=p.default,g.Compiler=l.Compiler,g.JavaScriptCompiler=a.default,g.Parser=s.parser,g.parse=s.parse,g.parseWithoutProcessing=s.parseWithoutProcessing,g}var _=u();_.create=u,m.default(_),_.Visitor=i.default,_.default=_,e.default=_,t.exports=e.default})(un,un.exports);var um=un.exports;const lm=$t(um);function $e(t,e,r){return lm.compile(t)({...e,...r})}async function pi(t=Math.floor(Math.random()*2900)+100,e=async()=>{}){await new Promise(r=>setTimeout(async()=>{await e(),r()},t))}var Ji={exports:{}},Vn={exports:{}};const zl=(t,e)=>{for(const r of Reflect.ownKeys(e))Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r));return t};Vn.exports=zl,Vn.exports.default=zl;var hm=Vn.exports;const cm=hm,Xi=new WeakMap,Gl=(t,e={})=>{if(typeof t!="function")throw new TypeError("Expected a function");let r,n=0;const o=t.displayName||t.name||"<anonymous>",h=function(...p){if(Xi.set(h,++n),n===1)r=t.apply(this,p),t=null;else if(e.throw===!0)throw new Error(`Function \`${o}\` can only be called once`);return r};return cm(h,t),Xi.set(h,n),h};Ji.exports=Gl,Ji.exports.default=Gl,Ji.exports.callCount=t=>{if(!Xi.has(t))throw new Error(`The given function \`${t.name}\` is not wrapped by the \`onetime\` package`);return Xi.get(t)};var fm=Ji.exports;const dm=$t(fm);var Or={exports:{}},Kn={exports:{}},Yn={},cr={},Vl={},Jn=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;e[r]=o;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var h=Object.getOwnPropertySymbols(e);if(h.length!==1||h[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var p=Object.getOwnPropertyDescriptor(e,r);if(p.value!==o||p.enumerable!==!0)return!1}return!0},pm=Jn,Xn=function(){return pm()&&!!Symbol.toStringTag},gm=Error,mm=EvalError,_m=RangeError,vm=ReferenceError,Kl=SyntaxError,Zi=TypeError,Dm=URIError,Yl=typeof Symbol<"u"&&Symbol,ym=Jn,bm=function(){return typeof Yl!="function"||typeof Symbol!="function"||typeof Yl("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:ym()},Zn={__proto__:null,foo:{}},Cm=Object,Sm=function(){return{__proto__:Zn}.foo===Zn.foo&&!(Zn instanceof Cm)},wm="Function.prototype.bind called on incompatible ",Em=Object.prototype.toString,Fm=Math.max,Am="[object Function]",Jl=function(e,r){for(var n=[],o=0;o<e.length;o+=1)n[o]=e[o];for(var h=0;h<r.length;h+=1)n[h+e.length]=r[h];return n},xm=function(e,r){for(var n=[],o=r,h=0;o<e.length;o+=1,h+=1)n[h]=e[o];return n},Bm=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},km=function(e){var r=this;if(typeof r!="function"||Em.apply(r)!==Am)throw new TypeError(wm+r);for(var n=xm(arguments,1),o,h=function(){if(this instanceof o){var a=r.apply(this,Jl(n,arguments));return Object(a)===a?a:this}return r.apply(e,Jl(n,arguments))},p=Fm(0,r.length-n.length),s=[],l=0;l<p;l++)s[l]="$"+l;if(o=Function("binder","return function ("+Bm(s,",")+"){ return binder.apply(this,arguments); }")(h),r.prototype){var c=function(){};c.prototype=r.prototype,o.prototype=new c,c.prototype=null}return o},Om=km,Qn=Function.prototype.bind||Om,Rm=Function.prototype.call,Pm=Object.prototype.hasOwnProperty,Lm=Qn,Tm=Lm.call(Rm,Pm),be,Im=gm,Mm=mm,jm=_m,Hm=vm,Rr=Kl,Pr=Zi,Nm=Dm,Xl=Function,eo=function(t){try{return Xl('"use strict"; return ('+t+").constructor;")()}catch{}},fr=Object.getOwnPropertyDescriptor;if(fr)try{fr({},"")}catch{fr=null}var to=function(){throw new Pr},Wm=fr?function(){try{return arguments.callee,to}catch{try{return fr(arguments,"callee").get}catch{return to}}}():to,Lr=bm(),Um=Sm(),Xe=Object.getPrototypeOf||(Um?function(t){return t.__proto__}:null),Tr={},$m=typeof Uint8Array>"u"||!Xe?be:Xe(Uint8Array),dr={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?be:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?be:ArrayBuffer,"%ArrayIteratorPrototype%":Lr&&Xe?Xe([][Symbol.iterator]()):be,"%AsyncFromSyncIteratorPrototype%":be,"%AsyncFunction%":Tr,"%AsyncGenerator%":Tr,"%AsyncGeneratorFunction%":Tr,"%AsyncIteratorPrototype%":Tr,"%Atomics%":typeof Atomics>"u"?be:Atomics,"%BigInt%":typeof BigInt>"u"?be:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?be:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?be:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?be:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Im,"%eval%":eval,"%EvalError%":Mm,"%Float32Array%":typeof Float32Array>"u"?be:Float32Array,"%Float64Array%":typeof Float64Array>"u"?be:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?be:FinalizationRegistry,"%Function%":Xl,"%GeneratorFunction%":Tr,"%Int8Array%":typeof Int8Array>"u"?be:Int8Array,"%Int16Array%":typeof Int16Array>"u"?be:Int16Array,"%Int32Array%":typeof Int32Array>"u"?be:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Lr&&Xe?Xe(Xe([][Symbol.iterator]())):be,"%JSON%":typeof JSON=="object"?JSON:be,"%Map%":typeof Map>"u"?be:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Lr||!Xe?be:Xe(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?be:Promise,"%Proxy%":typeof Proxy>"u"?be:Proxy,"%RangeError%":jm,"%ReferenceError%":Hm,"%Reflect%":typeof Reflect>"u"?be:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?be:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Lr||!Xe?be:Xe(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?be:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Lr&&Xe?Xe(""[Symbol.iterator]()):be,"%Symbol%":Lr?Symbol:be,"%SyntaxError%":Rr,"%ThrowTypeError%":Wm,"%TypedArray%":$m,"%TypeError%":Pr,"%Uint8Array%":typeof Uint8Array>"u"?be:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?be:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?be:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?be:Uint32Array,"%URIError%":Nm,"%WeakMap%":typeof WeakMap>"u"?be:WeakMap,"%WeakRef%":typeof WeakRef>"u"?be:WeakRef,"%WeakSet%":typeof WeakSet>"u"?be:WeakSet};if(Xe)try{null.error}catch(t){var qm=Xe(Xe(t));dr["%Error.prototype%"]=qm}var zm=function t(e){var r;if(e==="%AsyncFunction%")r=eo("async function () {}");else if(e==="%GeneratorFunction%")r=eo("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=eo("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&Xe&&(r=Xe(o.prototype))}return dr[e]=r,r},Zl={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},gi=Qn,Qi=Tm,Gm=gi.call(Function.call,Array.prototype.concat),Vm=gi.call(Function.apply,Array.prototype.splice),Ql=gi.call(Function.call,String.prototype.replace),es=gi.call(Function.call,String.prototype.slice),Km=gi.call(Function.call,RegExp.prototype.exec),Ym=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Jm=/\\(\\)?/g,Xm=function(e){var r=es(e,0,1),n=es(e,-1);if(r==="%"&&n!=="%")throw new Rr("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Rr("invalid intrinsic syntax, expected opening `%`");var o=[];return Ql(e,Ym,function(h,p,s,l){o[o.length]=s?Ql(l,Jm,"$1"):p||h}),o},Zm=function(e,r){var n=e,o;if(Qi(Zl,n)&&(o=Zl[n],n="%"+o[0]+"%"),Qi(dr,n)){var h=dr[n];if(h===Tr&&(h=zm(n)),typeof h>"u"&&!r)throw new Pr("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:h}}throw new Rr("intrinsic "+e+" does not exist!")},mi=function(e,r){if(typeof e!="string"||e.length===0)throw new Pr("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Pr('"allowMissing" argument must be a boolean');if(Km(/^%?[^%]*%?$/,e)===null)throw new Rr("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Xm(e),o=n.length>0?n[0]:"",h=Zm("%"+o+"%",r),p=h.name,s=h.value,l=!1,c=h.alias;c&&(o=c[0],Vm(n,Gm([0,1],c)));for(var a=1,f=!0;a<n.length;a+=1){var i=n[a],d=es(i,0,1),m=es(i,-1);if((d==='"'||d==="'"||d==="`"||m==='"'||m==="'"||m==="`")&&d!==m)throw new Rr("property names with quotes must have matching quotes");if((i==="constructor"||!f)&&(l=!0),o+="."+i,p="%"+o+"%",Qi(dr,p))s=dr[p];else if(s!=null){if(!(i in s)){if(!r)throw new Pr("base intrinsic for "+e+" exists, but the property is not available.");return}if(fr&&a+1>=n.length){var D=fr(s,i);f=!!D,f&&"get"in D&&!("originalValue"in D.get)?s=D.get:s=s[i]}else f=Qi(s,i),s=s[i];f&&!l&&(dr[p]=s)}}return s},eh={exports:{}},ro,th;function io(){if(th)return ro;th=1;var t=mi,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return ro=e,ro}var Qm=mi,ts=Qm("%Object.getOwnPropertyDescriptor%",!0);if(ts)try{ts([],"length")}catch{ts=null}var so=ts,rh=io(),e_=Kl,Ir=Zi,ih=so,sh=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Ir("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Ir("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Ir("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Ir("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Ir("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Ir("`loose`, if provided, must be a boolean");var o=arguments.length>3?arguments[3]:null,h=arguments.length>4?arguments[4]:null,p=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,l=!!ih&&ih(e,r);if(rh)rh(e,r,{configurable:p===null&&l?l.configurable:!p,enumerable:o===null&&l?l.enumerable:!o,value:n,writable:h===null&&l?l.writable:!h});else if(s||!o&&!h&&!p)e[r]=n;else throw new e_("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},no=io(),nh=function(){return!!no};nh.hasArrayLengthDefineBug=function(){if(!no)return null;try{return no([],"length",{value:1}).length!==1}catch{return!0}};var oh=nh,t_=mi,ah=sh,r_=oh(),uh=so,lh=Zi,i_=t_("%Math.floor%"),s_=function(e,r){if(typeof e!="function")throw new lh("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||i_(r)!==r)throw new lh("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],o=!0,h=!0;if("length"in e&&uh){var p=uh(e,"length");p&&!p.configurable&&(o=!1),p&&!p.writable&&(h=!1)}return(o||h||!n)&&(r_?ah(e,"length",r,!0,!0):ah(e,"length",r)),e};(function(t){var e=Qn,r=mi,n=s_,o=Zi,h=r("%Function.prototype.apply%"),p=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(p,h),l=io(),c=r("%Math.max%");t.exports=function(i){if(typeof i!="function")throw new o("a function is required");var d=s(e,p,arguments);return n(d,1+c(0,i.length-(arguments.length-1)),!0)};var a=function(){return s(e,h,arguments)};l?l(t.exports,"apply",{value:a}):t.exports.apply=a})(eh);var rs=eh.exports,hh=mi,ch=rs,n_=ch(hh("String.prototype.indexOf")),is=function(e,r){var n=hh(e,!!r);return typeof n=="function"&&n_(e,".prototype.")>-1?ch(n):n},o_=Xn(),a_=is,oo=a_("Object.prototype.toString"),ss=function(e){return o_&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:oo(e)==="[object Arguments]"},fh=function(e){return ss(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&oo(e)!=="[object Array]"&&oo(e.callee)==="[object Function]"},u_=function(){return ss(arguments)}();ss.isLegacyArguments=fh;var l_=u_?ss:fh,h_=Object.prototype.toString,c_=Function.prototype.toString,f_=/^\s*(?:function)?\*/,dh=Xn(),ao=Object.getPrototypeOf,d_=function(){if(!dh)return!1;try{return Function("return function*() {}")()}catch{}},uo,p_=function(e){if(typeof e!="function")return!1;if(f_.test(c_.call(e)))return!0;if(!dh){var r=h_.call(e);return r==="[object GeneratorFunction]"}if(!ao)return!1;if(typeof uo>"u"){var n=d_();uo=n?ao(n):!1}return ao(e)===uo},ph=Function.prototype.toString,Mr=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,lo,ns;if(typeof Mr=="function"&&typeof Object.defineProperty=="function")try{lo=Object.defineProperty({},"length",{get:function(){throw ns}}),ns={},Mr(function(){throw 42},null,lo)}catch(t){t!==ns&&(Mr=null)}else Mr=null;var g_=/^\s*class\b/,ho=function(e){try{var r=ph.call(e);return g_.test(r)}catch{return!1}},co=function(e){try{return ho(e)?!1:(ph.call(e),!0)}catch{return!1}},os=Object.prototype.toString,m_="[object Object]",__="[object Function]",v_="[object GeneratorFunction]",D_="[object HTMLAllCollection]",y_="[object HTML document.all class]",b_="[object HTMLCollection]",C_=typeof Symbol=="function"&&!!Symbol.toStringTag,S_=!(0 in[,]),fo=function(){return!1};if(typeof document=="object"){var w_=document.all;os.call(w_)===os.call(document.all)&&(fo=function(e){if((S_||!e)&&(typeof e>"u"||typeof e=="object"))try{var r=os.call(e);return(r===D_||r===y_||r===b_||r===m_)&&e("")==null}catch{}return!1})}var E_=Mr?function(e){if(fo(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;try{Mr(e,null,lo)}catch(r){if(r!==ns)return!1}return!ho(e)&&co(e)}:function(e){if(fo(e))return!0;if(!e||typeof e!="function"&&typeof e!="object")return!1;if(C_)return co(e);if(ho(e))return!1;var r=os.call(e);return r!==__&&r!==v_&&!/^\[object HTML/.test(r)?!1:co(e)},F_=E_,A_=Object.prototype.toString,gh=Object.prototype.hasOwnProperty,x_=function(e,r,n){for(var o=0,h=e.length;o<h;o++)gh.call(e,o)&&(n==null?r(e[o],o,e):r.call(n,e[o],o,e))},B_=function(e,r,n){for(var o=0,h=e.length;o<h;o++)n==null?r(e.charAt(o),o,e):r.call(n,e.charAt(o),o,e)},k_=function(e,r,n){for(var o in e)gh.call(e,o)&&(n==null?r(e[o],o,e):r.call(n,e[o],o,e))},O_=function(e,r,n){if(!F_(r))throw new TypeError("iterator must be a function");var o;arguments.length>=3&&(o=n),A_.call(e)==="[object Array]"?x_(e,r,o):typeof e=="string"?B_(e,r,o):k_(e,r,o)},R_=O_,P_=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],po=P_,L_=typeof globalThis>"u"?it:globalThis,T_=function(){for(var e=[],r=0;r<po.length;r++)typeof L_[po[r]]=="function"&&(e[e.length]=po[r]);return e},as=R_,I_=T_,mh=rs,go=is,us=so,M_=go("Object.prototype.toString"),_h=Xn(),vh=typeof globalThis>"u"?it:globalThis,mo=I_(),_o=go("String.prototype.slice"),vo=Object.getPrototypeOf,j_=go("Array.prototype.indexOf",!0)||function(e,r){for(var n=0;n<e.length;n+=1)if(e[n]===r)return n;return-1},ls={__proto__:null};_h&&us&&vo?as(mo,function(t){var e=new vh[t];if(Symbol.toStringTag in e){var r=vo(e),n=us(r,Symbol.toStringTag);if(!n){var o=vo(r);n=us(o,Symbol.toStringTag)}ls["$"+t]=mh(n.get)}}):as(mo,function(t){var e=new vh[t],r=e.slice||e.set;r&&(ls["$"+t]=mh(r))});var H_=function(e){var r=!1;return as(ls,function(n,o){if(!r)try{"$"+n(e)===o&&(r=_o(o,1))}catch{}}),r},N_=function(e){var r=!1;return as(ls,function(n,o){if(!r)try{n(e),r=_o(o,1)}catch{}}),r},Dh=function(e){if(!e||typeof e!="object")return!1;if(!_h){var r=_o(M_(e),8,-1);return j_(mo,r)>-1?r:r!=="Object"?!1:N_(e)}return us?H_(e):null},W_=Dh,U_=function(e){return!!W_(e)};(function(t){var e=l_,r=p_,n=Dh,o=U_;function h(ne){return ne.call.bind(ne)}var p=typeof BigInt<"u",s=typeof Symbol<"u",l=h(Object.prototype.toString),c=h(Number.prototype.valueOf),a=h(String.prototype.valueOf),f=h(Boolean.prototype.valueOf);if(p)var i=h(BigInt.prototype.valueOf);if(s)var d=h(Symbol.prototype.valueOf);function m(ne,st){if(typeof ne!="object")return!1;try{return st(ne),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=o;function D(ne){return typeof Promise<"u"&&ne instanceof Promise||ne!==null&&typeof ne=="object"&&typeof ne.then=="function"&&typeof ne.catch=="function"}t.isPromise=D;function u(ne){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(ne):o(ne)||G(ne)}t.isArrayBufferView=u;function _(ne){return n(ne)==="Uint8Array"}t.isUint8Array=_;function g(ne){return n(ne)==="Uint8ClampedArray"}t.isUint8ClampedArray=g;function v(ne){return n(ne)==="Uint16Array"}t.isUint16Array=v;function y(ne){return n(ne)==="Uint32Array"}t.isUint32Array=y;function b(ne){return n(ne)==="Int8Array"}t.isInt8Array=b;function E(ne){return n(ne)==="Int16Array"}t.isInt16Array=E;function F(ne){return n(ne)==="Int32Array"}t.isInt32Array=F;function C(ne){return n(ne)==="Float32Array"}t.isFloat32Array=C;function A(ne){return n(ne)==="Float64Array"}t.isFloat64Array=A;function L(ne){return n(ne)==="BigInt64Array"}t.isBigInt64Array=L;function T(ne){return n(ne)==="BigUint64Array"}t.isBigUint64Array=T;function O(ne){return l(ne)==="[object Map]"}O.working=typeof Map<"u"&&O(new Map);function H(ne){return typeof Map>"u"?!1:O.working?O(ne):ne instanceof Map}t.isMap=H;function Y(ne){return l(ne)==="[object Set]"}Y.working=typeof Set<"u"&&Y(new Set);function Z(ne){return typeof Set>"u"?!1:Y.working?Y(ne):ne instanceof Set}t.isSet=Z;function te(ne){return l(ne)==="[object WeakMap]"}te.working=typeof WeakMap<"u"&&te(new WeakMap);function ee(ne){return typeof WeakMap>"u"?!1:te.working?te(ne):ne instanceof WeakMap}t.isWeakMap=ee;function k(ne){return l(ne)==="[object WeakSet]"}k.working=typeof WeakSet<"u"&&k(new WeakSet);function R(ne){return k(ne)}t.isWeakSet=R;function P(ne){return l(ne)==="[object ArrayBuffer]"}P.working=typeof ArrayBuffer<"u"&&P(new ArrayBuffer);function q(ne){return typeof ArrayBuffer>"u"?!1:P.working?P(ne):ne instanceof ArrayBuffer}t.isArrayBuffer=q;function I(ne){return l(ne)==="[object DataView]"}I.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&I(new DataView(new ArrayBuffer(1),0,1));function G(ne){return typeof DataView>"u"?!1:I.working?I(ne):ne instanceof DataView}t.isDataView=G;var M=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function $(ne){return l(ne)==="[object SharedArrayBuffer]"}function z(ne){return typeof M>"u"?!1:(typeof $.working>"u"&&($.working=$(new M)),$.working?$(ne):ne instanceof M)}t.isSharedArrayBuffer=z;function x(ne){return l(ne)==="[object AsyncFunction]"}t.isAsyncFunction=x;function j(ne){return l(ne)==="[object Map Iterator]"}t.isMapIterator=j;function U(ne){return l(ne)==="[object Set Iterator]"}t.isSetIterator=U;function V(ne){return l(ne)==="[object Generator]"}t.isGeneratorObject=V;function re(ne){return l(ne)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=re;function se(ne){return m(ne,c)}t.isNumberObject=se;function he(ne){return m(ne,a)}t.isStringObject=he;function me(ne){return m(ne,f)}t.isBooleanObject=me;function Se(ne){return p&&m(ne,i)}t.isBigIntObject=Se;function Pe(ne){return s&&m(ne,d)}t.isSymbolObject=Pe;function ge(ne){return se(ne)||he(ne)||me(ne)||Se(ne)||Pe(ne)}t.isBoxedPrimitive=ge;function Me(ne){return typeof Uint8Array<"u"&&(q(ne)||z(ne))}t.isAnyArrayBuffer=Me,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(ne){Object.defineProperty(t,ne,{enumerable:!1,value:function(){throw new Error(ne+" is not supported in userland")}})})})(Vl);var $_=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"},Do={exports:{}};typeof Object.create=="function"?Do.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Do.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var q_=Do.exports;(function(t){var e=Object.getOwnPropertyDescriptors||function(G){for(var M=Object.keys(G),$={},z=0;z<M.length;z++)$[M[z]]=Object.getOwnPropertyDescriptor(G,M[z]);return $},r=/%[sdj%]/g;t.format=function(I){if(!b(I)){for(var G=[],M=0;M<arguments.length;M++)G.push(p(arguments[M]));return G.join(" ")}for(var M=1,$=arguments,z=$.length,x=String(I).replace(r,function(U){if(U==="%%")return"%";if(M>=z)return U;switch(U){case"%s":return String($[M++]);case"%d":return Number($[M++]);case"%j":try{return JSON.stringify($[M++])}catch{return"[Circular]"}default:return U}}),j=$[M];M<z;j=$[++M])g(j)||!A(j)?x+=" "+j:x+=" "+p(j);return x},t.deprecate=function(I,G){if(typeof oe<"u"&&oe.noDeprecation===!0)return I;if(typeof oe>"u")return function(){return t.deprecate(I,G).apply(this,arguments)};var M=!1;function $(){if(!M){if(oe.throwDeprecation)throw new Error(G);oe.traceDeprecation?console.trace(G):console.error(G),M=!0}return I.apply(this,arguments)}return $};var n={},o=/^$/;if(oe.env.NODE_DEBUG){var h=oe.env.NODE_DEBUG;h=h.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),o=new RegExp("^"+h+"$","i")}t.debuglog=function(I){if(I=I.toUpperCase(),!n[I])if(o.test(I)){var G=oe.pid;n[I]=function(){var M=t.format.apply(t,arguments);console.error("%s %d: %s",I,G,M)}}else n[I]=function(){};return n[I]};function p(I,G){var M={seen:[],stylize:l};return arguments.length>=3&&(M.depth=arguments[2]),arguments.length>=4&&(M.colors=arguments[3]),_(G)?M.showHidden=G:G&&t._extend(M,G),F(M.showHidden)&&(M.showHidden=!1),F(M.depth)&&(M.depth=2),F(M.colors)&&(M.colors=!1),F(M.customInspect)&&(M.customInspect=!0),M.colors&&(M.stylize=s),a(M,I,M.depth)}t.inspect=p,p.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},p.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function s(I,G){var M=p.styles[G];return M?"\x1B["+p.colors[M][0]+"m"+I+"\x1B["+p.colors[M][1]+"m":I}function l(I,G){return I}function c(I){var G={};return I.forEach(function(M,$){G[M]=!0}),G}function a(I,G,M){if(I.customInspect&&G&&O(G.inspect)&&G.inspect!==t.inspect&&!(G.constructor&&G.constructor.prototype===G)){var $=G.inspect(M,I);return b($)||($=a(I,$,M)),$}var z=f(I,G);if(z)return z;var x=Object.keys(G),j=c(x);if(I.showHidden&&(x=Object.getOwnPropertyNames(G)),T(G)&&(x.indexOf("message")>=0||x.indexOf("description")>=0))return i(G);if(x.length===0){if(O(G)){var U=G.name?": "+G.name:"";return I.stylize("[Function"+U+"]","special")}if(C(G))return I.stylize(RegExp.prototype.toString.call(G),"regexp");if(L(G))return I.stylize(Date.prototype.toString.call(G),"date");if(T(G))return i(G)}var V="",re=!1,se=["{","}"];if(u(G)&&(re=!0,se=["[","]"]),O(G)){var he=G.name?": "+G.name:"";V=" [Function"+he+"]"}if(C(G)&&(V=" "+RegExp.prototype.toString.call(G)),L(G)&&(V=" "+Date.prototype.toUTCString.call(G)),T(G)&&(V=" "+i(G)),x.length===0&&(!re||G.length==0))return se[0]+V+se[1];if(M<0)return C(G)?I.stylize(RegExp.prototype.toString.call(G),"regexp"):I.stylize("[Object]","special");I.seen.push(G);var me;return re?me=d(I,G,M,j,x):me=x.map(function(Se){return m(I,G,M,j,Se,re)}),I.seen.pop(),D(me,V,se)}function f(I,G){if(F(G))return I.stylize("undefined","undefined");if(b(G)){var M="'"+JSON.stringify(G).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return I.stylize(M,"string")}if(y(G))return I.stylize(""+G,"number");if(_(G))return I.stylize(""+G,"boolean");if(g(G))return I.stylize("null","null")}function i(I){return"["+Error.prototype.toString.call(I)+"]"}function d(I,G,M,$,z){for(var x=[],j=0,U=G.length;j<U;++j)k(G,String(j))?x.push(m(I,G,M,$,String(j),!0)):x.push("");return z.forEach(function(V){V.match(/^\d+$/)||x.push(m(I,G,M,$,V,!0))}),x}function m(I,G,M,$,z,x){var j,U,V;if(V=Object.getOwnPropertyDescriptor(G,z)||{value:G[z]},V.get?V.set?U=I.stylize("[Getter/Setter]","special"):U=I.stylize("[Getter]","special"):V.set&&(U=I.stylize("[Setter]","special")),k($,z)||(j="["+z+"]"),U||(I.seen.indexOf(V.value)<0?(g(M)?U=a(I,V.value,null):U=a(I,V.value,M-1),U.indexOf(`
`)>-1&&(x?U=U.split(`
`).map(function(re){return"  "+re}).join(`
`).slice(2):U=`
`+U.split(`
`).map(function(re){return"   "+re}).join(`
`))):U=I.stylize("[Circular]","special")),F(j)){if(x&&z.match(/^\d+$/))return U;j=JSON.stringify(""+z),j.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(j=j.slice(1,-1),j=I.stylize(j,"name")):(j=j.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),j=I.stylize(j,"string"))}return j+": "+U}function D(I,G,M){var $=I.reduce(function(z,x){return x.indexOf(`
`)>=0,z+x.replace(/\u001b\[\d\d?m/g,"").length+1},0);return $>60?M[0]+(G===""?"":G+`
 `)+" "+I.join(`,
  `)+" "+M[1]:M[0]+G+" "+I.join(", ")+" "+M[1]}t.types=Vl;function u(I){return Array.isArray(I)}t.isArray=u;function _(I){return typeof I=="boolean"}t.isBoolean=_;function g(I){return I===null}t.isNull=g;function v(I){return I==null}t.isNullOrUndefined=v;function y(I){return typeof I=="number"}t.isNumber=y;function b(I){return typeof I=="string"}t.isString=b;function E(I){return typeof I=="symbol"}t.isSymbol=E;function F(I){return I===void 0}t.isUndefined=F;function C(I){return A(I)&&Y(I)==="[object RegExp]"}t.isRegExp=C,t.types.isRegExp=C;function A(I){return typeof I=="object"&&I!==null}t.isObject=A;function L(I){return A(I)&&Y(I)==="[object Date]"}t.isDate=L,t.types.isDate=L;function T(I){return A(I)&&(Y(I)==="[object Error]"||I instanceof Error)}t.isError=T,t.types.isNativeError=T;function O(I){return typeof I=="function"}t.isFunction=O;function H(I){return I===null||typeof I=="boolean"||typeof I=="number"||typeof I=="string"||typeof I=="symbol"||typeof I>"u"}t.isPrimitive=H,t.isBuffer=$_;function Y(I){return Object.prototype.toString.call(I)}function Z(I){return I<10?"0"+I.toString(10):I.toString(10)}var te=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ee(){var I=new Date,G=[Z(I.getHours()),Z(I.getMinutes()),Z(I.getSeconds())].join(":");return[I.getDate(),te[I.getMonth()],G].join(" ")}t.log=function(){console.log("%s - %s",ee(),t.format.apply(t,arguments))},t.inherits=q_,t._extend=function(I,G){if(!G||!A(G))return I;for(var M=Object.keys(G),$=M.length;$--;)I[M[$]]=G[M[$]];return I};function k(I,G){return Object.prototype.hasOwnProperty.call(I,G)}var R=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(G){if(typeof G!="function")throw new TypeError('The "original" argument must be of type Function');if(R&&G[R]){var M=G[R];if(typeof M!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(M,R,{value:M,enumerable:!1,writable:!1,configurable:!0}),M}function M(){for(var $,z,x=new Promise(function(V,re){$=V,z=re}),j=[],U=0;U<arguments.length;U++)j.push(arguments[U]);j.push(function(V,re){V?z(V):$(re)});try{G.apply(this,j)}catch(V){z(V)}return x}return Object.setPrototypeOf(M,Object.getPrototypeOf(G)),R&&Object.defineProperty(M,R,{value:M,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(M,e(G))},t.promisify.custom=R;function P(I,G){if(!I){var M=new Error("Promise was rejected with a falsy value");M.reason=I,I=M}return G(I)}function q(I){if(typeof I!="function")throw new TypeError('The "original" argument must be of type Function');function G(){for(var M=[],$=0;$<arguments.length;$++)M.push(arguments[$]);var z=M.pop();if(typeof z!="function")throw new TypeError("The last argument must be of type Function");var x=this,j=function(){return z.apply(x,arguments)};I.apply(this,M).then(function(U){oe.nextTick(j.bind(null,null,U))},function(U){oe.nextTick(P.bind(null,U,j))})}return Object.setPrototypeOf(G,Object.getPrototypeOf(I)),Object.defineProperties(G,e(I)),G}t.callbackify=q})(cr);var yh;function bh(){if(yh)return Yn;yh=1;function t(g){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},t(g)}function e(g,v,y){return Object.defineProperty(g,"prototype",{writable:!1}),g}function r(g,v){if(!(g instanceof v))throw new TypeError("Cannot call a class as a function")}function n(g,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");g.prototype=Object.create(v&&v.prototype,{constructor:{value:g,writable:!0,configurable:!0}}),Object.defineProperty(g,"prototype",{writable:!1}),v&&o(g,v)}function o(g,v){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(b,E){return b.__proto__=E,b},o(g,v)}function h(g){var v=l();return function(){var b=c(g),E;if(v){var F=c(this).constructor;E=Reflect.construct(b,arguments,F)}else E=b.apply(this,arguments);return p(this,E)}}function p(g,v){if(v&&(t(v)==="object"||typeof v=="function"))return v;if(v!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(g)}function s(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function l(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function c(g){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},c(g)}var a={},f,i;function d(g,v,y){y||(y=Error);function b(F,C,A){return typeof v=="string"?v:v(F,C,A)}var E=function(F){n(A,F);var C=h(A);function A(L,T,O){var H;return r(this,A),H=C.call(this,b(L,T,O)),H.code=g,H}return e(A)}(y);a[g]=E}function m(g,v){if(Array.isArray(g)){var y=g.length;return g=g.map(function(b){return String(b)}),y>2?"one of ".concat(v," ").concat(g.slice(0,y-1).join(", "),", or ")+g[y-1]:y===2?"one of ".concat(v," ").concat(g[0]," or ").concat(g[1]):"of ".concat(v," ").concat(g[0])}else return"of ".concat(v," ").concat(String(g))}function D(g,v,y){return g.substr(0,v.length)===v}function u(g,v,y){return(y===void 0||y>g.length)&&(y=g.length),g.substring(y-v.length,y)===v}function _(g,v,y){return typeof y!="number"&&(y=0),y+v.length>g.length?!1:g.indexOf(v,y)!==-1}return d("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),d("ERR_INVALID_ARG_TYPE",function(g,v,y){f===void 0&&(f=fs()),f(typeof g=="string","'name' must be a string");var b;typeof v=="string"&&D(v,"not ")?(b="must not be",v=v.replace(/^not /,"")):b="must be";var E;if(u(g," argument"))E="The ".concat(g," ").concat(b," ").concat(m(v,"type"));else{var F=_(g,".")?"property":"argument";E='The "'.concat(g,'" ').concat(F," ").concat(b," ").concat(m(v,"type"))}return E+=". Received type ".concat(t(y)),E},TypeError),d("ERR_INVALID_ARG_VALUE",function(g,v){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";i===void 0&&(i=cr);var b=i.inspect(v);return b.length>128&&(b="".concat(b.slice(0,128),"...")),"The argument '".concat(g,"' ").concat(y,". Received ").concat(b)},TypeError),d("ERR_INVALID_RETURN_VALUE",function(g,v,y){var b;return y&&y.constructor&&y.constructor.name?b="instance of ".concat(y.constructor.name):b="type ".concat(t(y)),"Expected ".concat(g,' to be returned from the "').concat(v,'"')+" function but got ".concat(b,".")},TypeError),d("ERR_MISSING_ARGS",function(){for(var g=arguments.length,v=new Array(g),y=0;y<g;y++)v[y]=arguments[y];f===void 0&&(f=fs()),f(v.length>0,"At least one arg needs to be specified");var b="The ",E=v.length;switch(v=v.map(function(F){return'"'.concat(F,'"')}),E){case 1:b+="".concat(v[0]," argument");break;case 2:b+="".concat(v[0]," and ").concat(v[1]," arguments");break;default:b+=v.slice(0,E-1).join(", "),b+=", and ".concat(v[E-1]," arguments");break}return"".concat(b," must be specified")},TypeError),Yn.codes=a,Yn}var yo,Ch;function z_(){if(Ch)return yo;Ch=1;function t(R,P){var q=Object.keys(R);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(R);P&&(I=I.filter(function(G){return Object.getOwnPropertyDescriptor(R,G).enumerable})),q.push.apply(q,I)}return q}function e(R){for(var P=1;P<arguments.length;P++){var q=arguments[P]!=null?arguments[P]:{};P%2?t(Object(q),!0).forEach(function(I){r(R,I,q[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(q)):t(Object(q)).forEach(function(I){Object.defineProperty(R,I,Object.getOwnPropertyDescriptor(q,I))})}return R}function r(R,P,q){return P=p(P),P in R?Object.defineProperty(R,P,{value:q,enumerable:!0,configurable:!0,writable:!0}):R[P]=q,R}function n(R,P){if(!(R instanceof P))throw new TypeError("Cannot call a class as a function")}function o(R,P){for(var q=0;q<P.length;q++){var I=P[q];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(R,p(I.key),I)}}function h(R,P,q){return P&&o(R.prototype,P),Object.defineProperty(R,"prototype",{writable:!1}),R}function p(R){var P=s(R,"string");return g(P)==="symbol"?P:String(P)}function s(R,P){if(g(R)!=="object"||R===null)return R;var q=R[Symbol.toPrimitive];if(q!==void 0){var I=q.call(R,P||"default");if(g(I)!=="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(R)}function l(R,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(P&&P.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),P&&u(R,P)}function c(R){var P=m();return function(){var I=_(R),G;if(P){var M=_(this).constructor;G=Reflect.construct(I,arguments,M)}else G=I.apply(this,arguments);return a(this,G)}}function a(R,P){if(P&&(g(P)==="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f(R)}function f(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function i(R){var P=typeof Map=="function"?new Map:void 0;return i=function(I){if(I===null||!D(I))return I;if(typeof I!="function")throw new TypeError("Super expression must either be null or a function");if(typeof P<"u"){if(P.has(I))return P.get(I);P.set(I,G)}function G(){return d(I,arguments,_(this).constructor)}return G.prototype=Object.create(I.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),u(G,I)},i(R)}function d(R,P,q){return m()?d=Reflect.construct.bind():d=function(G,M,$){var z=[null];z.push.apply(z,M);var x=Function.bind.apply(G,z),j=new x;return $&&u(j,$.prototype),j},d.apply(null,arguments)}function m(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function D(R){return Function.toString.call(R).indexOf("[native code]")!==-1}function u(R,P){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(I,G){return I.__proto__=G,I},u(R,P)}function _(R){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(q){return q.__proto__||Object.getPrototypeOf(q)},_(R)}function g(R){"@babel/helpers - typeof";return g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},g(R)}var v=cr,y=v.inspect,b=bh(),E=b.codes.ERR_INVALID_ARG_TYPE;function F(R,P,q){return(q===void 0||q>R.length)&&(q=R.length),R.substring(q-P.length,q)===P}function C(R,P){if(P=Math.floor(P),R.length==0||P==0)return"";var q=R.length*P;for(P=Math.floor(Math.log(P)/Math.log(2));P;)R+=R,P--;return R+=R.substring(0,q-R.length),R}var A="",L="",T="",O="",H={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"},Y=10;function Z(R){var P=Object.keys(R),q=Object.create(Object.getPrototypeOf(R));return P.forEach(function(I){q[I]=R[I]}),Object.defineProperty(q,"message",{value:R.message}),q}function te(R){return y(R,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function ee(R,P,q){var I="",G="",M=0,$="",z=!1,x=te(R),j=x.split(`
`),U=te(P).split(`
`),V=0,re="";if(q==="strictEqual"&&g(R)==="object"&&g(P)==="object"&&R!==null&&P!==null&&(q="strictEqualObject"),j.length===1&&U.length===1&&j[0]!==U[0]){var se=j[0].length+U[0].length;if(se<=Y){if((g(R)!=="object"||R===null)&&(g(P)!=="object"||P===null)&&(R!==0||P!==0))return"".concat(H[q],`

`)+"".concat(j[0]," !== ").concat(U[0],`
`)}else if(q!=="strictEqualObject"){var he=oe.stderr&&oe.stderr.isTTY?oe.stderr.columns:80;if(se<he){for(;j[0][V]===U[0][V];)V++;V>2&&(re=`
  `.concat(C(" ",V),"^"),V=0)}}}for(var me=j[j.length-1],Se=U[U.length-1];me===Se&&(V++<2?$=`
  `.concat(me).concat($):I=me,j.pop(),U.pop(),!(j.length===0||U.length===0));)me=j[j.length-1],Se=U[U.length-1];var Pe=Math.max(j.length,U.length);if(Pe===0){var ge=x.split(`
`);if(ge.length>30)for(ge[26]="".concat(A,"...").concat(O);ge.length>27;)ge.pop();return"".concat(H.notIdentical,`

`).concat(ge.join(`
`),`
`)}V>3&&($=`
`.concat(A,"...").concat(O).concat($),z=!0),I!==""&&($=`
  `.concat(I).concat($),I="");var Me=0,ne=H[q]+`
`.concat(L,"+ actual").concat(O," ").concat(T,"- expected").concat(O),st=" ".concat(A,"...").concat(O," Lines skipped");for(V=0;V<Pe;V++){var Ke=V-M;if(j.length<V+1)Ke>1&&V>2&&(Ke>4?(G+=`
`.concat(A,"...").concat(O),z=!0):Ke>3&&(G+=`
  `.concat(U[V-2]),Me++),G+=`
  `.concat(U[V-1]),Me++),M=V,I+=`
`.concat(T,"-").concat(O," ").concat(U[V]),Me++;else if(U.length<V+1)Ke>1&&V>2&&(Ke>4?(G+=`
`.concat(A,"...").concat(O),z=!0):Ke>3&&(G+=`
  `.concat(j[V-2]),Me++),G+=`
  `.concat(j[V-1]),Me++),M=V,G+=`
`.concat(L,"+").concat(O," ").concat(j[V]),Me++;else{var nt=U[V],Le=j[V],J=Le!==nt&&(!F(Le,",")||Le.slice(0,-1)!==nt);J&&F(nt,",")&&nt.slice(0,-1)===Le&&(J=!1,Le+=","),J?(Ke>1&&V>2&&(Ke>4?(G+=`
`.concat(A,"...").concat(O),z=!0):Ke>3&&(G+=`
  `.concat(j[V-2]),Me++),G+=`
  `.concat(j[V-1]),Me++),M=V,G+=`
`.concat(L,"+").concat(O," ").concat(Le),I+=`
`.concat(T,"-").concat(O," ").concat(nt),Me+=2):(G+=I,I="",(Ke===1||V===0)&&(G+=`
  `.concat(Le),Me++))}if(Me>20&&V<Pe-2)return"".concat(ne).concat(st,`
`).concat(G,`
`).concat(A,"...").concat(O).concat(I,`
`)+"".concat(A,"...").concat(O)}return"".concat(ne).concat(z?st:"",`
`).concat(G).concat(I).concat($).concat(re)}var k=function(R,P){l(I,R);var q=c(I);function I(G){var M;if(n(this,I),g(G)!=="object"||G===null)throw new E("options","Object",G);var $=G.message,z=G.operator,x=G.stackStartFn,j=G.actual,U=G.expected,V=Error.stackTraceLimit;if(Error.stackTraceLimit=0,$!=null)M=q.call(this,String($));else if(oe.stderr&&oe.stderr.isTTY&&(oe.stderr&&oe.stderr.getColorDepth&&oe.stderr.getColorDepth()!==1?(A="\x1B[34m",L="\x1B[32m",O="\x1B[39m",T="\x1B[31m"):(A="",L="",O="",T="")),g(j)==="object"&&j!==null&&g(U)==="object"&&U!==null&&"stack"in j&&j instanceof Error&&"stack"in U&&U instanceof Error&&(j=Z(j),U=Z(U)),z==="deepStrictEqual"||z==="strictEqual")M=q.call(this,ee(j,U,z));else if(z==="notDeepStrictEqual"||z==="notStrictEqual"){var re=H[z],se=te(j).split(`
`);if(z==="notStrictEqual"&&g(j)==="object"&&j!==null&&(re=H.notStrictEqualObject),se.length>30)for(se[26]="".concat(A,"...").concat(O);se.length>27;)se.pop();se.length===1?M=q.call(this,"".concat(re," ").concat(se[0])):M=q.call(this,"".concat(re,`

`).concat(se.join(`
`),`
`))}else{var he=te(j),me="",Se=H[z];z==="notDeepEqual"||z==="notEqual"?(he="".concat(H[z],`

`).concat(he),he.length>1024&&(he="".concat(he.slice(0,1021),"..."))):(me="".concat(te(U)),he.length>512&&(he="".concat(he.slice(0,509),"...")),me.length>512&&(me="".concat(me.slice(0,509),"...")),z==="deepEqual"||z==="equal"?he="".concat(Se,`

`).concat(he,`

should equal

`):me=" ".concat(z," ").concat(me)),M=q.call(this,"".concat(he).concat(me))}return Error.stackTraceLimit=V,M.generatedMessage=!$,Object.defineProperty(f(M),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),M.code="ERR_ASSERTION",M.actual=j,M.expected=U,M.operator=z,Error.captureStackTrace&&Error.captureStackTrace(f(M),x),M.stack,M.name="AssertionError",a(M)}return h(I,[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:P,value:function(M,$){return y(this,e(e({},$),{},{customInspect:!1,depth:0}))}}]),I}(i(Error),y.custom);return yo=k,yo}var Sh=Object.prototype.toString,wh=function(e){var r=Sh.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Sh.call(e.callee)==="[object Function]"),n},bo,Eh;function G_(){if(Eh)return bo;Eh=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=wh,o=Object.prototype.propertyIsEnumerable,h=!o.call({toString:null},"toString"),p=o.call(function(){},"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(i){var d=i.constructor;return d&&d.prototype===i},c={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},a=function(){if(typeof window>"u")return!1;for(var i in window)try{if(!c["$"+i]&&e.call(window,i)&&window[i]!==null&&typeof window[i]=="object")try{l(window[i])}catch{return!0}}catch{return!0}return!1}(),f=function(i){if(typeof window>"u"||!a)return l(i);try{return l(i)}catch{return!1}};t=function(d){var m=d!==null&&typeof d=="object",D=r.call(d)==="[object Function]",u=n(d),_=m&&r.call(d)==="[object String]",g=[];if(!m&&!D&&!u)throw new TypeError("Object.keys called on a non-object");var v=p&&D;if(_&&d.length>0&&!e.call(d,0))for(var y=0;y<d.length;++y)g.push(String(y));if(u&&d.length>0)for(var b=0;b<d.length;++b)g.push(String(b));else for(var E in d)!(v&&E==="prototype")&&e.call(d,E)&&g.push(String(E));if(h)for(var F=f(d),C=0;C<s.length;++C)!(F&&s[C]==="constructor")&&e.call(d,s[C])&&g.push(s[C]);return g}}return bo=t,bo}var V_=Array.prototype.slice,K_=wh,Fh=Object.keys,hs=Fh?function(e){return Fh(e)}:G_(),Ah=Object.keys;hs.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return K_(n)?Ah(V_.call(n)):Ah(n)})}else Object.keys=hs;return Object.keys||hs};var xh=hs,Y_=xh,Bh=Jn(),kh=is,Oh=Object,J_=kh("Array.prototype.push"),Rh=kh("Object.prototype.propertyIsEnumerable"),X_=Bh?Object.getOwnPropertySymbols:null,Z_=function(e,r){if(e==null)throw new TypeError("target must be an object");var n=Oh(e);if(arguments.length===1)return n;for(var o=1;o<arguments.length;++o){var h=Oh(arguments[o]),p=Y_(h),s=Bh&&(Object.getOwnPropertySymbols||X_);if(s)for(var l=s(h),c=0;c<l.length;++c){var a=l[c];Rh(h,a)&&J_(p,a)}for(var f=0;f<p.length;++f){var i=p[f];if(Rh(h,i)){var d=h[i];n[i]=d}}}return n},Co=Z_,Q_=function(){if(!Object.assign)return!1;for(var t="abcdefghijklmnopqrst",e=t.split(""),r={},n=0;n<e.length;++n)r[e[n]]=e[n];var o=Object.assign({},r),h="";for(var p in o)h+=p;return t!==h},ev=function(){if(!Object.assign||!Object.preventExtensions)return!1;var t=Object.preventExtensions({1:2});try{Object.assign(t,"xy")}catch{return t[1]==="y"}return!1},tv=function(){return!Object.assign||Q_()||ev()?Co:Object.assign},Ph=function(t){return t!==t},Lh=function(e,r){return e===0&&r===0?1/e===1/r:!!(e===r||Ph(e)&&Ph(r))},rv=Lh,So=function(){return typeof Object.is=="function"?Object.is:rv},wo,Th;function cs(){if(Th)return wo;Th=1;var t=xh,e=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",r=Object.prototype.toString,n=Array.prototype.concat,o=sh,h=function(c){return typeof c=="function"&&r.call(c)==="[object Function]"},p=oh(),s=function(c,a,f,i){if(a in c){if(i===!0){if(c[a]===f)return}else if(!h(i)||!i())return}p?o(c,a,f,!0):o(c,a,f)},l=function(c,a){var f=arguments.length>2?arguments[2]:{},i=t(a);e&&(i=n.call(i,Object.getOwnPropertySymbols(a)));for(var d=0;d<i.length;d+=1)s(c,i[d],a[i[d]],f[i[d]])};return l.supportsDescriptors=!!p,wo=l,wo}var Eo,Ih;function iv(){if(Ih)return Eo;Ih=1;var t=So,e=cs();return Eo=function(){var n=t();return e(Object,{is:n},{is:function(){return Object.is!==n}}),n},Eo}var Fo,Mh;function sv(){if(Mh)return Fo;Mh=1;var t=cs(),e=rs,r=Lh,n=So,o=iv(),h=e(n(),Object);return t(h,{getPolyfill:n,implementation:r,shim:o}),Fo=h,Fo}var Ao,jh;function Hh(){return jh||(jh=1,Ao=function(e){return e!==e}),Ao}var xo,Nh;function Wh(){if(Nh)return xo;Nh=1;var t=Hh();return xo=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:t},xo}var Bo,Uh;function nv(){if(Uh)return Bo;Uh=1;var t=cs(),e=Wh();return Bo=function(){var n=e();return t(Number,{isNaN:n},{isNaN:function(){return Number.isNaN!==n}}),n},Bo}var ko,$h;function ov(){if($h)return ko;$h=1;var t=rs,e=cs(),r=Hh(),n=Wh(),o=nv(),h=t(n(),Number);return e(h,{getPolyfill:n,implementation:r,shim:o}),ko=h,ko}var Oo,qh;function av(){if(qh)return Oo;qh=1;function t(J,X){return h(J)||o(J,X)||r(J,X)||e()}function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r(J,X){if(J){if(typeof J=="string")return n(J,X);var ae=Object.prototype.toString.call(J).slice(8,-1);if(ae==="Object"&&J.constructor&&(ae=J.constructor.name),ae==="Map"||ae==="Set")return Array.from(J);if(ae==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ae))return n(J,X)}}function n(J,X){(X==null||X>J.length)&&(X=J.length);for(var ae=0,fe=new Array(X);ae<X;ae++)fe[ae]=J[ae];return fe}function o(J,X){var ae=J==null?null:typeof Symbol<"u"&&J[Symbol.iterator]||J["@@iterator"];if(ae!=null){var fe,le,De,B,S=[],w=!0,W=!1;try{if(De=(ae=ae.call(J)).next,X!==0)for(;!(w=(fe=De.call(ae)).done)&&(S.push(fe.value),S.length!==X);w=!0);}catch(K){W=!0,le=K}finally{try{if(!w&&ae.return!=null&&(B=ae.return(),Object(B)!==B))return}finally{if(W)throw le}}return S}}function h(J){if(Array.isArray(J))return J}function p(J){"@babel/helpers - typeof";return p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},p(J)}var s=/a/g.flags!==void 0,l=function(X){var ae=[];return X.forEach(function(fe){return ae.push(fe)}),ae},c=function(X){var ae=[];return X.forEach(function(fe,le){return ae.push([le,fe])}),ae},a=Object.is?Object.is:sv(),f=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},i=Number.isNaN?Number.isNaN:ov();function d(J){return J.call.bind(J)}var m=d(Object.prototype.hasOwnProperty),D=d(Object.prototype.propertyIsEnumerable),u=d(Object.prototype.toString),_=cr.types,g=_.isAnyArrayBuffer,v=_.isArrayBufferView,y=_.isDate,b=_.isMap,E=_.isRegExp,F=_.isSet,C=_.isNativeError,A=_.isBoxedPrimitive,L=_.isNumberObject,T=_.isStringObject,O=_.isBooleanObject,H=_.isBigIntObject,Y=_.isSymbolObject,Z=_.isFloat32Array,te=_.isFloat64Array;function ee(J){if(J.length===0||J.length>10)return!0;for(var X=0;X<J.length;X++){var ae=J.charCodeAt(X);if(ae<48||ae>57)return!0}return J.length===10&&J>=Math.pow(2,32)}function k(J){return Object.keys(J).filter(ee).concat(f(J).filter(Object.prototype.propertyIsEnumerable.bind(J)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function R(J,X){if(J===X)return 0;for(var ae=J.length,fe=X.length,le=0,De=Math.min(ae,fe);le<De;++le)if(J[le]!==X[le]){ae=J[le],fe=X[le];break}return ae<fe?-1:fe<ae?1:0}var P=!0,q=!1,I=0,G=1,M=2,$=3;function z(J,X){return s?J.source===X.source&&J.flags===X.flags:RegExp.prototype.toString.call(J)===RegExp.prototype.toString.call(X)}function x(J,X){if(J.byteLength!==X.byteLength)return!1;for(var ae=0;ae<J.byteLength;ae++)if(J[ae]!==X[ae])return!1;return!0}function j(J,X){return J.byteLength!==X.byteLength?!1:R(new Uint8Array(J.buffer,J.byteOffset,J.byteLength),new Uint8Array(X.buffer,X.byteOffset,X.byteLength))===0}function U(J,X){return J.byteLength===X.byteLength&&R(new Uint8Array(J),new Uint8Array(X))===0}function V(J,X){return L(J)?L(X)&&a(Number.prototype.valueOf.call(J),Number.prototype.valueOf.call(X)):T(J)?T(X)&&String.prototype.valueOf.call(J)===String.prototype.valueOf.call(X):O(J)?O(X)&&Boolean.prototype.valueOf.call(J)===Boolean.prototype.valueOf.call(X):H(J)?H(X)&&BigInt.prototype.valueOf.call(J)===BigInt.prototype.valueOf.call(X):Y(X)&&Symbol.prototype.valueOf.call(J)===Symbol.prototype.valueOf.call(X)}function re(J,X,ae,fe){if(J===X)return J!==0?!0:ae?a(J,X):!0;if(ae){if(p(J)!=="object")return typeof J=="number"&&i(J)&&i(X);if(p(X)!=="object"||J===null||X===null||Object.getPrototypeOf(J)!==Object.getPrototypeOf(X))return!1}else{if(J===null||p(J)!=="object")return X===null||p(X)!=="object"?J==X:!1;if(X===null||p(X)!=="object")return!1}var le=u(J),De=u(X);if(le!==De)return!1;if(Array.isArray(J)){if(J.length!==X.length)return!1;var B=k(J),S=k(X);return B.length!==S.length?!1:he(J,X,ae,fe,G,B)}if(le==="[object Object]"&&(!b(J)&&b(X)||!F(J)&&F(X)))return!1;if(y(J)){if(!y(X)||Date.prototype.getTime.call(J)!==Date.prototype.getTime.call(X))return!1}else if(E(J)){if(!E(X)||!z(J,X))return!1}else if(C(J)||J instanceof Error){if(J.message!==X.message||J.name!==X.name)return!1}else if(v(J)){if(!ae&&(Z(J)||te(J))){if(!x(J,X))return!1}else if(!j(J,X))return!1;var w=k(J),W=k(X);return w.length!==W.length?!1:he(J,X,ae,fe,I,w)}else{if(F(J))return!F(X)||J.size!==X.size?!1:he(J,X,ae,fe,M);if(b(J))return!b(X)||J.size!==X.size?!1:he(J,X,ae,fe,$);if(g(J)){if(!U(J,X))return!1}else if(A(J)&&!V(J,X))return!1}return he(J,X,ae,fe,I)}function se(J,X){return X.filter(function(ae){return D(J,ae)})}function he(J,X,ae,fe,le,De){if(arguments.length===5){De=Object.keys(J);var B=Object.keys(X);if(De.length!==B.length)return!1}for(var S=0;S<De.length;S++)if(!m(X,De[S]))return!1;if(ae&&arguments.length===5){var w=f(J);if(w.length!==0){var W=0;for(S=0;S<w.length;S++){var K=w[S];if(D(J,K)){if(!D(X,K))return!1;De.push(K),W++}else if(D(X,K))return!1}var Q=f(X);if(w.length!==Q.length&&se(X,Q).length!==W)return!1}else{var ie=f(X);if(ie.length!==0&&se(X,ie).length!==0)return!1}}if(De.length===0&&(le===I||le===G&&J.length===0||J.size===0))return!0;if(fe===void 0)fe={val1:new Map,val2:new Map,position:0};else{var ye=fe.val1.get(J);if(ye!==void 0){var we=fe.val2.get(X);if(we!==void 0)return ye===we}fe.position++}fe.val1.set(J,fe.position),fe.val2.set(X,fe.position);var Fe=Ke(J,X,ae,De,fe,le);return fe.val1.delete(J),fe.val2.delete(X),Fe}function me(J,X,ae,fe){for(var le=l(J),De=0;De<le.length;De++){var B=le[De];if(re(X,B,ae,fe))return J.delete(B),!0}return!1}function Se(J){switch(p(J)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":J=+J;case"number":if(i(J))return!1}return!0}function Pe(J,X,ae){var fe=Se(ae);return fe??(X.has(fe)&&!J.has(fe))}function ge(J,X,ae,fe,le){var De=Se(ae);if(De!=null)return De;var B=X.get(De);return B===void 0&&!X.has(De)||!re(fe,B,!1,le)?!1:!J.has(De)&&re(fe,B,!1,le)}function Me(J,X,ae,fe){for(var le=null,De=l(J),B=0;B<De.length;B++){var S=De[B];if(p(S)==="object"&&S!==null)le===null&&(le=new Set),le.add(S);else if(!X.has(S)){if(ae||!Pe(J,X,S))return!1;le===null&&(le=new Set),le.add(S)}}if(le!==null){for(var w=l(X),W=0;W<w.length;W++){var K=w[W];if(p(K)==="object"&&K!==null){if(!me(le,K,ae,fe))return!1}else if(!ae&&!J.has(K)&&!me(le,K,ae,fe))return!1}return le.size===0}return!0}function ne(J,X,ae,fe,le,De){for(var B=l(J),S=0;S<B.length;S++){var w=B[S];if(re(ae,w,le,De)&&re(fe,X.get(w),le,De))return J.delete(w),!0}return!1}function st(J,X,ae,fe){for(var le=null,De=c(J),B=0;B<De.length;B++){var S=t(De[B],2),w=S[0],W=S[1];if(p(w)==="object"&&w!==null)le===null&&(le=new Set),le.add(w);else{var K=X.get(w);if(K===void 0&&!X.has(w)||!re(W,K,ae,fe)){if(ae||!ge(J,X,w,W,fe))return!1;le===null&&(le=new Set),le.add(w)}}}if(le!==null){for(var Q=c(X),ie=0;ie<Q.length;ie++){var ye=t(Q[ie],2),we=ye[0],Fe=ye[1];if(p(we)==="object"&&we!==null){if(!ne(le,J,we,Fe,ae,fe))return!1}else if(!ae&&(!J.has(we)||!re(J.get(we),Fe,!1,fe))&&!ne(le,J,we,Fe,!1,fe))return!1}return le.size===0}return!0}function Ke(J,X,ae,fe,le,De){var B=0;if(De===M){if(!Me(J,X,ae,le))return!1}else if(De===$){if(!st(J,X,ae,le))return!1}else if(De===G)for(;B<J.length;B++)if(m(J,B)){if(!m(X,B)||!re(J[B],X[B],ae,le))return!1}else{if(m(X,B))return!1;for(var S=Object.keys(J);B<S.length;B++){var w=S[B];if(!m(X,w)||!re(J[w],X[w],ae,le))return!1}return S.length===Object.keys(X).length}for(B=0;B<fe.length;B++){var W=fe[B];if(!re(J[W],X[W],ae,le))return!1}return!0}function nt(J,X){return re(J,X,q)}function Le(J,X){return re(J,X,P)}return Oo={isDeepEqual:nt,isDeepStrictEqual:Le},Oo}var zh;function fs(){if(zh)return Kn.exports;zh=1;function t(M){"@babel/helpers - typeof";return t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},t(M)}function e(M,$,z){return Object.defineProperty(M,"prototype",{writable:!1}),M}function r(M,$){if(!(M instanceof $))throw new TypeError("Cannot call a class as a function")}var n=bh(),o=n.codes,h=o.ERR_AMBIGUOUS_ARGUMENT,p=o.ERR_INVALID_ARG_TYPE,s=o.ERR_INVALID_ARG_VALUE,l=o.ERR_INVALID_RETURN_VALUE,c=o.ERR_MISSING_ARGS,a=z_(),f=cr,i=f.inspect,d=cr.types,m=d.isPromise,D=d.isRegExp,u=tv(),_=So(),g=is("RegExp.prototype.test"),v,y;function b(){var M=av();v=M.isDeepEqual,y=M.isDeepStrictEqual}var E=!1,F=Kn.exports=O,C={};function A(M){throw M.message instanceof Error?M.message:new a(M)}function L(M,$,z,x,j){var U=arguments.length,V;if(U===0)V="Failed";else if(U===1)z=M,M=void 0;else{if(E===!1){E=!0;var re=oe.emitWarning?oe.emitWarning:console.warn.bind(console);re("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}U===2&&(x="!=")}if(z instanceof Error)throw z;var se={actual:M,expected:$,operator:x===void 0?"fail":x,stackStartFn:j||L};z!==void 0&&(se.message=z);var he=new a(se);throw V&&(he.message=V,he.generatedMessage=!0),he}F.fail=L,F.AssertionError=a;function T(M,$,z,x){if(!z){var j=!1;if($===0)j=!0,x="No value argument passed to `assert.ok()`";else if(x instanceof Error)throw x;var U=new a({actual:z,expected:!0,message:x,operator:"==",stackStartFn:M});throw U.generatedMessage=j,U}}function O(){for(var M=arguments.length,$=new Array(M),z=0;z<M;z++)$[z]=arguments[z];T.apply(void 0,[O,$.length].concat($))}F.ok=O,F.equal=function M($,z,x){if(arguments.length<2)throw new c("actual","expected");$!=z&&A({actual:$,expected:z,message:x,operator:"==",stackStartFn:M})},F.notEqual=function M($,z,x){if(arguments.length<2)throw new c("actual","expected");$==z&&A({actual:$,expected:z,message:x,operator:"!=",stackStartFn:M})},F.deepEqual=function M($,z,x){if(arguments.length<2)throw new c("actual","expected");v===void 0&&b(),v($,z)||A({actual:$,expected:z,message:x,operator:"deepEqual",stackStartFn:M})},F.notDeepEqual=function M($,z,x){if(arguments.length<2)throw new c("actual","expected");v===void 0&&b(),v($,z)&&A({actual:$,expected:z,message:x,operator:"notDeepEqual",stackStartFn:M})},F.deepStrictEqual=function M($,z,x){if(arguments.length<2)throw new c("actual","expected");v===void 0&&b(),y($,z)||A({actual:$,expected:z,message:x,operator:"deepStrictEqual",stackStartFn:M})},F.notDeepStrictEqual=H;function H(M,$,z){if(arguments.length<2)throw new c("actual","expected");v===void 0&&b(),y(M,$)&&A({actual:M,expected:$,message:z,operator:"notDeepStrictEqual",stackStartFn:H})}F.strictEqual=function M($,z,x){if(arguments.length<2)throw new c("actual","expected");_($,z)||A({actual:$,expected:z,message:x,operator:"strictEqual",stackStartFn:M})},F.notStrictEqual=function M($,z,x){if(arguments.length<2)throw new c("actual","expected");_($,z)&&A({actual:$,expected:z,message:x,operator:"notStrictEqual",stackStartFn:M})};var Y=e(function M($,z,x){var j=this;r(this,M),z.forEach(function(U){U in $&&(x!==void 0&&typeof x[U]=="string"&&D($[U])&&g($[U],x[U])?j[U]=x[U]:j[U]=$[U])})});function Z(M,$,z,x,j,U){if(!(z in M)||!y(M[z],$[z])){if(!x){var V=new Y(M,j),re=new Y($,j,M),se=new a({actual:V,expected:re,operator:"deepStrictEqual",stackStartFn:U});throw se.actual=M,se.expected=$,se.operator=U.name,se}A({actual:M,expected:$,message:x,operator:U.name,stackStartFn:U})}}function te(M,$,z,x){if(typeof $!="function"){if(D($))return g($,M);if(arguments.length===2)throw new p("expected",["Function","RegExp"],$);if(t(M)!=="object"||M===null){var j=new a({actual:M,expected:$,message:z,operator:"deepStrictEqual",stackStartFn:x});throw j.operator=x.name,j}var U=Object.keys($);if($ instanceof Error)U.push("name","message");else if(U.length===0)throw new s("error",$,"may not be an empty object");return v===void 0&&b(),U.forEach(function(V){typeof M[V]=="string"&&D($[V])&&g($[V],M[V])||Z(M,$,V,z,U,x)}),!0}return $.prototype!==void 0&&M instanceof $?!0:Error.isPrototypeOf($)?!1:$.call({},M)===!0}function ee(M){if(typeof M!="function")throw new p("fn","Function",M);try{M()}catch($){return $}return C}function k(M){return m(M)||M!==null&&t(M)==="object"&&typeof M.then=="function"&&typeof M.catch=="function"}function R(M){return Promise.resolve().then(function(){var $;if(typeof M=="function"){if($=M(),!k($))throw new l("instance of Promise","promiseFn",$)}else if(k(M))$=M;else throw new p("promiseFn",["Function","Promise"],M);return Promise.resolve().then(function(){return $}).then(function(){return C}).catch(function(z){return z})})}function P(M,$,z,x){if(typeof z=="string"){if(arguments.length===4)throw new p("error",["Object","Error","Function","RegExp"],z);if(t($)==="object"&&$!==null){if($.message===z)throw new h("error/message",'The error message "'.concat($.message,'" is identical to the message.'))}else if($===z)throw new h("error/message",'The error "'.concat($,'" is identical to the message.'));x=z,z=void 0}else if(z!=null&&t(z)!=="object"&&typeof z!="function")throw new p("error",["Object","Error","Function","RegExp"],z);if($===C){var j="";z&&z.name&&(j+=" (".concat(z.name,")")),j+=x?": ".concat(x):".";var U=M.name==="rejects"?"rejection":"exception";A({actual:void 0,expected:z,operator:M.name,message:"Missing expected ".concat(U).concat(j),stackStartFn:M})}if(z&&!te($,z,x,M))throw $}function q(M,$,z,x){if($!==C){if(typeof z=="string"&&(x=z,z=void 0),!z||te($,z)){var j=x?": ".concat(x):".",U=M.name==="doesNotReject"?"rejection":"exception";A({actual:$,expected:z,operator:M.name,message:"Got unwanted ".concat(U).concat(j,`
`)+'Actual message: "'.concat($&&$.message,'"'),stackStartFn:M})}throw $}}F.throws=function M($){for(var z=arguments.length,x=new Array(z>1?z-1:0),j=1;j<z;j++)x[j-1]=arguments[j];P.apply(void 0,[M,ee($)].concat(x))},F.rejects=function M($){for(var z=arguments.length,x=new Array(z>1?z-1:0),j=1;j<z;j++)x[j-1]=arguments[j];return R($).then(function(U){return P.apply(void 0,[M,U].concat(x))})},F.doesNotThrow=function M($){for(var z=arguments.length,x=new Array(z>1?z-1:0),j=1;j<z;j++)x[j-1]=arguments[j];q.apply(void 0,[M,ee($)].concat(x))},F.doesNotReject=function M($){for(var z=arguments.length,x=new Array(z>1?z-1:0),j=1;j<z;j++)x[j-1]=arguments[j];return R($).then(function(U){return q.apply(void 0,[M,U].concat(x))})},F.ifError=function M($){if($!=null){var z="ifError got unwanted exception: ";t($)==="object"&&typeof $.message=="string"?$.message.length===0&&$.constructor?z+=$.constructor.name:z+=$.message:z+=i($);var x=new a({actual:$,expected:null,operator:"ifError",message:z,stackStartFn:M}),j=$.stack;if(typeof j=="string"){var U=j.split(`
`);U.shift();for(var V=x.stack.split(`
`),re=0;re<U.length;re++){var se=V.indexOf(U[re]);if(se!==-1){V=V.slice(0,se);break}}x.stack="".concat(V.join(`
`),`
`).concat(U.join(`
`))}throw x}};function I(M,$,z,x,j){if(!D($))throw new p("regexp","RegExp",$);var U=j==="match";if(typeof M!="string"||g($,M)!==U){if(z instanceof Error)throw z;var V=!z;z=z||(typeof M!="string"?'The "string" argument must be of type string. Received type '+"".concat(t(M)," (").concat(i(M),")"):(U?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(i($),`. Input:

`).concat(i(M),`
`));var re=new a({actual:M,expected:$,message:z,operator:j,stackStartFn:x});throw re.generatedMessage=V,re}}F.match=function M($,z,x){I($,z,x,M,"match")},F.doesNotMatch=function M($,z,x){I($,z,x,M,"doesNotMatch")};function G(){for(var M=arguments.length,$=new Array(M),z=0;z<M;z++)$[z]=arguments[z];T.apply(void 0,[G,$.length].concat($))}return F.strict=u(G,F,{equal:F.strictEqual,deepEqual:F.deepStrictEqual,notEqual:F.notStrictEqual,notDeepEqual:F.notDeepStrictEqual}),F.strict.strict=F.strict,Kn.exports}var Ro={exports:{}},Gh;function uv(){return Gh||(Gh=1,function(t){t.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],oe.platform!=="win32"&&t.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),oe.platform==="linux"&&t.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")}(Ro)),Ro.exports}var Po={exports:{}},jr=typeof Reflect=="object"?Reflect:null,Vh=jr&&typeof jr.apply=="function"?jr.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},ds;jr&&typeof jr.ownKeys=="function"?ds=jr.ownKeys:Object.getOwnPropertySymbols?ds=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:ds=function(e){return Object.getOwnPropertyNames(e)};function lv(t){console&&console.warn&&console.warn(t)}var Kh=Number.isNaN||function(e){return e!==e};function Be(){Be.init.call(this)}Po.exports=Be,Po.exports.once=dv,Be.EventEmitter=Be,Be.prototype._events=void 0,Be.prototype._eventsCount=0,Be.prototype._maxListeners=void 0;var Yh=10;function ps(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Be,"defaultMaxListeners",{enumerable:!0,get:function(){return Yh},set:function(t){if(typeof t!="number"||t<0||Kh(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Yh=t}}),Be.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Be.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||Kh(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function Jh(t){return t._maxListeners===void 0?Be.defaultMaxListeners:t._maxListeners}Be.prototype.getMaxListeners=function(){return Jh(this)},Be.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var o=e==="error",h=this._events;if(h!==void 0)o=o&&h.error===void 0;else if(!o)return!1;if(o){var p;if(r.length>0&&(p=r[0]),p instanceof Error)throw p;var s=new Error("Unhandled error."+(p?" ("+p.message+")":""));throw s.context=p,s}var l=h[e];if(l===void 0)return!1;if(typeof l=="function")Vh(l,this,r);else for(var c=l.length,a=tc(l,c),n=0;n<c;++n)Vh(a[n],this,r);return!0};function Xh(t,e,r,n){var o,h,p;if(ps(r),h=t._events,h===void 0?(h=t._events=Object.create(null),t._eventsCount=0):(h.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),h=t._events),p=h[e]),p===void 0)p=h[e]=r,++t._eventsCount;else if(typeof p=="function"?p=h[e]=n?[r,p]:[p,r]:n?p.unshift(r):p.push(r),o=Jh(t),o>0&&p.length>o&&!p.warned){p.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+p.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=p.length,lv(s)}return t}Be.prototype.addListener=function(e,r){return Xh(this,e,r,!1)},Be.prototype.on=Be.prototype.addListener,Be.prototype.prependListener=function(e,r){return Xh(this,e,r,!0)};function hv(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Zh(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},o=hv.bind(n);return o.listener=r,n.wrapFn=o,o}Be.prototype.once=function(e,r){return ps(r),this.on(e,Zh(this,e,r)),this},Be.prototype.prependOnceListener=function(e,r){return ps(r),this.prependListener(e,Zh(this,e,r)),this},Be.prototype.removeListener=function(e,r){var n,o,h,p,s;if(ps(r),o=this._events,o===void 0)return this;if(n=o[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete o[e],o.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(h=-1,p=n.length-1;p>=0;p--)if(n[p]===r||n[p].listener===r){s=n[p].listener,h=p;break}if(h<0)return this;h===0?n.shift():cv(n,h),n.length===1&&(o[e]=n[0]),o.removeListener!==void 0&&this.emit("removeListener",e,s||r)}return this},Be.prototype.off=Be.prototype.removeListener,Be.prototype.removeAllListeners=function(e){var r,n,o;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var h=Object.keys(n),p;for(o=0;o<h.length;++o)p=h[o],p!=="removeListener"&&this.removeAllListeners(p);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(o=r.length-1;o>=0;o--)this.removeListener(e,r[o]);return this};function Qh(t,e,r){var n=t._events;if(n===void 0)return[];var o=n[e];return o===void 0?[]:typeof o=="function"?r?[o.listener||o]:[o]:r?fv(o):tc(o,o.length)}Be.prototype.listeners=function(e){return Qh(this,e,!0)},Be.prototype.rawListeners=function(e){return Qh(this,e,!1)},Be.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):ec.call(t,e)},Be.prototype.listenerCount=ec;function ec(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Be.prototype.eventNames=function(){return this._eventsCount>0?ds(this._events):[]};function tc(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function cv(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function fv(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function dv(t,e){return new Promise(function(r,n){function o(p){t.removeListener(e,h),n(p)}function h(){typeof t.removeListener=="function"&&t.removeListener("error",o),r([].slice.call(arguments))}rc(t,e,h,{once:!0}),e!=="error"&&pv(t,o,{once:!0})})}function pv(t,e,r){typeof t.on=="function"&&rc(t,"error",e,r)}function rc(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function o(h){n.once&&t.removeEventListener(e,o),r(h)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var _i=Po.exports,Ie=it.process;const pr=function(t){return t&&typeof t=="object"&&typeof t.removeListener=="function"&&typeof t.emit=="function"&&typeof t.reallyExit=="function"&&typeof t.listeners=="function"&&typeof t.kill=="function"&&typeof t.pid=="number"&&typeof t.on=="function"};if(!pr(Ie))Or.exports=function(){return function(){}};else{var gv=fs(),vi=uv(),mv=/^win/i.test(Ie.platform),gs=_i;typeof gs!="function"&&(gs=gs.EventEmitter);var Ze;Ie.__signal_exit_emitter__?Ze=Ie.__signal_exit_emitter__:(Ze=Ie.__signal_exit_emitter__=new gs,Ze.count=0,Ze.emitted={}),Ze.infinite||(Ze.setMaxListeners(1/0),Ze.infinite=!0),Or.exports=function(t,e){if(!pr(it.process))return function(){};gv.equal(typeof t,"function","a callback must be provided for exit handler"),Di===!1&&ic();var r="exit";e&&e.alwaysLast&&(r="afterexit");var n=function(){Ze.removeListener(r,t),Ze.listeners("exit").length===0&&Ze.listeners("afterexit").length===0&&Lo()};return Ze.on(r,t),n};var Lo=function(){!Di||!pr(it.process)||(Di=!1,vi.forEach(function(e){try{Ie.removeListener(e,To[e])}catch{}}),Ie.emit=Io,Ie.reallyExit=sc,Ze.count-=1)};Or.exports.unload=Lo;var Hr=function(e,r,n){Ze.emitted[e]||(Ze.emitted[e]=!0,Ze.emit(e,r,n))},To={};vi.forEach(function(t){To[t]=function(){if(pr(it.process)){var r=Ie.listeners(t);r.length===Ze.count&&(Lo(),Hr("exit",null,t),Hr("afterexit",null,t),mv&&t==="SIGHUP"&&(t="SIGINT"),Ie.kill(Ie.pid,t))}}}),Or.exports.signals=function(){return vi};var Di=!1,ic=function(){Di||!pr(it.process)||(Di=!0,Ze.count+=1,vi=vi.filter(function(e){try{return Ie.on(e,To[e]),!0}catch{return!1}}),Ie.emit=vv,Ie.reallyExit=_v)};Or.exports.load=ic;var sc=Ie.reallyExit,_v=function(e){pr(it.process)&&(Ie.exitCode=e||0,Hr("exit",Ie.exitCode,null),Hr("afterexit",Ie.exitCode,null),sc.call(Ie,Ie.exitCode))},Io=Ie.emit,vv=function(e,r){if(e==="exit"&&pr(it.process)){r!==void 0&&(Ie.exitCode=r);var n=Io.apply(this,arguments);return Hr("exit",Ie.exitCode,null),Hr("afterexit",Ie.exitCode,null),n}else return Io.apply(this,arguments)}}var Dv=Or.exports;const yv=$t(Dv),bv=dm(()=>{yv(()=>{oe.stderr.write("\x1B[?25h")},{alwaysLast:!0})});let ms=!1;const gr={};gr.show=(t=oe.stderr)=>{t.isTTY&&(ms=!1,t.write("\x1B[?25h"))},gr.hide=(t=oe.stderr)=>{t.isTTY&&(bv(),ms=!0,t.write("\x1B[?25l"))},gr.toggle=(t,e)=>{t!==void 0&&(ms=t),ms?gr.show(e):gr.hide(e)};const _s=Object.assign({},{dots:{interval:80,frames:["â ","â ","â ¹","â ¸","â ¼","â ´","â ¦","â §","â ","â "]},dots2:{interval:80,frames:["â£¾","â£½","â£»","â¢¿","â¡¿","â£","â£¯","â£·"]},dots3:{interval:80,frames:["â ","â ","â ","â ","â ","â ¦","â ´","â ²","â ³","â "]},dots4:{interval:80,frames:["â ","â ","â ","â ","â ","â ¸","â °","â  ","â °","â ¸","â ","â ","â ","â "]},dots5:{interval:80,frames:["â ","â ","â ","â ","â ","â ","â ","â ²","â ´","â ¦","â ","â ","â ","â ","â ","â ","â "]},dots6:{interval:80,frames:["â ","â ","â ","â ","â ","â ","â ","â ","â ²","â ´","â ¤","â ","â ","â ¤","â ´","â ²","â ","â ","â ","â ","â ","â ","â ","â "]},dots7:{interval:80,frames:["â ","â ","â ","â ","â ","â ","â ","â ","â ","â ¦","â ¤","â  ","â  ","â ¤","â ¦","â ","â ","â ","â ","â ","â ","â ","â ","â "]},dots8:{interval:80,frames:["â ","â ","â ","â ","â ","â ","â ","â ","â ","â ²","â ´","â ¤","â ","â ","â ¤","â  ","â  ","â ¤","â ¦","â ","â ","â ","â ","â ","â ","â ","â ","â ","â "]},dots9:{interval:80,frames:["â¢¹","â¢º","â¢¼","â£¸","â£","â¡§","â¡","â¡"]},dots10:{interval:80,frames:["â¢","â¢","â¢","â¡","â¡","â¡","â¡ "]},dots11:{interval:100,frames:["â ","â ","â ","â¡","â¢","â  ","â ","â "]},dots12:{interval:80,frames:["â¢â ","â¡â ","â â ","â¢â ","â¡â ","â â ","â¢â ","â¡â ","â â ","â¢â ","â¡â ","â â ","â¢â ","â¡â ","â â ","â â ","â â ","â â ","â â ","â â ©","â â¢","â â¡","â¢â ©","â¡â¢","â â¡","â¢â ©","â¡â¢","â â¡","â¢â ¨","â¡â¢","â â¡","â¢â  ","â¡â¢","â â¡","â¢â ","â¡â ","â â ","â â ","â â ","â â ","â â ","â â ©","â â¢","â â¡","â â ©","â â¢","â â¡","â â ©","â â¢","â â¡","â â ¨","â â¢","â â¡","â â  ","â â¢","â â¡"]},dots13:{interval:80,frames:["â£¼","â£¹","â¢»","â ¿","â¡","â£","â£§","â£¶"]},dots8Bit:{interval:80,frames:["â ","â ","â ","â ","â ","â ","â ","â ","â¡","â¡","â¡","â¡","â¡","â¡","â¡","â¡","â ","â ","â ","â ","â ","â ","â ","â ","â¡","â¡","â¡","â¡","â¡","â¡","â¡","â¡","â ","â ","â ","â ","â ","â ","â ","â ","â¡","â¡","â¡","â¡","â¡","â¡","â¡","â¡","â ","â ","â ","â ","â ","â ","â ","â ","â¡","â¡","â¡","â¡","â¡","â¡","â¡","â¡","â  ","â ¡","â ¢","â £","â ¤","â ¥","â ¦","â §","â¡ ","â¡¡","â¡¢","â¡£","â¡¤","â¡¥","â¡¦","â¡§","â ¨","â ©","â ª","â «","â ¬","â ­","â ®","â ¯","â¡¨","â¡©","â¡ª","â¡«","â¡¬","â¡­","â¡®","â¡¯","â °","â ±","â ²","â ³","â ´","â µ","â ¶","â ·","â¡°","â¡±","â¡²","â¡³","â¡´","â¡µ","â¡¶","â¡·","â ¸","â ¹","â º","â »","â ¼","â ½","â ¾","â ¿","â¡¸","â¡¹","â¡º","â¡»","â¡¼","â¡½","â¡¾","â¡¿","â¢","â¢","â¢","â¢","â¢","â¢","â¢","â¢","â£","â£","â£","â£","â£","â£","â£","â£","â¢","â¢","â¢","â¢","â¢","â¢","â¢","â¢","â£","â£","â£","â£","â£","â£","â£","â£","â¢","â¢","â¢","â¢","â¢","â¢","â¢","â¢","â£","â£","â£","â£","â£","â£","â£","â£","â¢","â¢","â¢","â¢","â¢","â¢","â¢","â¢","â£","â£","â£","â£","â£","â£","â£","â£","â¢ ","â¢¡","â¢¢","â¢£","â¢¤","â¢¥","â¢¦","â¢§","â£ ","â£¡","â£¢","â££","â£¤","â£¥","â£¦","â£§","â¢¨","â¢©","â¢ª","â¢«","â¢¬","â¢­","â¢®","â¢¯","â£¨","â£©","â£ª","â£«","â£¬","â£­","â£®","â£¯","â¢°","â¢±","â¢²","â¢³","â¢´","â¢µ","â¢¶","â¢·","â£°","â£±","â£²","â£³","â£´","â£µ","â£¶","â£·","â¢¸","â¢¹","â¢º","â¢»","â¢¼","â¢½","â¢¾","â¢¿","â£¸","â£¹","â£º","â£»","â£¼","â£½","â£¾","â£¿"]},sand:{interval:80,frames:["â ","â ","â ","â¡","â¡","â¡","â¡ ","â£","â£","â£","â£","â£","â£","â£¤","â£¥","â£¦","â£®","â£¶","â£·","â£¿","â¡¿","â ¿","â¢","â ","â¡","â ","â «","â¢","â ","â ","â¡","â ","â ","â ¡","â¢"]},line:{interval:130,frames:["-","\\","|","/"]},line2:{interval:100,frames:["â ","-","â","â","â","-"]},pipe:{interval:100,frames:["â¤","â","â´","â","â","â","â¬","â"]},simpleDots:{interval:400,frames:[".  ",".. ","...","   "]},simpleDotsScrolling:{interval:200,frames:[".  ",".. ","..."," ..","  .","   "]},star:{interval:70,frames:["â¶","â¸","â¹","âº","â¹","â·"]},star2:{interval:80,frames:["+","x","*"]},flip:{interval:70,frames:["_","_","_","-","`","`","'","Â´","-","_","_","_"]},hamburger:{interval:100,frames:["â±","â²","â´"]},growVertical:{interval:120,frames:["â","â","â","â","â","â","â","â","â","â"]},growHorizontal:{interval:120,frames:["â","â","â","â","â","â","â","â","â","â","â","â"]},balloon:{interval:140,frames:[" ",".","o","O","@","*"," "]},balloon2:{interval:120,frames:[".","o","O","Â°","O","o","."]},noise:{interval:100,frames:["â","â","â"]},bounce:{interval:120,frames:["â ","â ","â ","â "]},boxBounce:{interval:120,frames:["â","â","â","â"]},boxBounce2:{interval:100,frames:["â","â","â","â"]},triangle:{interval:50,frames:["â¢","â£","â¤","â¥"]},binary:{interval:80,frames:["010010","001100","100101","111010","111101","010111","101011","111000","110011","110101"]},arc:{interval:100,frames:["â","â ","â","â","â¡","â"]},circle:{interval:120,frames:["â¡","â","â "]},squareCorners:{interval:180,frames:["â°","â³","â²","â±"]},circleQuarters:{interval:120,frames:["â´","â·","â¶","âµ"]},circleHalves:{interval:50,frames:["â","â","â","â"]},squish:{interval:100,frames:["â«","âª"]},toggle:{interval:250,frames:["â¶","â·"]},toggle2:{interval:80,frames:["â«","âª"]},toggle3:{interval:120,frames:["â¡","â "]},toggle4:{interval:100,frames:["â ","â¡","âª","â«"]},toggle5:{interval:100,frames:["â®","â¯"]},toggle6:{interval:300,frames:["á","á"]},toggle7:{interval:80,frames:["â¦¾","â¦¿"]},toggle8:{interval:100,frames:["â","â"]},toggle9:{interval:100,frames:["â","â"]},toggle10:{interval:100,frames:["ã","ã","ã"]},toggle11:{interval:50,frames:["â§","â§"]},toggle12:{interval:120,frames:["â","â"]},toggle13:{interval:80,frames:["=","*","-"]},arrow:{interval:100,frames:["â","â","â","â","â","â","â","â"]},arrow2:{interval:80,frames:["â¬ï¸ ","âï¸ ","â¡ï¸ ","âï¸ ","â¬ï¸ ","âï¸ ","â¬ï¸ ","âï¸ "]},arrow3:{interval:120,frames:["â¹â¹â¹â¹â¹","â¸â¹â¹â¹â¹","â¹â¸â¹â¹â¹","â¹â¹â¸â¹â¹","â¹â¹â¹â¸â¹","â¹â¹â¹â¹â¸"]},bouncingBar:{interval:80,frames:["[    ]","[=   ]","[==  ]","[=== ]","[====]","[ ===]","[  ==]","[   =]","[    ]","[   =]","[  ==]","[ ===]","[====]","[=== ]","[==  ]","[=   ]"]},bouncingBall:{interval:80,frames:["( â    )","(  â   )","(   â  )","(    â )","(     â)","(    â )","(   â  )","(  â   )","( â    )","(â     )"]},smiley:{interval:200,frames:["ð ","ð "]},monkey:{interval:300,frames:["ð ","ð ","ð ","ð "]},hearts:{interval:100,frames:["ð ","ð ","ð ","ð ","â¤ï¸ "]},clock:{interval:100,frames:["ð ","ð ","ð ","ð ","ð ","ð ","ð ","ð ","ð ","ð ","ð ","ð "]},earth:{interval:180,frames:["ð ","ð ","ð "]},material:{interval:17,frames:["ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ","ââââââââââââââââââââ"]},moon:{interval:80,frames:["ð ","ð ","ð ","ð ","ð ","ð ","ð ","ð "]},runner:{interval:140,frames:["ð¶ ","ð "]},pong:{interval:80,frames:["ââ        â","ââ        â","â â       â","â â        â","â  â¡     â","â  â       â","â   â     â","â   â     â","â    â    â","â    â     â","â     â¡  â","â     â    â","â      â  â","â      â  â","â       â â","â       â  â","â       â¡â","â      â   â","â      â  â","â     â   â","â     â   â","â    â     â","â    â¡   â","â   â      â","â   â     â","â  â      â","â  â      â","â â        â","â â¡      â","ââ         â"]},shark:{interval:120,frames:["â|\\____________â","â_|\\___________â","â__|\\__________â","â___|\\_________â","â____|\\________â","â_____|\\_______â","â______|\\______â","â_______|\\_____â","â________|\\____â","â_________|\\___â","â__________|\\__â","â___________|\\_â","â____________|\\â","â____________/|â","â___________/|_â","â__________/|__â","â_________/|___â","â________/|____â","â_______/|_____â","â______/|______â","â_____/|_______â","â____/|________â","â___/|_________â","â__/|__________â","â_/|___________â","â/|____________â"]},dqpb:{interval:100,frames:["d","q","p","b"]},weather:{interval:100,frames:["âï¸ ","âï¸ ","âï¸ ","ð¤ ","âï¸ ","ð¥ ","âï¸ ","ð§ ","ð¨ ","ð§ ","ð¨ ","ð§ ","ð¨ ","â ","ð¨ ","ð§ ","ð¨ ","âï¸ ","ð¥ ","âï¸ ","ð¤ ","âï¸ ","âï¸ "]},christmas:{interval:400,frames:["ð²","ð"]},grenade:{interval:80,frames:["Ø  ","â²  "," Â´ "," â¾ ","  â¸","  â¸","  |","  â","  â"," à·´ ","  â","   ","   ","   "]},point:{interval:125,frames:["âââ","âââ","âââ","âââ","âââ"]},layer:{interval:150,frames:["-","=","â¡"]},betaWave:{interval:80,frames:["ÏÎ²Î²Î²Î²Î²Î²","Î²ÏÎ²Î²Î²Î²Î²","Î²Î²ÏÎ²Î²Î²Î²","Î²Î²Î²ÏÎ²Î²Î²","Î²Î²Î²Î²ÏÎ²Î²","Î²Î²Î²Î²Î²ÏÎ²","Î²Î²Î²Î²Î²Î²Ï"]},fingerDance:{interval:160,frames:["ð¤ ","ð¤ ","ð ","â ","ð¤ ","ð "]},fistBump:{interval:80,frames:["ð¤ããããð¤ ","ð¤ããããð¤ ","ð¤ããããð¤ ","ãð¤ããð¤ã ","ããð¤ð¤ãã ","ãð¤â¨ð¤ãã ","ð¤ãâ¨ãð¤ã "]},soccerHeader:{interval:80,frames:[" ð§â½ï¸       ð§ ","ð§  â½ï¸      ð§ ","ð§   â½ï¸     ð§ ","ð§    â½ï¸    ð§ ","ð§     â½ï¸   ð§ ","ð§      â½ï¸  ð§ ","ð§       â½ï¸ð§  ","ð§      â½ï¸  ð§ ","ð§     â½ï¸   ð§ ","ð§    â½ï¸    ð§ ","ð§   â½ï¸     ð§ ","ð§  â½ï¸      ð§ "]},mindblown:{interval:160,frames:["ð ","ð ","ð® ","ð® ","ð¦ ","ð¦ ","ð§ ","ð§ ","ð¤¯ ","ð¥ ","â¨ ","ã ","ã ","ã "]},speaker:{interval:160,frames:["ð ","ð ","ð ","ð "]},orangePulse:{interval:100,frames:["ð¸ ","ð¶ ","ð  ","ð  ","ð¶ "]},bluePulse:{interval:100,frames:["ð¹ ","ð· ","ðµ ","ðµ ","ð· "]},orangeBluePulse:{interval:100,frames:["ð¸ ","ð¶ ","ð  ","ð  ","ð¶ ","ð¹ ","ð· ","ðµ ","ðµ ","ð· "]},timeTravel:{interval:100,frames:["ð ","ð ","ð ","ð ","ð ","ð ","ð ","ð ","ð ","ð ","ð ","ð "]},aesthetic:{interval:80,frames:["â°â±â±â±â±â±â±","â°â°â±â±â±â±â±","â°â°â°â±â±â±â±","â°â°â°â°â±â±â±","â°â°â°â°â°â±â±","â°â°â°â°â°â°â±","â°â°â°â°â°â°â°","â°â±â±â±â±â±â±"]},dwarfFortress:{interval:80,frames:[" ââââââÂ£Â£Â£  ","âºââââââÂ£Â£Â£  ","âºââââââÂ£Â£Â£  ","âºââââââÂ£Â£Â£  ","âºââââââÂ£Â£Â£  ","âºââââââÂ£Â£Â£  ","âºââââââÂ£Â£Â£  ","âºââââââÂ£Â£Â£  ","âºââââââÂ£Â£Â£  ","âº âââââÂ£Â£Â£  "," âºâââââÂ£Â£Â£  "," âºâââââÂ£Â£Â£  "," âºâââââÂ£Â£Â£  "," âºâââââÂ£Â£Â£  "," âºâââââÂ£Â£Â£  "," âºâââââÂ£Â£Â£  "," âºâââââÂ£Â£Â£  "," âºâââââÂ£Â£Â£  "," âº ââââÂ£Â£Â£  ","  âºââââÂ£Â£Â£  ","  âºââââÂ£Â£Â£  ","  âºââââÂ£Â£Â£  ","  âºââââÂ£Â£Â£  ","  âºââââÂ£Â£Â£  ","  âºââââÂ£Â£Â£  ","  âºââââÂ£Â£Â£  ","  âºââââÂ£Â£Â£  ","  âº âââÂ£Â£Â£  ","   âºâââÂ£Â£Â£  ","   âºâââÂ£Â£Â£  ","   âºâââÂ£Â£Â£  ","   âºâââÂ£Â£Â£  ","   âºâââÂ£Â£Â£  ","   âºâââÂ£Â£Â£  ","   âºâââÂ£Â£Â£  ","   âºâââÂ£Â£Â£  ","   âº ââÂ£Â£Â£  ","    âºââÂ£Â£Â£  ","    âºââÂ£Â£Â£  ","    âºââÂ£Â£Â£  ","    âºââÂ£Â£Â£  ","    âºââÂ£Â£Â£  ","    âºââÂ£Â£Â£  ","    âºââÂ£Â£Â£  ","    âºââÂ£Â£Â£  ","    âº âÂ£Â£Â£  ","     âºâÂ£Â£Â£  ","     âºâÂ£Â£Â£  ","     âºâÂ£Â£Â£  ","     âºâÂ£Â£Â£  ","     âºâÂ£Â£Â£  ","     âºâÂ£Â£Â£  ","     âºâÂ£Â£Â£  ","     âºâÂ£Â£Â£  ","     âº Â£Â£Â£  ","      âºÂ£Â£Â£  ","      âºÂ£Â£Â£  ","      âºâÂ£Â£  ","      âºâÂ£Â£  ","      âºâÂ£Â£  ","      âºâÂ£Â£  ","      âºâÂ£Â£  ","      âºâÂ£Â£  ","      âº Â£Â£  ","       âºÂ£Â£  ","       âºÂ£Â£  ","       âºâÂ£  ","       âºâÂ£  ","       âºâÂ£  ","       âºâÂ£  ","       âºâÂ£  ","       âºâÂ£  ","       âº Â£  ","        âºÂ£  ","        âºÂ£  ","        âºâ  ","        âºâ  ","        âºâ  ","        âºâ  ","        âºâ  ","        âºâ  ","        âº   ","        âº  &","        âº â¼&","       âº â¼ &","       âºâ¼  &","      âºâ¼  & ","      â¼   & ","     âº   &  ","    â¼    &  ","   âº    &   ","  â¼     &   "," âº     &    ","â¼      &    ","      &     ","      &     ","     &   â  ","     &   â  ","    &    â  ","    &    Â£  ","   &    âÂ£  ","   &    âÂ£  ","  &     âÂ£  ","  &     Â£Â£  "," &     âÂ£Â£  "," &     âÂ£Â£  ","&      âÂ£Â£  ","&      Â£Â£Â£  ","      âÂ£Â£Â£  ","      âÂ£Â£Â£  ","      âÂ£Â£Â£  ","      âÂ£Â£Â£  ","     ââÂ£Â£Â£  ","     ââÂ£Â£Â£  ","     ââÂ£Â£Â£  ","     ââÂ£Â£Â£  ","    âââÂ£Â£Â£  ","    âââÂ£Â£Â£  ","    âââÂ£Â£Â£  ","    âââÂ£Â£Â£  ","   ââââÂ£Â£Â£  ","   ââââÂ£Â£Â£  ","   ââââÂ£Â£Â£  ","   ââââÂ£Â£Â£  ","  âââââÂ£Â£Â£  ","  âââââÂ£Â£Â£  ","  âââââÂ£Â£Â£  ","  âââââÂ£Â£Â£  "," ââââââÂ£Â£Â£  "," ââââââÂ£Â£Â£  "," ââââââÂ£Â£Â£  "," ââââââÂ£Â£Â£  "," ââââââÂ£Â£Â£  "]}}),nc=Object.keys(_s);Object.defineProperty(_s,"random",{get(){const t=Math.floor(Math.random()*nc.length),e=nc[t];return _s[e]}});var Cv=_s;const vs=$t(Cv),Ds={info:"â¹ï¸",success:"â",warning:"â ï¸",error:"âï¸"},Sv=Ei();function oc(t){if(typeof t!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof t}\``);return t.replace(Sv,"")}function wv(t){return t===161||t===164||t===167||t===168||t===170||t===173||t===174||t>=176&&t<=180||t>=182&&t<=186||t>=188&&t<=191||t===198||t===208||t===215||t===216||t>=222&&t<=225||t===230||t>=232&&t<=234||t===236||t===237||t===240||t===242||t===243||t>=247&&t<=250||t===252||t===254||t===257||t===273||t===275||t===283||t===294||t===295||t===299||t>=305&&t<=307||t===312||t>=319&&t<=322||t===324||t>=328&&t<=331||t===333||t===338||t===339||t===358||t===359||t===363||t===462||t===464||t===466||t===468||t===470||t===472||t===474||t===476||t===593||t===609||t===708||t===711||t>=713&&t<=715||t===717||t===720||t>=728&&t<=731||t===733||t===735||t>=768&&t<=879||t>=913&&t<=929||t>=931&&t<=937||t>=945&&t<=961||t>=963&&t<=969||t===1025||t>=1040&&t<=1103||t===1105||t===8208||t>=8211&&t<=8214||t===8216||t===8217||t===8220||t===8221||t>=8224&&t<=8226||t>=8228&&t<=8231||t===8240||t===8242||t===8243||t===8245||t===8251||t===8254||t===8308||t===8319||t>=8321&&t<=8324||t===8364||t===8451||t===8453||t===8457||t===8467||t===8470||t===8481||t===8482||t===8486||t===8491||t===8531||t===8532||t>=8539&&t<=8542||t>=8544&&t<=8555||t>=8560&&t<=8569||t===8585||t>=8592&&t<=8601||t===8632||t===8633||t===8658||t===8660||t===8679||t===8704||t===8706||t===8707||t===8711||t===8712||t===8715||t===8719||t===8721||t===8725||t===8730||t>=8733&&t<=8736||t===8739||t===8741||t>=8743&&t<=8748||t===8750||t>=8756&&t<=8759||t===8764||t===8765||t===8776||t===8780||t===8786||t===8800||t===8801||t>=8804&&t<=8807||t===8810||t===8811||t===8814||t===8815||t===8834||t===8835||t===8838||t===8839||t===8853||t===8857||t===8869||t===8895||t===8978||t>=9312&&t<=9449||t>=9451&&t<=9547||t>=9552&&t<=9587||t>=9600&&t<=9615||t>=9618&&t<=9621||t===9632||t===9633||t>=9635&&t<=9641||t===9650||t===9651||t===9654||t===9655||t===9660||t===9661||t===9664||t===9665||t>=9670&&t<=9672||t===9675||t>=9678&&t<=9681||t>=9698&&t<=9701||t===9711||t===9733||t===9734||t===9737||t===9742||t===9743||t===9756||t===9758||t===9792||t===9794||t===9824||t===9825||t>=9827&&t<=9829||t>=9831&&t<=9834||t===9836||t===9837||t===9839||t===9886||t===9887||t===9919||t>=9926&&t<=9933||t>=9935&&t<=9939||t>=9941&&t<=9953||t===9955||t===9960||t===9961||t>=9963&&t<=9969||t===9972||t>=9974&&t<=9977||t===9979||t===9980||t===9982||t===9983||t===10045||t>=10102&&t<=10111||t>=11094&&t<=11097||t>=12872&&t<=12879||t>=57344&&t<=63743||t>=65024&&t<=65039||t===65533||t>=127232&&t<=127242||t>=127248&&t<=127277||t>=127280&&t<=127337||t>=127344&&t<=127373||t===127375||t===127376||t>=127387&&t<=127404||t>=917760&&t<=917999||t>=983040&&t<=1048573||t>=1048576&&t<=1114109}function Ev(t){return t===12288||t>=65281&&t<=65376||t>=65504&&t<=65510}function Fv(t){return t>=4352&&t<=4447||t===8986||t===8987||t===9001||t===9002||t>=9193&&t<=9196||t===9200||t===9203||t===9725||t===9726||t===9748||t===9749||t>=9800&&t<=9811||t===9855||t===9875||t===9889||t===9898||t===9899||t===9917||t===9918||t===9924||t===9925||t===9934||t===9940||t===9962||t===9970||t===9971||t===9973||t===9978||t===9981||t===9989||t===9994||t===9995||t===10024||t===10060||t===10062||t>=10067&&t<=10069||t===10071||t>=10133&&t<=10135||t===10160||t===10175||t===11035||t===11036||t===11088||t===11093||t>=11904&&t<=11929||t>=11931&&t<=12019||t>=12032&&t<=12245||t>=12272&&t<=12287||t>=12289&&t<=12350||t>=12353&&t<=12438||t>=12441&&t<=12543||t>=12549&&t<=12591||t>=12593&&t<=12686||t>=12688&&t<=12771||t>=12783&&t<=12830||t>=12832&&t<=12871||t>=12880&&t<=19903||t>=19968&&t<=42124||t>=42128&&t<=42182||t>=43360&&t<=43388||t>=44032&&t<=55203||t>=63744&&t<=64255||t>=65040&&t<=65049||t>=65072&&t<=65106||t>=65108&&t<=65126||t>=65128&&t<=65131||t>=94176&&t<=94180||t===94192||t===94193||t>=94208&&t<=100343||t>=100352&&t<=101589||t>=101632&&t<=101640||t>=110576&&t<=110579||t>=110581&&t<=110587||t===110589||t===110590||t>=110592&&t<=110882||t===110898||t>=110928&&t<=110930||t===110933||t>=110948&&t<=110951||t>=110960&&t<=111355||t===126980||t===127183||t===127374||t>=127377&&t<=127386||t>=127488&&t<=127490||t>=127504&&t<=127547||t>=127552&&t<=127560||t===127568||t===127569||t>=127584&&t<=127589||t>=127744&&t<=127776||t>=127789&&t<=127797||t>=127799&&t<=127868||t>=127870&&t<=127891||t>=127904&&t<=127946||t>=127951&&t<=127955||t>=127968&&t<=127984||t===127988||t>=127992&&t<=128062||t===128064||t>=128066&&t<=128252||t>=128255&&t<=128317||t>=128331&&t<=128334||t>=128336&&t<=128359||t===128378||t===128405||t===128406||t===128420||t>=128507&&t<=128591||t>=128640&&t<=128709||t===128716||t>=128720&&t<=128722||t>=128725&&t<=128727||t>=128732&&t<=128735||t===128747||t===128748||t>=128756&&t<=128764||t>=128992&&t<=129003||t===129008||t>=129292&&t<=129338||t>=129340&&t<=129349||t>=129351&&t<=129535||t>=129648&&t<=129660||t>=129664&&t<=129672||t>=129680&&t<=129725||t>=129727&&t<=129733||t>=129742&&t<=129755||t>=129760&&t<=129768||t>=129776&&t<=129784||t>=131072&&t<=196605||t>=196608&&t<=262141}function Av(t){if(!Number.isSafeInteger(t))throw new TypeError(`Expected a code point, got \`${typeof t}\`.`)}function xv(t,{ambiguousAsWide:e=!1}={}){return Av(t),Ev(t)||Fv(t)||e&&wv(t)?2:1}const Bv=()=>/[#*0-9]\uFE0F?\u20E3|[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23ED-\u23EF\u23F1\u23F2\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB\u25FC\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692\u2694-\u2697\u2699\u269B\u269C\u26A0\u26A7\u26AA\u26B0\u26B1\u26BD\u26BE\u26C4\u26C8\u26CF\u26D1\u26E9\u26F0-\u26F5\u26F7\u26F8\u26FA\u2702\u2708\u2709\u270F\u2712\u2714\u2716\u271D\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B55\u3030\u303D\u3297\u3299]\uFE0F?|[\u261D\u270C\u270D](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\u270A\u270B](?:\uD83C[\uDFFB-\uDFFF])?|[\u23E9-\u23EC\u23F0\u23F3\u25FD\u2693\u26A1\u26AB\u26C5\u26CE\u26D4\u26EA\u26FD\u2705\u2728\u274C\u274E\u2753-\u2755\u2795-\u2797\u27B0\u27BF\u2B50]|\u26D3\uFE0F?(?:\u200D\uD83D\uDCA5)?|\u26F9(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\u2764\uFE0F?(?:\u200D(?:\uD83D\uDD25|\uD83E\uDE79))?|\uD83C(?:[\uDC04\uDD70\uDD71\uDD7E\uDD7F\uDE02\uDE37\uDF21\uDF24-\uDF2C\uDF36\uDF7D\uDF96\uDF97\uDF99-\uDF9B\uDF9E\uDF9F\uDFCD\uDFCE\uDFD4-\uDFDF\uDFF5\uDFF7]\uFE0F?|[\uDF85\uDFC2\uDFC7](?:\uD83C[\uDFFB-\uDFFF])?|[\uDFC4\uDFCA](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDFCB\uDFCC](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDCCF\uDD8E\uDD91-\uDD9A\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF43\uDF45-\uDF4A\uDF4C-\uDF7C\uDF7E-\uDF84\uDF86-\uDF93\uDFA0-\uDFC1\uDFC5\uDFC6\uDFC8\uDFC9\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF8-\uDFFF]|\uDDE6\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF]|\uDDE7\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF]|\uDDE8\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF]|\uDDE9\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF]|\uDDEA\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA]|\uDDEB\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7]|\uDDEC\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE]|\uDDED\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA]|\uDDEE\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9]|\uDDEF\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5]|\uDDF0\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF]|\uDDF1\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE]|\uDDF2\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF]|\uDDF3\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF]|\uDDF4\uD83C\uDDF2|\uDDF5\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE]|\uDDF6\uD83C\uDDE6|\uDDF7\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC]|\uDDF8\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF]|\uDDF9\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF]|\uDDFA\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF]|\uDDFB\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA]|\uDDFC\uD83C[\uDDEB\uDDF8]|\uDDFD\uD83C\uDDF0|\uDDFE\uD83C[\uDDEA\uDDF9]|\uDDFF\uD83C[\uDDE6\uDDF2\uDDFC]|\uDF44(?:\u200D\uD83D\uDFEB)?|\uDF4B(?:\u200D\uD83D\uDFE9)?|\uDFC3(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDFF3\uFE0F?(?:\u200D(?:\u26A7\uFE0F?|\uD83C\uDF08))?|\uDFF4(?:\u200D\u2620\uFE0F?|\uDB40\uDC67\uDB40\uDC62\uDB40(?:\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDC73\uDB40\uDC63\uDB40\uDC74|\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F)?)|\uD83D(?:[\uDC3F\uDCFD\uDD49\uDD4A\uDD6F\uDD70\uDD73\uDD76-\uDD79\uDD87\uDD8A-\uDD8D\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA\uDECB\uDECD-\uDECF\uDEE0-\uDEE5\uDEE9\uDEF0\uDEF3]\uFE0F?|[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDC8F\uDC91\uDCAA\uDD7A\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC](?:\uD83C[\uDFFB-\uDFFF])?|[\uDC6E\uDC70\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4\uDEB5](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD74\uDD90](?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?|[\uDC00-\uDC07\uDC09-\uDC14\uDC16-\uDC25\uDC27-\uDC3A\uDC3C-\uDC3E\uDC40\uDC44\uDC45\uDC51-\uDC65\uDC6A\uDC79-\uDC7B\uDC7D-\uDC80\uDC84\uDC88-\uDC8E\uDC90\uDC92-\uDCA9\uDCAB-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDDA4\uDDFB-\uDE2D\uDE2F-\uDE34\uDE37-\uDE41\uDE43\uDE44\uDE48-\uDE4A\uDE80-\uDEA2\uDEA4-\uDEB3\uDEB7-\uDEBF\uDEC1-\uDEC5\uDED0-\uDED2\uDED5-\uDED7\uDEDC-\uDEDF\uDEEB\uDEEC\uDEF4-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uDC08(?:\u200D\u2B1B)?|\uDC15(?:\u200D\uD83E\uDDBA)?|\uDC26(?:\u200D(?:\u2B1B|\uD83D\uDD25))?|\uDC3B(?:\u200D\u2744\uFE0F?)?|\uDC41\uFE0F?(?:\u200D\uD83D\uDDE8\uFE0F?)?|\uDC68(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDC68\uDC69]\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?)|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?\uDC68\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D\uDC68\uD83C[\uDFFB-\uDFFE])))?))?|\uDC69(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:\uDC8B\u200D\uD83D)?[\uDC68\uDC69]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D(?:[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?|\uDC69\u200D\uD83D(?:\uDC66(?:\u200D\uD83D\uDC66)?|\uDC67(?:\u200D\uD83D[\uDC66\uDC67])?))|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFC-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFD-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFD\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D\uD83D(?:[\uDC68\uDC69]|\uDC8B\u200D\uD83D[\uDC68\uDC69])\uD83C[\uDFFB-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83D[\uDC68\uDC69]\uD83C[\uDFFB-\uDFFE])))?))?|\uDC6F(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDD75(?:\uFE0F|\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|\uDE2E(?:\u200D\uD83D\uDCA8)?|\uDE35(?:\u200D\uD83D\uDCAB)?|\uDE36(?:\u200D\uD83C\uDF2B\uFE0F?)?|\uDE42(?:\u200D[\u2194\u2195]\uFE0F?)?|\uDEB6(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?)|\uD83E(?:[\uDD0C\uDD0F\uDD18-\uDD1F\uDD30-\uDD34\uDD36\uDD77\uDDB5\uDDB6\uDDBB\uDDD2\uDDD3\uDDD5\uDEC3-\uDEC5\uDEF0\uDEF2-\uDEF8](?:\uD83C[\uDFFB-\uDFFF])?|[\uDD26\uDD35\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD\uDDCF\uDDD4\uDDD6-\uDDDD](?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDDDE\uDDDF](?:\u200D[\u2640\u2642]\uFE0F?)?|[\uDD0D\uDD0E\uDD10-\uDD17\uDD20-\uDD25\uDD27-\uDD2F\uDD3A\uDD3F-\uDD45\uDD47-\uDD76\uDD78-\uDDB4\uDDB7\uDDBA\uDDBC-\uDDCC\uDDD0\uDDE0-\uDDFF\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC2\uDECE-\uDEDB\uDEE0-\uDEE8]|\uDD3C(?:\u200D[\u2640\u2642]\uFE0F?|\uD83C[\uDFFB-\uDFFF])?|\uDDCE(?:\uD83C[\uDFFB-\uDFFF])?(?:\u200D(?:[\u2640\u2642]\uFE0F?(?:\u200D\u27A1\uFE0F?)?|\u27A1\uFE0F?))?|\uDDD1(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1|\uDDD1\u200D\uD83E\uDDD2(?:\u200D\uD83E\uDDD2)?|\uDDD2(?:\u200D\uD83E\uDDD2)?))|\uD83C(?:\uDFFB(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFC-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFC(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFD-\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFD(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFE(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFD\uDFFF]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?|\uDFFF(?:\u200D(?:[\u2695\u2696\u2708]\uFE0F?|\u2764\uFE0F?\u200D(?:\uD83D\uDC8B\u200D)?\uD83E\uDDD1\uD83C[\uDFFB-\uDFFE]|\uD83C[\uDF3E\uDF73\uDF7C\uDF84\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E(?:[\uDDAF\uDDBC\uDDBD](?:\u200D\u27A1\uFE0F?)?|[\uDDB0-\uDDB3]|\uDD1D\u200D\uD83E\uDDD1\uD83C[\uDFFB-\uDFFF])))?))?|\uDEF1(?:\uD83C(?:\uDFFB(?:\u200D\uD83E\uDEF2\uD83C[\uDFFC-\uDFFF])?|\uDFFC(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFD-\uDFFF])?|\uDFFD(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])?|\uDFFE(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFD\uDFFF])?|\uDFFF(?:\u200D\uD83E\uDEF2\uD83C[\uDFFB-\uDFFE])?))?)/g,kv=new Intl.Segmenter,Ov=new RegExp("^\\p{Default_Ignorable_Code_Point}$","u");function ac(t,e={}){if(typeof t!="string"||t.length===0)return 0;const{ambiguousIsNarrow:r=!0,countAnsiEscapeCodes:n=!1}=e;if(n||(t=oc(t)),t.length===0)return 0;let o=0;const h={ambiguousAsWide:!r};for(const{segment:p}of kv.segment(t)){const s=p.codePointAt(0);if(!(s<=31||s>=127&&s<=159)&&!(s>=8203&&s<=8207||s===65279)&&!(s>=768&&s<=879||s>=6832&&s<=6911||s>=7616&&s<=7679||s>=8400&&s<=8447||s>=65056&&s<=65071)&&!(s>=55296&&s<=57343)&&!(s>=65024&&s<=65039)&&!Ov.test(p)){if(Bv().test(p)){o+=2;continue}o+=xv(s,h)}}return o}function Rv({stream:t=oe.stdout}={}){return!!(t&&t.isTTY&&oe.env.TERM!=="dumb"&&!("CI"in oe.env))}function Pv(){return oe.platform!=="win32"?oe.env.TERM!=="linux":!!oe.env.WT_SESSION||!!oe.env.TERMINUS_SUBLIME||oe.env.ConEmuTask==="{cmd::Cmder}"||oe.env.TERM_PROGRAM==="Terminus-Sublime"||oe.env.TERM_PROGRAM==="vscode"||oe.env.TERM==="xterm-256color"||oe.env.TERM==="alacritty"||oe.env.TERMINAL_EMULATOR==="JetBrains-JediTerm"}const Lv=3;class Tv{constructor(){Ye(this,Wt);Ye(this,Yt,0)}start(){ws(this,Yt)._++,ue(this,Yt)===1&&ct(this,Wt,bd).call(this)}stop(){if(ue(this,Yt)<=0)throw new Error("`stop` called more times than `start`");ws(this,Yt)._--,ue(this,Yt)===0&&ct(this,Wt,Cd).call(this)}}Yt=new WeakMap,Wt=new WeakSet,bd=function(){oe.platform==="win32"||!oe.stdin.isTTY||(oe.stdin.setRawMode(!0),oe.stdin.on("data",ct(this,Wt,tu)),oe.stdin.resume())},Cd=function(){oe.stdin.isTTY&&(oe.stdin.off("data",ct(this,Wt,tu)),oe.stdin.pause(),oe.stdin.setRawMode(!1))},tu=function(e){e[0]===Lv&&oe.emit("SIGINT")};const uc=new Tv;class Iv{constructor(e){Ye(this,ht);Ye(this,Jt,0);Ye(this,Ur,!1);Ye(this,yr,0);Ye(this,Ut,0);Ye(this,Ge);Ye(this,kt);Ye(this,et);Ye(this,br);Ye(this,$r);Ye(this,Ot);Ye(this,Rt);Ye(this,Pt);Ye(this,qr);Ye(this,bt);Ye(this,Ct);zr(this,"color");typeof e=="string"&&(e={text:e}),Ae(this,Ge,{color:"cyan",stream:oe.stderr,discardStdin:!0,hideCursor:!0,...e}),this.color=ue(this,Ge).color,this.spinner=ue(this,Ge).spinner,Ae(this,$r,ue(this,Ge).interval),Ae(this,et,ue(this,Ge).stream),Ae(this,Ot,typeof ue(this,Ge).isEnabled=="boolean"?ue(this,Ge).isEnabled:Rv({stream:ue(this,et)})),Ae(this,Rt,typeof ue(this,Ge).isSilent=="boolean"?ue(this,Ge).isSilent:!1),this.text=ue(this,Ge).text,this.prefixText=ue(this,Ge).prefixText,this.suffixText=ue(this,Ge).suffixText,this.indent=ue(this,Ge).indent,oe.env.NODE_ENV==="test"&&(this._stream=ue(this,et),this._isEnabled=ue(this,Ot),Object.defineProperty(this,"_linesToClear",{get(){return ue(this,Jt)},set(r){Ae(this,Jt,r)}}),Object.defineProperty(this,"_frameIndex",{get(){return ue(this,Ut)}}),Object.defineProperty(this,"_lineCount",{get(){return ue(this,yr)}}))}get indent(){return ue(this,Pt)}set indent(e=0){if(!(e>=0&&Number.isInteger(e)))throw new Error("The `indent` option must be an integer from 0 and up");Ae(this,Pt,e),ct(this,ht,wi).call(this)}get interval(){return ue(this,$r)??ue(this,kt).interval??100}get spinner(){return ue(this,kt)}set spinner(e){if(Ae(this,Ut,0),Ae(this,$r,void 0),typeof e=="object"){if(e.frames===void 0)throw new Error("The given spinner must have a `frames` property");Ae(this,kt,e)}else if(!Pv())Ae(this,kt,vs.line);else if(e===void 0)Ae(this,kt,vs.dots);else if(e!=="default"&&vs[e])Ae(this,kt,vs[e]);else throw new Error(`There is no built-in spinner named '${e}'. See https://github.com/sindresorhus/cli-spinners/blob/main/spinners.json for a full list.`)}get text(){return ue(this,qr)}set text(e=""){Ae(this,qr,e),ct(this,ht,wi).call(this)}get prefixText(){return ue(this,bt)}set prefixText(e=""){Ae(this,bt,e),ct(this,ht,wi).call(this)}get suffixText(){return ue(this,Ct)}set suffixText(e=""){Ae(this,Ct,e),ct(this,ht,wi).call(this)}get isSpinning(){return ue(this,br)!==void 0}get isEnabled(){return ue(this,Ot)&&!ue(this,Rt)}set isEnabled(e){if(typeof e!="boolean")throw new TypeError("The `isEnabled` option must be a boolean");Ae(this,Ot,e)}get isSilent(){return ue(this,Rt)}set isSilent(e){if(typeof e!="boolean")throw new TypeError("The `isSilent` option must be a boolean");Ae(this,Rt,e)}frame(){const{frames:e}=ue(this,kt);let r=e[ue(this,Ut)];this.color&&(r=Jr[this.color](r)),Ae(this,Ut,++ws(this,Ut)._%e.length);const n=typeof ue(this,bt)=="string"&&ue(this,bt)!==""?ue(this,bt)+" ":"",o=typeof this.text=="string"?" "+this.text:"",h=typeof ue(this,Ct)=="string"&&ue(this,Ct)!==""?" "+ue(this,Ct):"";return n+r+o+h}clear(){if(!ue(this,Ot)||!ue(this,et).isTTY)return this;ue(this,et).cursorTo(0);for(let e=0;e<ue(this,Jt);e++)e>0&&ue(this,et).moveCursor(0,-1),ue(this,et).clearLine(1);return(ue(this,Pt)||this.lastIndent!==ue(this,Pt))&&ue(this,et).cursorTo(ue(this,Pt)),this.lastIndent=ue(this,Pt),Ae(this,Jt,0),this}render(){return ue(this,Rt)?this:(this.clear(),ue(this,et).write(this.frame()),Ae(this,Jt,ue(this,yr)),this)}start(e){return e&&(this.text=e),ue(this,Rt)?this:ue(this,Ot)?this.isSpinning?this:(ue(this,Ge).hideCursor&&gr.hide(ue(this,et)),ue(this,Ge).discardStdin&&oe.stdin.isTTY&&(Ae(this,Ur,!0),uc.start()),this.render(),Ae(this,br,setInterval(this.render.bind(this),this.interval)),this):(this.text&&ue(this,et).write(`- ${this.text}
`),this)}stop(){return ue(this,Ot)?(clearInterval(ue(this,br)),Ae(this,br,void 0),Ae(this,Ut,0),this.clear(),ue(this,Ge).hideCursor&&gr.show(ue(this,et)),ue(this,Ge).discardStdin&&oe.stdin.isTTY&&ue(this,Ur)&&(uc.stop(),Ae(this,Ur,!1)),this):this}succeed(e){return this.stopAndPersist({symbol:Ds.success,text:e})}fail(e){return this.stopAndPersist({symbol:Ds.error,text:e})}warn(e){return this.stopAndPersist({symbol:Ds.warning,text:e})}info(e){return this.stopAndPersist({symbol:Ds.info,text:e})}stopAndPersist(e={}){if(ue(this,Rt))return this;const r=e.prefixText??ue(this,bt),n=ct(this,ht,ru).call(this,r," "),o=e.symbol??" ",h=e.text??this.text,p=typeof h=="string"?" "+h:"",s=e.suffixText??ue(this,Ct),l=ct(this,ht,iu).call(this,s," "),c=n+o+p+l+`
`;return this.stop(),ue(this,et).write(c),this}}Jt=new WeakMap,Ur=new WeakMap,yr=new WeakMap,Ut=new WeakMap,Ge=new WeakMap,kt=new WeakMap,et=new WeakMap,br=new WeakMap,$r=new WeakMap,Ot=new WeakMap,Rt=new WeakMap,Pt=new WeakMap,qr=new WeakMap,bt=new WeakMap,Ct=new WeakMap,ht=new WeakSet,ru=function(e=ue(this,bt),r=" "){return typeof e=="string"&&e!==""?e+r:typeof e=="function"?e()+r:""},iu=function(e=ue(this,Ct),r=" "){return typeof e=="string"&&e!==""?r+e:typeof e=="function"?r+e():""},wi=function(){const e=ue(this,et).columns??80,r=ct(this,ht,ru).call(this,ue(this,bt),"-"),n=ct(this,ht,iu).call(this,ue(this,Ct),"-"),o=" ".repeat(ue(this,Pt))+r+"--"+ue(this,qr)+"--"+n;Ae(this,yr,0);for(const h of oc(o).split(`
`))Ae(this,yr,ue(this,yr)+Math.max(1,Math.ceil(ac(h,{countAnsiEscapeCodes:!0})/e)))};function Mv(t){return new Iv(t)}async function lc(t,e){switch(e.conclusion?e.conclusion:"succeed"){case"succeed":await t.succeed();break;case"fail":await t.fail();break;case"stop":await t.stop();break}}class jv{constructor(e,r,n){this.etaBufferLength=e||100,this.valueBuffer=[n],this.timeBuffer=[r],this.eta="0"}update(e,r,n){this.valueBuffer.push(r),this.timeBuffer.push(e),this.calculate(n-r)}getTime(){return this.eta}calculate(e){const r=this.valueBuffer.length,n=Math.min(this.etaBufferLength,r),o=this.valueBuffer[r-1]-this.valueBuffer[r-n],h=this.timeBuffer[r-1]-this.timeBuffer[r-n],p=o/h;this.valueBuffer=this.valueBuffer.slice(-this.etaBufferLength),this.timeBuffer=this.timeBuffer.slice(-this.etaBufferLength);const s=Math.ceil(e/p/1e3);isNaN(s)?this.eta="NULL":isFinite(s)?s>1e7?this.eta="INF":s<0?this.eta=0:this.eta=s:this.eta="INF"}}var Hv=jv,Nv=null;const hc=Sd(Object.freeze(Object.defineProperty({__proto__:null,default:Nv},Symbol.toStringTag,{value:"Module"}))),mr=hc;var cc=class{constructor(e){this.stream=e,this.linewrap=!0,this.dy=0}cursorSave(){this.stream.isTTY&&this.stream.write("\x1B7")}cursorRestore(){this.stream.isTTY&&this.stream.write("\x1B8")}cursor(e){this.stream.isTTY&&(e?this.stream.write("\x1B[?25h"):this.stream.write("\x1B[?25l"))}cursorTo(e=null,r=null){this.stream.isTTY&&mr.cursorTo(this.stream,e,r)}cursorRelative(e=null,r=null){this.stream.isTTY&&(this.dy=this.dy+r,mr.moveCursor(this.stream,e,r))}cursorRelativeReset(){this.stream.isTTY&&(mr.moveCursor(this.stream,0,-this.dy),mr.cursorTo(this.stream,0,null),this.dy=0)}clearRight(){this.stream.isTTY&&mr.clearLine(this.stream,1)}clearLine(){this.stream.isTTY&&mr.clearLine(this.stream,0)}clearBottom(){this.stream.isTTY&&mr.clearScreenDown(this.stream)}newline(){this.stream.write(`
`),this.dy++}write(e,r=!1){this.linewrap===!0&&r===!1?this.stream.write(e.substr(0,this.getWidth())):this.stream.write(e)}lineWrapping(e){this.stream.isTTY&&(this.linewrap=e,e?this.stream.write("\x1B[?7h"):this.stream.write("\x1B[?7l"))}isTTY(){return this.stream.isTTY===!0}getWidth(){return this.stream.columns||(this.stream.isTTY?80:200)}},Mo={exports:{}},Wv=({onlyFirst:t=!1}={})=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")};const Uv=Wv;var $v=t=>typeof t=="string"?t.replace(Uv(),""):t,jo={exports:{}};const fc=t=>Number.isNaN(t)?!1:t>=4352&&(t<=4447||t===9001||t===9002||11904<=t&&t<=12871&&t!==12351||12880<=t&&t<=19903||19968<=t&&t<=42182||43360<=t&&t<=43388||44032<=t&&t<=55203||63744<=t&&t<=64255||65040<=t&&t<=65049||65072<=t&&t<=65131||65281<=t&&t<=65376||65504<=t&&t<=65510||110592<=t&&t<=110593||127488<=t&&t<=127569||131072<=t&&t<=262141);jo.exports=fc,jo.exports.default=fc;var dc=jo.exports,pc=function(){return/\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73)\uDB40\uDC7F|\uD83D\uDC68(?:\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68\uD83C\uDFFB|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFE])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D[\uDC68\uDC69])\u200D(?:\uD83D[\uDC66\uDC67])|[\u2695\u2696\u2708]\uFE0F|\uD83D[\uDC66\uDC67]|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|(?:\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708])\uFE0F|\uD83C\uDFFB\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C[\uDFFB-\uDFFF])|(?:\uD83E\uDDD1\uD83C\uDFFB\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)\uD83C\uDFFB|\uD83E\uDDD1(?:\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1)|(?:\uD83E\uDDD1\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFF\u200D\uD83E\uDD1D\u200D(?:\uD83D[\uDC68\uDC69]))(?:\uD83C[\uDFFB-\uDFFE])|(?:\uD83E\uDDD1\uD83C\uDFFC\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB\uDFFC])|\uD83D\uDC69(?:\uD83C\uDFFE\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB-\uDFFD\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFC\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFD-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFB\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFC-\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFD\u200D(?:\uD83E\uDD1D\u200D\uD83D\uDC68(?:\uD83C[\uDFFB\uDFFC\uDFFE\uDFFF])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD])|\uD83C\uDFFF\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\uD83E[\uDDAF-\uDDB3\uDDBC\uDDBD]))|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67]))|(?:\uD83E\uDDD1\uD83C\uDFFD\u200D\uD83E\uDD1D\u200D\uD83E\uDDD1|\uD83D\uDC69\uD83C\uDFFE\u200D\uD83E\uDD1D\u200D\uD83D\uDC69)(?:\uD83C[\uDFFB-\uDFFD])|\uD83D\uDC69\u200D\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC69\u200D(?:\uD83D[\uDC66\uDC67])|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C\uDFFF\u200D[\u2695\u2696\u2708]|\uD83C\uDFFE\u200D[\u2695\u2696\u2708]|\uD83C\uDFFC\u200D[\u2695\u2696\u2708]|\uD83C\uDFFB\u200D[\u2695\u2696\u2708]|\uD83C\uDFFD\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708])|(?:(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)\uFE0F|\uD83D\uDC6F|\uD83E[\uDD3C\uDDDE\uDDDF])\u200D[\u2640\u2642]|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642]|\u200D[\u2640\u2642])|\uD83C\uDFF4\u200D\u2620)\uFE0F|\uD83D\uDC69\u200D\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|\uD83D\uDC15\u200D\uD83E\uDDBA|\uD83D\uDC69\u200D\uD83D\uDC66|\uD83D\uDC69\u200D\uD83D\uDC67|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDF6\uD83C\uDDE6|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83E\uDDD1(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDB8\uDDB9\uDDCD-\uDDCF\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC6B-\uDC6D\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDB5\uDDB6\uDDBB\uDDD2-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDED5\uDEEB\uDEEC\uDEF4-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFA\uDFE0-\uDFEB]|\uD83E[\uDD0D-\uDD3A\uDD3C-\uDD45\uDD47-\uDD71\uDD73-\uDD76\uDD7A-\uDDA2\uDDA5-\uDDAA\uDDAE-\uDDCA\uDDCD-\uDDFF\uDE70-\uDE73\uDE78-\uDE7A\uDE80-\uDE82\uDE90-\uDE95])\uFE0F|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDC8F\uDC91\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD0F\uDD18-\uDD1F\uDD26\uDD30-\uDD39\uDD3C-\uDD3E\uDDB5\uDDB6\uDDB8\uDDB9\uDDBB\uDDCD-\uDDCF\uDDD1-\uDDDD])/g};const qv=$v,zv=dc,Gv=pc,gc=t=>{if(typeof t!="string"||t.length===0||(t=qv(t),t.length===0))return 0;t=t.replace(Gv(),"  ");let e=0;for(let r=0;r<t.length;r++){const n=t.codePointAt(r);n<=31||n>=127&&n<=159||n>=768&&n<=879||(n>65535&&r++,e+=zv(n)?2:1)}return e};Mo.exports=gc,Mo.exports.default=gc;var Vv=Mo.exports,mc=function(e,r,n){if(r.autopadding!==!0)return e;function o(h,p){return(r.autopaddingChar+h).slice(-p)}switch(n){case"percentage":return o(e,3);default:return e}},_c=function(e,r){const n=Math.round(e*r.barsize),o=r.barsize-n;return r.barCompleteString.substr(0,n)+r.barGlue+r.barIncompleteString.substr(0,o)},vc=function(e,r,n){function o(p){return n?n*Math.round(p/n):p}function h(p){return(r.autopaddingChar+p).slice(-2)}return e>3600?h(Math.floor(e/3600))+"h"+h(o(e%3600/60))+"m":e>60?h(Math.floor(e/60))+"m"+h(o(e%60))+"s":e>10?h(o(e))+"s":h(e)+"s"};const Kv=Vv,Yv=mc,Jv=_c,Xv=vc;var Dc=function(e,r,n){let o=e.format;const h=e.formatTime||Xv,p=e.formatValue||Yv,s=e.formatBar||Jv,l=Math.floor(r.progress*100)+"",c=r.stopTime||Date.now(),a=Math.round((c-r.startTime)/1e3),f=Object.assign({},n,{bar:s(r.progress,e),percentage:p(l,e,"percentage"),total:p(r.total,e,"total"),value:p(r.value,e,"value"),eta:p(r.eta,e,"eta"),eta_formatted:h(r.eta,e,5),duration:p(a,e,"duration"),duration_formatted:h(a,e,1)});o=o.replace(/\{(\w+)\}/g,function(m,D){return typeof f[D]<"u"?f[D]:m});const i=Math.max(0,r.maxWidth-Kv(o)-2),d=Math.floor(i/2);switch(e.align){case"right":o=i>0?" ".repeat(i)+o:o;break;case"center":o=d>0?" ".repeat(d)+o:o;break}return o};function ke(t,e){return typeof t>"u"||t===null?e:t}var Ho={parse:function(e,r){const n={},o=Object.assign({},r,e);return n.throttleTime=1e3/ke(o.fps,10),n.stream=ke(o.stream,oe.stderr),n.terminal=ke(o.terminal,null),n.clearOnComplete=ke(o.clearOnComplete,!1),n.stopOnComplete=ke(o.stopOnComplete,!1),n.barsize=ke(o.barsize,40),n.align=ke(o.align,"left"),n.hideCursor=ke(o.hideCursor,!1),n.linewrap=ke(o.linewrap,!1),n.barGlue=ke(o.barGlue,""),n.barCompleteChar=ke(o.barCompleteChar,"="),n.barIncompleteChar=ke(o.barIncompleteChar,"-"),n.format=ke(o.format,"progress [{bar}] {percentage}% | ETA: {eta}s | {value}/{total}"),n.formatTime=ke(o.formatTime,null),n.formatValue=ke(o.formatValue,null),n.formatBar=ke(o.formatBar,null),n.etaBufferLength=ke(o.etaBuffer,10),n.etaAsynchronousUpdate=ke(o.etaAsynchronousUpdate,!1),n.progressCalculationRelative=ke(o.progressCalculationRelative,!1),n.synchronousUpdate=ke(o.synchronousUpdate,!0),n.noTTYOutput=ke(o.noTTYOutput,!1),n.notTTYSchedule=ke(o.notTTYSchedule,2e3),n.emptyOnZero=ke(o.emptyOnZero,!1),n.forceRedraw=ke(o.forceRedraw,!1),n.autopadding=ke(o.autopadding,!1),n.gracefulExit=ke(o.gracefulExit,!1),n},assignDerivedOptions:function(e){return e.barCompleteString=e.barCompleteChar.repeat(e.barsize+1),e.barIncompleteString=e.barIncompleteChar.repeat(e.barsize+1),e.autopaddingChar=e.autopadding?ke(e.autopaddingChar,"   "):"",e}};const yc=Hv,Zv=cc,Qv=Dc,eD=Ho,tD=_i;var bc=class extends tD{constructor(e){super(),this.options=eD.assignDerivedOptions(e),this.terminal=this.options.terminal?this.options.terminal:new Zv(this.options.stream),this.value=0,this.startValue=0,this.total=100,this.lastDrawnString=null,this.startTime=null,this.stopTime=null,this.lastRedraw=Date.now(),this.eta=new yc(this.options.etaBufferLength,0,0),this.payload={},this.isActive=!1,this.formatter=typeof this.options.format=="function"?this.options.format:Qv}render(e=!1){const r={progress:this.getProgress(),eta:this.eta.getTime(),startTime:this.startTime,stopTime:this.stopTime,total:this.total,value:this.value,maxWidth:this.terminal.getWidth()};this.options.etaAsynchronousUpdate&&this.updateETA();const n=this.formatter(this.options,r,this.payload);(e||this.options.forceRedraw||this.options.noTTYOutput&&!this.terminal.isTTY()||this.lastDrawnString!=n)&&(this.emit("redraw-pre"),this.terminal.cursorTo(0,null),this.terminal.write(n),this.terminal.clearRight(),this.lastDrawnString=n,this.lastRedraw=Date.now(),this.emit("redraw-post"))}start(e,r,n){this.value=r||0,this.total=typeof e<"u"&&e>=0?e:100,this.startValue=r||0,this.payload=n||{},this.startTime=Date.now(),this.stopTime=null,this.lastDrawnString="",this.eta=new yc(this.options.etaBufferLength,this.startTime,this.value),this.isActive=!0,this.emit("start",e,r)}stop(){this.isActive=!1,this.stopTime=Date.now(),this.emit("stop",this.total,this.value)}update(e,r={}){typeof e=="number"&&(this.value=e,this.eta.update(Date.now(),e,this.total));const n=(typeof e=="object"?e:r)||{};this.emit("update",this.total,this.value);for(const o in n)this.payload[o]=n[o];this.value>=this.getTotal()&&this.options.stopOnComplete&&this.stop()}getProgress(){let e=this.value/this.total;return this.options.progressCalculationRelative&&(e=(this.value-this.startValue)/(this.total-this.startValue)),isNaN(e)&&(e=this.options&&this.options.emptyOnZero?0:1),e=Math.min(Math.max(e,0),1),e}increment(e=1,r={}){typeof e=="object"?this.update(this.value+1,e):this.update(this.value+e,r)}getTotal(){return this.total}setTotal(e){typeof e<"u"&&e>=0&&(this.total=e)}updateETA(){this.eta.update(Date.now(),this.value,this.total)}};const rD=bc,iD=Ho;var sD=class extends rD{constructor(e,r){super(iD.parse(e,r)),this.timer=null,this.options.noTTYOutput&&this.terminal.isTTY()===!1&&(this.options.synchronousUpdate=!1),this.schedulingRate=this.terminal.isTTY()?this.options.throttleTime:this.options.notTTYSchedule,this.sigintCallback=null}render(){this.timer&&(clearTimeout(this.timer),this.timer=null),super.render(),this.options.noTTYOutput&&this.terminal.isTTY()===!1&&this.terminal.newline(),this.timer=setTimeout(this.render.bind(this),this.schedulingRate)}update(e,r){this.timer&&(super.update(e,r),this.options.synchronousUpdate&&this.lastRedraw+this.options.throttleTime*2<Date.now()&&this.render())}start(e,r,n){this.options.noTTYOutput===!1&&this.terminal.isTTY()===!1||(this.sigintCallback===null&&this.options.gracefulExit&&(this.sigintCallback=this.stop.bind(this),oe.once("SIGINT",this.sigintCallback),oe.once("SIGTERM",this.sigintCallback)),this.terminal.cursorSave(),this.options.hideCursor===!0&&this.terminal.cursor(!1),this.options.linewrap===!1&&this.terminal.lineWrapping(!1),super.start(e,r,n),this.render())}stop(){this.timer&&(this.sigintCallback&&(oe.removeListener("SIGINT",this.sigintCallback),oe.removeListener("SIGTERM",this.sigintCallback),this.sigintCallback=null),this.render(),super.stop(),clearTimeout(this.timer),this.timer=null,this.options.hideCursor===!0&&this.terminal.cursor(!0),this.options.linewrap===!1&&this.terminal.lineWrapping(!0),this.terminal.cursorRestore(),this.options.clearOnComplete?(this.terminal.cursorTo(0,null),this.terminal.clearLine()):this.terminal.newline())}};const nD=cc,oD=bc,aD=Ho,uD=_i;var lD=class extends uD{constructor(e,r){super(),this.bars=[],this.options=aD.parse(e,r),this.options.synchronousUpdate=!1,this.terminal=this.options.terminal?this.options.terminal:new nD(this.options.stream),this.timer=null,this.isActive=!1,this.schedulingRate=this.terminal.isTTY()?this.options.throttleTime:this.options.notTTYSchedule,this.loggingBuffer=[],this.sigintCallback=null}create(e,r,n,o={}){const h=new oD(Object.assign({},this.options,{terminal:this.terminal},o));return this.bars.push(h),this.options.noTTYOutput===!1&&this.terminal.isTTY()===!1||(this.sigintCallback===null&&this.options.gracefulExit&&(this.sigintCallback=this.stop.bind(this),oe.once("SIGINT",this.sigintCallback),oe.once("SIGTERM",this.sigintCallback)),this.isActive||(this.options.hideCursor===!0&&this.terminal.cursor(!1),this.options.linewrap===!1&&this.terminal.lineWrapping(!1),this.timer=setTimeout(this.update.bind(this),this.schedulingRate)),this.isActive=!0,h.start(e,r,n),this.emit("start")),h}remove(e){const r=this.bars.indexOf(e);return r<0?!1:(this.bars.splice(r,1),this.update(),this.terminal.newline(),this.terminal.clearBottom(),!0)}update(){if(this.timer&&(clearTimeout(this.timer),this.timer=null),this.emit("update-pre"),this.terminal.cursorRelativeReset(),this.emit("redraw-pre"),this.loggingBuffer.length>0)for(this.terminal.clearLine();this.loggingBuffer.length>0;)this.terminal.write(this.loggingBuffer.shift(),!0);for(let e=0;e<this.bars.length;e++)e>0&&this.terminal.newline(),this.bars[e].render();this.emit("redraw-post"),this.options.noTTYOutput&&this.terminal.isTTY()===!1&&(this.terminal.newline(),this.terminal.newline()),this.timer=setTimeout(this.update.bind(this),this.schedulingRate),this.emit("update-post"),this.options.stopOnComplete&&!this.bars.find(e=>e.isActive)&&this.stop()}stop(){if(clearTimeout(this.timer),this.timer=null,this.sigintCallback&&(oe.removeListener("SIGINT",this.sigintCallback),oe.removeListener("SIGTERM",this.sigintCallback),this.sigintCallback=null),this.isActive=!1,this.options.hideCursor===!0&&this.terminal.cursor(!0),this.options.linewrap===!1&&this.terminal.lineWrapping(!0),this.terminal.cursorRelativeReset(),this.emit("stop-pre-clear"),this.options.clearOnComplete)this.terminal.clearBottom();else{for(let e=0;e<this.bars.length;e++)e>0&&this.terminal.newline(),this.bars[e].render(),this.bars[e].stop();this.terminal.newline()}this.emit("stop")}log(e){this.loggingBuffer.push(e)}},hD={format:"progress [{bar}] {percentage}% | ETA: {eta}s | {value}/{total}",barCompleteChar:"=",barIncompleteChar:"-"},cD={format:" {bar} {percentage}% | ETA: {eta}s | {value}/{total}",barCompleteChar:"â",barIncompleteChar:"â"},fD={format:" \x1B[90m{bar}\x1B[0m {percentage}% | ETA: {eta}s | {value}/{total}",barCompleteChar:"â",barIncompleteChar:"â"},dD={format:" {bar}â  {percentage}% | ETA: {eta}s | {value}/{total}",barCompleteChar:"â ",barIncompleteChar:" "},pD={legacy:hD,shades_classic:cD,shades_grey:fD,rect:dD};const Cc=sD;var gD={Bar:Cc,SingleBar:Cc,MultiBar:lD,Presets:pD,Format:{Formatter:Dc,BarFormat:_c,ValueFormat:mc,TimeFormat:vc}};let No=[],Sc=0;const tt=(t,e)=>{Sc>=e&&No.push(t)};tt.WARN=1,tt.INFO=2,tt.DEBUG=3,tt.reset=()=>{No=[]},tt.setDebugLevel=t=>{Sc=t},tt.warn=t=>tt(t,tt.WARN),tt.info=t=>tt(t,tt.INFO),tt.debug=t=>tt(t,tt.DEBUG),tt.debugMessages=()=>No;var Wo=tt,Uo={exports:{}},mD=({onlyFirst:t=!1}={})=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")};const _D=mD;var vD=t=>typeof t=="string"?t.replace(_D(),""):t;const DD=vD,yD=dc,bD=pc,wc=t=>{if(typeof t!="string"||t.length===0||(t=DD(t),t.length===0))return 0;t=t.replace(bD(),"  ");let e=0;for(let r=0;r<t.length;r++){const n=t.codePointAt(r);n<=31||n>=127&&n<=159||n>=768&&n<=879||(n>65535&&r++,e+=yD(n)?2:1)}return e};Uo.exports=wc,Uo.exports.default=wc;var CD=Uo.exports;const Ec=CD;function ys(t){return t?/\u001b\[((?:\d*;){0,5}\d*)m/g:/\u001b\[(?:\d*;){0,5}\d*m/g}function Bt(t){let e=ys();return(""+t).replace(e,"").split(`
`).reduce(function(o,h){return Ec(h)>o?Ec(h):o},0)}function yi(t,e){return Array(e+1).join(t)}function SD(t,e,r,n){let o=Bt(t);if(e+1>=o){let h=e-o;switch(n){case"right":{t=yi(r,h)+t;break}case"center":{let p=Math.ceil(h/2),s=h-p;t=yi(r,s)+t+yi(r,p);break}default:{t=t+yi(r,h);break}}}return t}let Nr={};function bi(t,e,r){e="\x1B["+e+"m",r="\x1B["+r+"m",Nr[e]={set:t,to:!0},Nr[r]={set:t,to:!1},Nr[t]={on:e,off:r}}bi("bold",1,22),bi("italics",3,23),bi("underline",4,24),bi("inverse",7,27),bi("strikethrough",9,29);function Fc(t,e){let r=e[1]?parseInt(e[1].split(";")[0]):0;if(r>=30&&r<=39||r>=90&&r<=97){t.lastForegroundAdded=e[0];return}if(r>=40&&r<=49||r>=100&&r<=107){t.lastBackgroundAdded=e[0];return}if(r===0){for(let o in t)Object.prototype.hasOwnProperty.call(t,o)&&delete t[o];return}let n=Nr[e[0]];n&&(t[n.set]=n.to)}function wD(t){let e=ys(!0),r=e.exec(t),n={};for(;r!==null;)Fc(n,r),r=e.exec(t);return n}function Ac(t,e){let r=t.lastBackgroundAdded,n=t.lastForegroundAdded;return delete t.lastBackgroundAdded,delete t.lastForegroundAdded,Object.keys(t).forEach(function(o){t[o]&&(e+=Nr[o].off)}),r&&r!="\x1B[49m"&&(e+="\x1B[49m"),n&&n!="\x1B[39m"&&(e+="\x1B[39m"),e}function ED(t,e){let r=t.lastBackgroundAdded,n=t.lastForegroundAdded;return delete t.lastBackgroundAdded,delete t.lastForegroundAdded,Object.keys(t).forEach(function(o){t[o]&&(e=Nr[o].on+e)}),r&&r!="\x1B[49m"&&(e=r+e),n&&n!="\x1B[39m"&&(e=n+e),e}function FD(t,e){if(t.length===Bt(t))return t.substr(0,e);for(;Bt(t)>e;)t=t.slice(0,-1);return t}function AD(t,e){let r=ys(!0),n=t.split(ys()),o=0,h=0,p="",s,l={};for(;h<e;){s=r.exec(t);let c=n[o];if(o++,h+Bt(c)>e&&(c=FD(c,e-h)),p+=c,h+=Bt(c),h<e){if(!s)break;p+=s[0],Fc(l,s)}}return Ac(l,p)}function xD(t,e,r){if(r=r||"â¦",Bt(t)<=e)return t;e-=Bt(r);let o=AD(t,e);o+=r;const h="\x1B]8;;\x07";return t.includes(h)&&!o.includes(h)&&(o+=h),o}function BD(){return{chars:{top:"â","top-mid":"â¬","top-left":"â","top-right":"â",bottom:"â","bottom-mid":"â´","bottom-left":"â","bottom-right":"â",left:"â","left-mid":"â",mid:"â","mid-mid":"â¼",right:"â","right-mid":"â¤",middle:"â"},truncate:"â¦",colWidths:[],rowHeights:[],colAligns:[],rowAligns:[],style:{"padding-left":1,"padding-right":1,head:["red"],border:["grey"],compact:!1},head:[]}}function kD(t,e){t=t||{},e=e||BD();let r=Object.assign({},e,t);return r.chars=Object.assign({},e.chars,t.chars),r.style=Object.assign({},e.style,t.style),r}function OD(t,e){let r=[],n=e.split(/(\s+)/g),o=[],h=0,p;for(let s=0;s<n.length;s+=2){let l=n[s],c=h+Bt(l);h>0&&p&&(c+=p.length),c>t?(h!==0&&r.push(o.join("")),o=[l],h=Bt(l)):(o.push(p||"",l),h=c),p=n[s+1]}return h&&r.push(o.join("")),r}function RD(t,e){let r=[],n="";function o(p,s){for(n.length&&s&&(n+=s),n+=p;n.length>t;)r.push(n.slice(0,t)),n=n.slice(t)}let h=e.split(/(\s+)/g);for(let p=0;p<h.length;p+=2)o(h[p],p&&h[p-1]);return n.length&&r.push(n),r}function PD(t,e,r=!0){let n=[];e=e.split(`
`);const o=r?OD:RD;for(let h=0;h<e.length;h++)n.push.apply(n,o(t,e[h]));return n}function LD(t){let e={},r=[];for(let n=0;n<t.length;n++){let o=ED(e,t[n]);e=wD(o);let h=Object.assign({},e);r.push(Ac(h,o))}return r}function TD(t,e){const r="\x1B]",n="\x07",o=";";return[r,"8",o,o,t||e,n,e,r,"8",o,o,n].join("")}var xc={strlen:Bt,repeat:yi,pad:SD,truncate:xD,mergeOptions:kD,wordWrap:PD,colorizeLines:LD,hyperlink:TD},Bc={exports:{}},bs={exports:{}},$o={exports:{}},qo={exports:{}},zo={exports:{}},kc;function ID(){return kc||(kc=1,function(t){var e={};t.exports=e;var r={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],brightRed:[91,39],brightGreen:[92,39],brightYellow:[93,39],brightBlue:[94,39],brightMagenta:[95,39],brightCyan:[96,39],brightWhite:[97,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgGray:[100,49],bgGrey:[100,49],bgBrightRed:[101,49],bgBrightGreen:[102,49],bgBrightYellow:[103,49],bgBrightBlue:[104,49],bgBrightMagenta:[105,49],bgBrightCyan:[106,49],bgBrightWhite:[107,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(r).forEach(function(n){var o=r[n],h=e[n]=[];h.open="\x1B["+o[0]+"m",h.close="\x1B["+o[1]+"m"})}(zo)),zo.exports}var Ve={},Oc;function MD(){return Oc||(Oc=1,Ve.endianness=function(){return"LE"},Ve.hostname=function(){return typeof location<"u"?location.hostname:""},Ve.loadavg=function(){return[]},Ve.uptime=function(){return 0},Ve.freemem=function(){return Number.MAX_VALUE},Ve.totalmem=function(){return Number.MAX_VALUE},Ve.cpus=function(){return[]},Ve.type=function(){return"Browser"},Ve.release=function(){return typeof navigator<"u"?navigator.appVersion:""},Ve.networkInterfaces=Ve.getNetworkInterfaces=function(){return{}},Ve.arch=function(){return"javascript"},Ve.platform=function(){return"browser"},Ve.tmpdir=Ve.tmpDir=function(){return"/tmp"},Ve.EOL=`
`,Ve.homedir=function(){return"/"}),Ve}var Go,Rc;function jD(){return Rc||(Rc=1,Go=function(t,e){e=e||oe.argv;var r=e.indexOf("--"),n=/^-{1,2}/.test(t)?"":"--",o=e.indexOf(n+t);return o!==-1&&(r===-1?!0:o<r)}),Go}var Vo,Pc;function HD(){if(Pc)return Vo;Pc=1;var t=MD(),e=jD(),r=oe.env,n=void 0;e("no-color")||e("no-colors")||e("color=false")?n=!1:(e("color")||e("colors")||e("color=true")||e("color=always"))&&(n=!0),"FORCE_COLOR"in r&&(n=r.FORCE_COLOR.length===0||parseInt(r.FORCE_COLOR,10)!==0);function o(s){return s===0?!1:{level:s,hasBasic:!0,has256:s>=2,has16m:s>=3}}function h(s){if(n===!1)return 0;if(e("color=16m")||e("color=full")||e("color=truecolor"))return 3;if(e("color=256"))return 2;if(s&&!s.isTTY&&n!==!0)return 0;var l=n?1:0;if(oe.platform==="win32"){var c=t.release().split(".");return Number(oe.versions.node.split(".")[0])>=8&&Number(c[0])>=10&&Number(c[2])>=10586?Number(c[2])>=14931?3:2:1}if("CI"in r)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(f){return f in r})||r.CI_NAME==="codeship"?1:l;if("TEAMCITY_VERSION"in r)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(r.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in r){var a=parseInt((r.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(r.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(r.TERM)?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test(r.TERM)||"COLORTERM"in r?1:(r.TERM==="dumb",l)}function p(s){var l=h(s);return o(l)}return Vo={supportsColor:p,stdout:p(oe.stdout),stderr:p(oe.stderr)},Vo}var Ko={exports:{}},Lc;function ND(){return Lc||(Lc=1,function(t){t.exports=function(r,n){var o="";r=r||"Run the trap, drop the bass",r=r.split("");var h={a:["@","Ä","Èº","É","Î","Î","Ð"],b:["Ã","Æ","É","É®","Î²","à¸¿"],c:["Â©","È»","Ï¾"],d:["Ã","Æ","Ô","Ô","Ô","Ô"],e:["Ã","Ä","Æ","É","Î£","Î¾","Ò¼","à©¬"],f:["Óº"],g:["É¢"],h:["Ä¦","Æ","Ò¢","Òº","Ó","Ô"],i:["à¼"],j:["Ä´"],k:["Ä¸","Ò ","Ó","Ô"],l:["Ä¹"],m:["Ê","Ó","Ó","Ô ","Ô¡","àµ©"],n:["Ã","Å","Æ","Í¶","Î ","Ò"],o:["Ã","Ãµ","Ã¸","Ç¾","Ê","Ñº","×","Û","à¹"],p:["Ç·","Ò"],q:["à§"],r:["Â®","Æ¦","È","É","Ê","Ð¯"],s:["Â§","Ï","Ï","Ï¨"],t:["Å","Å¦","Í³"],u:["Æ±","Õ"],v:["×"],w:["Ð¨","Ñ ","Ñ¼","àµ°"],x:["Ò²","Ó¾","Ó¼","Ó½"],y:["Â¥","Ò°","Ó"],z:["Æµ","É"]};return r.forEach(function(p){p=p.toLowerCase();var s=h[p]||[" "],l=Math.floor(Math.random()*s.length);typeof h[p]<"u"?o+=h[p][l]:o+=p}),o}}(Ko)),Ko.exports}var Yo={exports:{}},Tc;function WD(){return Tc||(Tc=1,function(t){t.exports=function(r,n){r=r||"   he is here   ";var o={up:["Ì","Ì","Ì","Ì","Ì¿","Ì","Ì","Ì","Í","Í","Í","Ì","Ì","Ì","Í","Ì","Ì","Í","Í","Í","Ì","Ì","Ì","Í","Ì","Ì","Ì","Ì","Ì","Ì","Ì","Ì½","Ì","Í£","Í¤","Í¥","Í¦","Í§","Í¨","Í©","Íª","Í«","Í¬","Í­","Í®","Í¯","Ì¾","Í","Í","Ì"],down:["Ì","Ì","Ì","Ì","Ì","Ì","Ì","Ì","Ì ","Ì¤","Ì¥","Ì¦","Ì©","Ìª","Ì«","Ì¬","Ì­","Ì®","Ì¯","Ì°","Ì±","Ì²","Ì³","Ì¹","Ìº","Ì»","Ì¼","Í","Í","Í","Í","Í","Í","Í","Í","Í","Í","Í","Í","Ì£"],mid:["Ì","Ì","Ì","Ì","Í","Ì¡","Ì¢","Ì§","Ì¨","Ì´","Ìµ","Ì¶","Í","Í","Í","Í","Í ","Í¢","Ì¸","Ì·","Í¡"," Ò"]},h=[].concat(o.up,o.down,o.mid);function p(c){var a=Math.floor(Math.random()*c);return a}function s(c){var a=!1;return h.filter(function(f){a=f===c}),a}function l(c,a){var f="",i,d;a=a||{},a.up=typeof a.up<"u"?a.up:!0,a.mid=typeof a.mid<"u"?a.mid:!0,a.down=typeof a.down<"u"?a.down:!0,a.size=typeof a.size<"u"?a.size:"maxi",c=c.split("");for(d in c)if(!s(d)){switch(f=f+c[d],i={up:0,down:0,mid:0},a.size){case"mini":i.up=p(8),i.mid=p(2),i.down=p(8);break;case"maxi":i.up=p(16)+3,i.mid=p(4)+1,i.down=p(64)+3;break;default:i.up=p(8)+1,i.mid=p(6)/2,i.down=p(8)+1;break}var m=["up","mid","down"];for(var D in m)for(var u=m[D],_=0;_<=i[u];_++)a[u]&&(f=f+o[u][p(o[u].length)])}return f}return l(r,n)}}(Yo)),Yo.exports}var Jo={exports:{}},Ic;function UD(){return Ic||(Ic=1,function(t){t.exports=function(e){return function(r,n,o){if(r===" ")return r;switch(n%3){case 0:return e.red(r);case 1:return e.white(r);case 2:return e.blue(r)}}}}(Jo)),Jo.exports}var Xo={exports:{}},Mc;function $D(){return Mc||(Mc=1,function(t){t.exports=function(e){return function(r,n,o){return n%2===0?r:e.inverse(r)}}}(Xo)),Xo.exports}var Zo={exports:{}},jc;function qD(){return jc||(jc=1,function(t){t.exports=function(e){var r=["red","yellow","green","blue","magenta"];return function(n,o,h){return n===" "?n:e[r[o++%r.length]](n)}}}(Zo)),Zo.exports}var Qo={exports:{}},Hc;function zD(){return Hc||(Hc=1,function(t){t.exports=function(e){var r=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta","brightYellow","brightRed","brightGreen","brightBlue","brightWhite","brightCyan","brightMagenta"];return function(n,o,h){return n===" "?n:e[r[Math.round(Math.random()*(r.length-2))]](n)}}}(Qo)),Qo.exports}var Nc;function GD(){return Nc||(Nc=1,function(t){var e={};t.exports=e,e.themes={};var r=cr,n=e.styles=ID(),o=Object.defineProperties,h=new RegExp(/[\r\n]+/g);e.supportsColor=HD().supportsColor,typeof e.enabled>"u"&&(e.enabled=e.supportsColor()!==!1),e.enable=function(){e.enabled=!0},e.disable=function(){e.enabled=!1},e.stripColors=e.strip=function(D){return(""+D).replace(/\x1B\[\d+m/g,"")},e.stylize=function(u,_){if(!e.enabled)return u+"";var g=n[_];return!g&&_ in e?e[_](u):g.open+u+g.close};var p=/[|\\{}()[\]^$+*?.]/g,s=function(D){if(typeof D!="string")throw new TypeError("Expected a string");return D.replace(p,"\\$&")};function l(D){var u=function _(){return f.apply(_,arguments)};return u._styles=D,u.__proto__=a,u}var c=function(){var D={};return n.grey=n.gray,Object.keys(n).forEach(function(u){n[u].closeRe=new RegExp(s(n[u].close),"g"),D[u]={get:function(){return l(this._styles.concat(u))}}}),D}(),a=o(function(){},c);function f(){var D=Array.prototype.slice.call(arguments),u=D.map(function(b){return b!=null&&b.constructor===String?b:r.inspect(b)}).join(" ");if(!e.enabled||!u)return u;for(var _=u.indexOf(`
`)!=-1,g=this._styles,v=g.length;v--;){var y=n[g[v]];u=y.open+u.replace(y.closeRe,y.open)+y.close,_&&(u=u.replace(h,function(b){return y.close+b+y.open}))}return u}e.setTheme=function(D){if(typeof D=="string"){console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));");return}for(var u in D)(function(_){e[_]=function(g){if(typeof D[_]=="object"){var v=g;for(var y in D[_])v=e[D[_][y]](v);return v}return e[D[_]](g)}})(u)};function i(){var D={};return Object.keys(c).forEach(function(u){D[u]={get:function(){return l([u])}}}),D}var d=function(u,_){var g=_.split("");return g=g.map(u),g.join("")};e.trap=ND(),e.zalgo=WD(),e.maps={},e.maps.america=UD()(e),e.maps.zebra=$D()(e),e.maps.rainbow=qD()(e),e.maps.random=zD()(e);for(var m in e.maps)(function(D){e[D]=function(u){return d(e.maps[D],u)}})(m);o(e,i())}(qo)),qo.exports}var Wc;function VD(){return Wc||(Wc=1,function(t){var e=GD();t.exports=e}($o)),$o.exports}const{info:KD,debug:Uc}=Wo,lt=xc;let YD=class Es{constructor(e){this.setOptions(e),this.x=null,this.y=null}setOptions(e){["boolean","number","bigint","string"].indexOf(typeof e)!==-1&&(e={content:""+e}),e=e||{},this.options=e;let r=e.content;if(["boolean","number","bigint","string"].indexOf(typeof r)!==-1)this.content=String(r);else if(!r)this.content=this.options.href||"";else throw new Error("Content needs to be a primitive, got: "+typeof r);this.colSpan=e.colSpan||1,this.rowSpan=e.rowSpan||1,this.options.href&&Object.defineProperty(this,"href",{get(){return this.options.href}})}mergeTableOptions(e,r){this.cells=r;let n=this.options.chars||{},o=e.chars,h=this.chars={};XD.forEach(function(l){ra(n,o,l,h)}),this.truncate=this.options.truncate||e.truncate;let p=this.options.style=this.options.style||{},s=e.style;ra(p,s,"padding-left",this),ra(p,s,"padding-right",this),this.head=p.head||s.head,this.border=p.border||s.border,this.fixedWidth=e.colWidths[this.x],this.lines=this.computeLines(e),this.desiredWidth=lt.strlen(this.content)+this.paddingLeft+this.paddingRight,this.desiredHeight=this.lines.length}computeLines(e){const r=e.wordWrap||e.textWrap,{wordWrap:n=r}=this.options;if(this.fixedWidth&&n){if(this.fixedWidth-=this.paddingLeft+this.paddingRight,this.colSpan){let p=1;for(;p<this.colSpan;)this.fixedWidth+=e.colWidths[this.x+p],p++}const{wrapOnWordBoundary:o=!0}=e,{wrapOnWordBoundary:h=o}=this.options;return this.wrapLines(lt.wordWrap(this.fixedWidth,this.content,h))}return this.wrapLines(this.content.split(`
`))}wrapLines(e){const r=lt.colorizeLines(e);return this.href?r.map(n=>lt.hyperlink(this.href,n)):r}init(e){let r=this.x,n=this.y;this.widths=e.colWidths.slice(r,r+this.colSpan),this.heights=e.rowHeights.slice(n,n+this.rowSpan),this.width=this.widths.reduce(qc,-1),this.height=this.heights.reduce(qc,-1),this.hAlign=this.options.hAlign||e.colAligns[r],this.vAlign=this.options.vAlign||e.rowAligns[n],this.drawRight=r+this.colSpan==e.colWidths.length}draw(e,r){if(e=="top")return this.drawTop(this.drawRight);if(e=="bottom")return this.drawBottom(this.drawRight);let n=lt.truncate(this.content,10,this.truncate);e||KD(`${this.y}-${this.x}: ${this.rowSpan-e}x${this.colSpan} Cell ${n}`);let o=Math.max(this.height-this.lines.length,0),h;switch(this.vAlign){case"center":h=Math.ceil(o/2);break;case"bottom":h=o;break;default:h=0}if(e<h||e>=h+this.lines.length)return this.drawEmpty(this.drawRight,r);let p=this.lines.length>this.height&&e+1>=this.height;return this.drawLine(e-h,this.drawRight,p,r)}drawTop(e){let r=[];return this.cells?this.widths.forEach(function(n,o){r.push(this._topLeftChar(o)),r.push(lt.repeat(this.chars[this.y==0?"top":"mid"],n))},this):(r.push(this._topLeftChar(0)),r.push(lt.repeat(this.chars[this.y==0?"top":"mid"],this.width))),e&&r.push(this.chars[this.y==0?"topRight":"rightMid"]),this.wrapWithStyleColors("border",r.join(""))}_topLeftChar(e){let r=this.x+e,n;if(this.y==0)n=r==0?"topLeft":e==0?"topMid":"top";else if(r==0)n="leftMid";else if(n=e==0?"midMid":"bottomMid",this.cells&&(this.cells[this.y-1][r]instanceof Es.ColSpanCell&&(n=e==0?"topMid":"mid"),e==0)){let h=1;for(;this.cells[this.y][r-h]instanceof Es.ColSpanCell;)h++;this.cells[this.y][r-h]instanceof Es.RowSpanCell&&(n="leftMid")}return this.chars[n]}wrapWithStyleColors(e,r){if(this[e]&&this[e].length)try{let n=VD();for(let o=this[e].length-1;o>=0;o--)n=n[this[e][o]];return n(r)}catch{return r}else return r}drawLine(e,r,n,o){let h=this.chars[this.x==0?"left":"middle"];if(this.x&&o&&this.cells){let i=this.cells[this.y+o][this.x-1];for(;i instanceof ea;)i=this.cells[i.y][i.x-1];i instanceof ta||(h=this.chars.rightMid)}let p=lt.repeat(" ",this.paddingLeft),s=r?this.chars.right:"",l=lt.repeat(" ",this.paddingRight),c=this.lines[e],a=this.width-(this.paddingLeft+this.paddingRight);n&&(c+=this.truncate||"â¦");let f=lt.truncate(c,a,this.truncate);return f=lt.pad(f,a," ",this.hAlign),f=p+f+l,this.stylizeLine(h,f,s)}stylizeLine(e,r,n){return e=this.wrapWithStyleColors("border",e),n=this.wrapWithStyleColors("border",n),this.y===0&&(r=this.wrapWithStyleColors("head",r)),e+r+n}drawBottom(e){let r=this.chars[this.x==0?"bottomLeft":"bottomMid"],n=lt.repeat(this.chars.bottom,this.width),o=e?this.chars.bottomRight:"";return this.wrapWithStyleColors("border",r+n+o)}drawEmpty(e,r){let n=this.chars[this.x==0?"left":"middle"];if(this.x&&r&&this.cells){let p=this.cells[this.y+r][this.x-1];for(;p instanceof ea;)p=this.cells[p.y][p.x-1];p instanceof ta||(n=this.chars.rightMid)}let o=e?this.chars.right:"",h=lt.repeat(" ",this.width);return this.stylizeLine(n,h,o)}},ea=class{constructor(){}draw(e){return typeof e=="number"&&Uc(`${this.y}-${this.x}: 1x1 ColSpanCell`),""}init(){}mergeTableOptions(){}},ta=class{constructor(e){this.originalCell=e}init(e){let r=this.y,n=this.originalCell.y;this.cellOffset=r-n,this.offset=JD(e.rowHeights,n,this.cellOffset)}draw(e){return e=="top"?this.originalCell.draw(this.offset,this.cellOffset):e=="bottom"?this.originalCell.draw("bottom"):(Uc(`${this.y}-${this.x}: 1x${this.colSpan} RowSpanCell for ${this.originalCell.content}`),this.originalCell.draw(this.offset+1+e))}mergeTableOptions(){}};function $c(...t){return t.filter(e=>e!=null).shift()}function ra(t,e,r,n){let o=r.split("-");o.length>1?(o[1]=o[1].charAt(0).toUpperCase()+o[1].substr(1),o=o.join(""),n[o]=$c(t[o],t[r],e[o],e[r])):n[r]=$c(t[r],e[r])}function JD(t,e,r){let n=t[e];for(let o=1;o<r;o++)n+=1+t[e+o];return n}function qc(t,e){return t+e+1}let XD=["top","top-mid","top-left","top-right","bottom","bottom-mid","bottom-left","bottom-right","left","left-mid","mid","mid-mid","right","right-mid","middle"];bs.exports=YD,bs.exports.ColSpanCell=ea,bs.exports.RowSpanCell=ta;var ZD=bs.exports;const{warn:QD,debug:e1}=Wo,ia=ZD,{ColSpanCell:t1,RowSpanCell:r1}=ia;(function(){function t(d,m){return d[m]>0?t(d,m+1):m}function e(d){let m={};d.forEach(function(D,u){let _=0;D.forEach(function(g){g.y=u,g.x=u?t(m,_):_;const v=g.rowSpan||1,y=g.colSpan||1;if(v>1)for(let b=0;b<y;b++)m[g.x+b]=v;_=g.x+y}),Object.keys(m).forEach(g=>{m[g]--,m[g]<1&&delete m[g]})})}function r(d){let m=0;return d.forEach(function(D){D.forEach(function(u){m=Math.max(m,u.x+(u.colSpan||1))})}),m}function n(d){return d.length}function o(d,m){let D=d.y,u=d.y-1+(d.rowSpan||1),_=m.y,g=m.y-1+(m.rowSpan||1),v=!(D>g||_>u),y=d.x,b=d.x-1+(d.colSpan||1),E=m.x,F=m.x-1+(m.colSpan||1),C=!(y>F||E>b);return v&&C}function h(d,m,D){let u=Math.min(d.length-1,D),_={x:m,y:D};for(let g=0;g<=u;g++){let v=d[g];for(let y=0;y<v.length;y++)if(o(_,v[y]))return!0}return!1}function p(d,m,D,u){for(let _=D;_<u;_++)if(h(d,_,m))return!1;return!0}function s(d){d.forEach(function(m,D){m.forEach(function(u){for(let _=1;_<u.rowSpan;_++){let g=new r1(u);g.x=u.x,g.y=u.y+_,g.colSpan=u.colSpan,c(g,d[D+_])}})})}function l(d){for(let m=d.length-1;m>=0;m--){let D=d[m];for(let u=0;u<D.length;u++){let _=D[u];for(let g=1;g<_.colSpan;g++){let v=new t1;v.x=_.x+g,v.y=_.y,D.splice(u+1,0,v)}}}}function c(d,m){let D=0;for(;D<m.length&&m[D].x<d.x;)D++;m.splice(D,0,d)}function a(d){let m=n(d),D=r(d);e1(`Max rows: ${m}; Max cols: ${D}`);for(let u=0;u<m;u++)for(let _=0;_<D;_++)if(!h(d,_,u)){let g={x:_,y:u,colSpan:1,rowSpan:1};for(_++;_<D&&!h(d,_,u);)g.colSpan++,_++;let v=u+1;for(;v<m&&p(d,v,g.x,g.x+g.colSpan);)g.rowSpan++,v++;let y=new ia(g);y.x=g.x,y.y=g.y,QD(`Missing cell at ${y.y}-${y.x}.`),c(y,d[u])}}function f(d){return d.map(function(m){if(!Array.isArray(m)){let D=Object.keys(m)[0];m=m[D],Array.isArray(m)?(m=m.slice(),m.unshift(D)):m=[D,m]}return m.map(function(D){return new ia(D)})})}function i(d){let m=f(d);return e(m),a(m),s(m),l(m),m}Bc.exports={makeTableLayout:i,layoutTable:e,addRowSpanCells:s,maxWidth:r,fillInTable:a,computeWidths:zc("colSpan","desiredWidth","x",1),computeHeights:zc("rowSpan","desiredHeight","y",1)}})();function zc(t,e,r,n){return function(o,h){let p=[],s=[],l={};h.forEach(function(c){c.forEach(function(a){(a[t]||1)>1?s.push(a):p[a[r]]=Math.max(p[a[r]]||0,a[e]||0,n)})}),o.forEach(function(c,a){typeof c=="number"&&(p[a]=c)});for(let c=s.length-1;c>=0;c--){let a=s[c],f=a[t],i=a[r],d=p[i],m=typeof o[i]=="number"?0:1;if(typeof d=="number")for(let D=1;D<f;D++)d+=1+p[i+D],typeof o[i+D]!="number"&&m++;else d=e==="desiredWidth"?a.desiredWidth-1:1,(!l[i]||l[i]<d)&&(l[i]=d);if(a[e]>d){let D=0;for(;m>0&&a[e]>d;){if(typeof o[i+D]!="number"){let u=Math.round((a[e]-d)/m);d+=u,p[i+D]+=u,m--}D++}}}Object.assign(o,p,l);for(let c=0;c<o.length;c++)o[c]=Math.max(n,o[c]||0)}}var i1=Bc.exports;const Ht=Wo,s1=xc,sa=i1;let Gc=class extends Array{constructor(e){super();const r=s1.mergeOptions(e);if(Object.defineProperty(this,"options",{value:r,enumerable:r.debug}),r.debug){switch(typeof r.debug){case"boolean":Ht.setDebugLevel(Ht.WARN);break;case"number":Ht.setDebugLevel(r.debug);break;case"string":Ht.setDebugLevel(parseInt(r.debug,10));break;default:Ht.setDebugLevel(Ht.WARN),Ht.warn(`Debug option is expected to be boolean, number, or string. Received a ${typeof r.debug}`)}Object.defineProperty(this,"messages",{get(){return Ht.debugMessages()}})}}toString(){let e=this,r=this.options.head&&this.options.head.length;r?(e=[this.options.head],this.length&&e.push.apply(e,this)):this.options.style.head=[];let n=sa.makeTableLayout(e);n.forEach(function(h){h.forEach(function(p){p.mergeTableOptions(this.options,n)},this)},this),sa.computeWidths(this.options.colWidths,n),sa.computeHeights(this.options.rowHeights,n),n.forEach(function(h){h.forEach(function(p){p.init(this.options)},this)},this);let o=[];for(let h=0;h<n.length;h++){let p=n[h],s=this.options.rowHeights[h];(h===0||!this.options.style.compact||h==1&&r)&&na(p,"top",o);for(let l=0;l<s;l++)na(p,l,o);h+1==n.length&&na(p,"bottom",o)}return o.join(`
`)}get width(){return this.toString().split(`
`)[0].length}};Gc.reset=()=>Ht.reset();function na(t,e,r){let n=[];t.forEach(function(h){n.push(h.draw(e))});let o=n.join("");o.length&&r.push(o)}var n1=Gc,o1=n1;const a1=$t(o1);var rt={},oa={exports:{}},aa={exports:{}},Vc;function u1(){return Vc||(Vc=1,function(t){const e=typeof oe<"u"&&oe.env.TERM_PROGRAM==="Hyper",r=typeof oe<"u"&&oe.platform==="win32",n=typeof oe<"u"&&oe.platform==="linux",o={ballotDisabled:"â",ballotOff:"â",ballotOn:"â",bullet:"â¢",bulletWhite:"â¦",fullBlock:"â",heart:"â¤",identicalTo:"â¡",line:"â",mark:"â»",middot:"Â·",minus:"ï¼",multiplication:"Ã",obelus:"Ã·",pencilDownRight:"â",pencilRight:"â",pencilUpRight:"â",percent:"%",pilcrow2:"â¡",pilcrow:"Â¶",plusMinus:"Â±",question:"?",section:"Â§",starsOff:"â",starsOn:"â",upDownArrow:"â"},h=Object.assign({},o,{check:"â",cross:"Ã",ellipsisLarge:"...",ellipsis:"...",info:"i",questionSmall:"?",pointer:">",pointerSmall:"Â»",radioOff:"( )",radioOn:"(*)",warning:"â¼"}),p=Object.assign({},o,{ballotCross:"â",check:"â",cross:"â",ellipsisLarge:"â¯",ellipsis:"â¦",info:"â¹",questionFull:"ï¼",questionSmall:"ï¹",pointer:n?"â¸":"â¯",pointerSmall:n?"â£":"âº",radioOff:"â¯",radioOn:"â",warning:"â "});t.exports=r&&!e?h:p,Reflect.defineProperty(t.exports,"common",{enumerable:!1,value:o}),Reflect.defineProperty(t.exports,"windows",{enumerable:!1,value:h}),Reflect.defineProperty(t.exports,"other",{enumerable:!1,value:p})}(aa)),aa.exports}const l1=t=>t!==null&&typeof t=="object"&&!Array.isArray(t),h1=/[\u001b\u009b][[\]#;?()]*(?:(?:(?:[^\W_]*;?[^\W_]*)\u0007)|(?:(?:[0-9]{1,4}(;[0-9]{0,4})*)?[~0-9=<>cf-nqrtyA-PRZ]))/g,c1=()=>typeof oe<"u"?oe.env.FORCE_COLOR!=="0":!1,Kc=()=>{const t={enabled:c1(),visible:!0,styles:{},keys:{}},e=h=>{let p=h.open=`\x1B[${h.codes[0]}m`,s=h.close=`\x1B[${h.codes[1]}m`,l=h.regex=new RegExp(`\\u001b\\[${h.codes[1]}m`,"g");return h.wrap=(c,a)=>{c.includes(s)&&(c=c.replace(l,s+p));let f=p+c+s;return a?f.replace(/\r*\n/g,`${s}$&${p}`):f},h},r=(h,p,s)=>typeof h=="function"?h(p):h.wrap(p,s),n=(h,p)=>{if(h===""||h==null)return"";if(t.enabled===!1)return h;if(t.visible===!1)return"";let s=""+h,l=s.includes(`
`),c=p.length;for(c>0&&p.includes("unstyle")&&(p=[...new Set(["unstyle",...p])].reverse());c-- >0;)s=r(t.styles[p[c]],s,l);return s},o=(h,p,s)=>{t.styles[h]=e({name:h,codes:p}),(t.keys[s]||(t.keys[s]=[])).push(h),Reflect.defineProperty(t,h,{configurable:!0,enumerable:!0,set(c){t.alias(h,c)},get(){let c=a=>n(a,c.stack);return Reflect.setPrototypeOf(c,t),c.stack=this.stack?this.stack.concat(h):[h],c}})};return o("reset",[0,0],"modifier"),o("bold",[1,22],"modifier"),o("dim",[2,22],"modifier"),o("italic",[3,23],"modifier"),o("underline",[4,24],"modifier"),o("inverse",[7,27],"modifier"),o("hidden",[8,28],"modifier"),o("strikethrough",[9,29],"modifier"),o("black",[30,39],"color"),o("red",[31,39],"color"),o("green",[32,39],"color"),o("yellow",[33,39],"color"),o("blue",[34,39],"color"),o("magenta",[35,39],"color"),o("cyan",[36,39],"color"),o("white",[37,39],"color"),o("gray",[90,39],"color"),o("grey",[90,39],"color"),o("bgBlack",[40,49],"bg"),o("bgRed",[41,49],"bg"),o("bgGreen",[42,49],"bg"),o("bgYellow",[43,49],"bg"),o("bgBlue",[44,49],"bg"),o("bgMagenta",[45,49],"bg"),o("bgCyan",[46,49],"bg"),o("bgWhite",[47,49],"bg"),o("blackBright",[90,39],"bright"),o("redBright",[91,39],"bright"),o("greenBright",[92,39],"bright"),o("yellowBright",[93,39],"bright"),o("blueBright",[94,39],"bright"),o("magentaBright",[95,39],"bright"),o("cyanBright",[96,39],"bright"),o("whiteBright",[97,39],"bright"),o("bgBlackBright",[100,49],"bgBright"),o("bgRedBright",[101,49],"bgBright"),o("bgGreenBright",[102,49],"bgBright"),o("bgYellowBright",[103,49],"bgBright"),o("bgBlueBright",[104,49],"bgBright"),o("bgMagentaBright",[105,49],"bgBright"),o("bgCyanBright",[106,49],"bgBright"),o("bgWhiteBright",[107,49],"bgBright"),t.ansiRegex=h1,t.hasColor=t.hasAnsi=h=>(t.ansiRegex.lastIndex=0,typeof h=="string"&&h!==""&&t.ansiRegex.test(h)),t.alias=(h,p)=>{let s=typeof p=="string"?t[p]:p;if(typeof s!="function")throw new TypeError("Expected alias to be the name of an existing color (string) or a function");s.stack||(Reflect.defineProperty(s,"name",{value:h}),t.styles[h]=s,s.stack=[h]),Reflect.defineProperty(t,h,{configurable:!0,enumerable:!0,set(l){t.alias(h,l)},get(){let l=c=>n(c,l.stack);return Reflect.setPrototypeOf(l,t),l.stack=this.stack?this.stack.concat(s.stack):s.stack,l}})},t.theme=h=>{if(!l1(h))throw new TypeError("Expected theme to be an object");for(let p of Object.keys(h))t.alias(p,h[p]);return t},t.alias("unstyle",h=>typeof h=="string"&&h!==""?(t.ansiRegex.lastIndex=0,h.replace(t.ansiRegex,"")):""),t.alias("noop",h=>h),t.none=t.clear=t.noop,t.stripColor=t.unstyle,t.symbols=u1(),t.define=o,t};oa.exports=Kc(),oa.exports.create=Kc;var ua=oa.exports;(function(t){const e=Object.prototype.toString,r=ua;let n=!1,o=new Set;const h={yellow:"blue",cyan:"red",green:"magenta",black:"white",blue:"yellow",red:"cyan",magenta:"green",white:"black"};t.longest=(a,f)=>a.reduce((i,d)=>Math.max(i,f?d[f].length:d.length),0),t.hasColor=a=>!!a&&r.hasColor(a);const p=t.isObject=a=>a!==null&&typeof a=="object"&&!Array.isArray(a);t.nativeType=a=>e.call(a).slice(8,-1).toLowerCase().replace(/\s/g,""),t.isAsyncFn=a=>t.nativeType(a)==="asyncfunction",t.isPrimitive=a=>a!=null&&typeof a!="object"&&typeof a!="function",t.resolve=(a,f,...i)=>typeof f=="function"?f.call(a,...i):f,t.scrollDown=(a=[])=>[...a.slice(1),a[0]],t.scrollUp=(a=[])=>[a.pop(),...a],t.reorder=(a=[])=>{let f=a.slice();return f.sort((i,d)=>i.index>d.index?1:i.index<d.index?-1:0),f},t.swap=(a,f,i)=>{let d=a.length,m=i===d?0:i<0?d-1:i,D=a[f];a[f]=a[m],a[m]=D},t.width=(a,f=80)=>{let i=a&&a.columns?a.columns:f;return a&&typeof a.getWindowSize=="function"&&(i=a.getWindowSize()[0]),oe.platform==="win32"?i-1:i},t.height=(a,f=20)=>{let i=a&&a.rows?a.rows:f;return a&&typeof a.getWindowSize=="function"&&(i=a.getWindowSize()[1]),i},t.wordWrap=(a,f={})=>{if(!a)return a;typeof f=="number"&&(f={width:f});let{indent:i="",newline:d=`
`+i,width:m=80}=f,D=(d+i).match(/[^\S\n]/g)||[];m-=D.length;let u=`.{1,${m}}([\\s\\u200B]+|$)|[^\\s\\u200B]+?([\\s\\u200B]+|$)`,_=a.trim(),g=new RegExp(u,"g"),v=_.match(g)||[];return v=v.map(y=>y.replace(/\n$/,"")),f.padEnd&&(v=v.map(y=>y.padEnd(m," "))),f.padStart&&(v=v.map(y=>y.padStart(m," "))),i+v.join(d)},t.unmute=a=>{let f=a.stack.find(d=>r.keys.color.includes(d));return f?r[f]:a.stack.find(d=>d.slice(2)==="bg")?r[f.slice(2)]:d=>d},t.pascal=a=>a?a[0].toUpperCase()+a.slice(1):"",t.inverse=a=>{if(!a||!a.stack)return a;let f=a.stack.find(d=>r.keys.color.includes(d));if(f){let d=r["bg"+t.pascal(f)];return d?d.black:a}let i=a.stack.find(d=>d.slice(0,2)==="bg");return i?r[i.slice(2).toLowerCase()]||a:r.none},t.complement=a=>{if(!a||!a.stack)return a;let f=a.stack.find(d=>r.keys.color.includes(d)),i=a.stack.find(d=>d.slice(0,2)==="bg");if(f&&!i)return r[h[f]||f];if(i){let d=i.slice(2).toLowerCase(),m=h[d];return m&&r["bg"+t.pascal(m)]||a}return r.none},t.meridiem=a=>{let f=a.getHours(),i=a.getMinutes(),d=f>=12?"pm":"am";f=f%12;let m=f===0?12:f,D=i<10?"0"+i:i;return m+":"+D+" "+d},t.set=(a={},f="",i)=>f.split(".").reduce((d,m,D,u)=>{let _=u.length-1>D?d[m]||{}:i;return!t.isObject(_)&&D<u.length-1&&(_={}),d[m]=_},a),t.get=(a={},f="",i)=>{let d=a[f]==null?f.split(".").reduce((m,D)=>m&&m[D],a):a[f];return d??i},t.mixin=(a,f)=>{if(!p(a))return f;if(!p(f))return a;for(let i of Object.keys(f)){let d=Object.getOwnPropertyDescriptor(f,i);if(hasOwnProperty.call(d,"value"))if(hasOwnProperty.call(a,i)&&p(d.value)){let m=Object.getOwnPropertyDescriptor(a,i);p(m.value)&&m.value!==d.value?a[i]=t.merge({},a[i],f[i]):Reflect.defineProperty(a,i,d)}else Reflect.defineProperty(a,i,d);else Reflect.defineProperty(a,i,d)}return a},t.merge=(...a)=>{let f={};for(let i of a)t.mixin(f,i);return f},t.mixinEmitter=(a,f)=>{let i=f.constructor.prototype;for(let d of Object.keys(i)){let m=i[d];typeof m=="function"?t.define(a,d,m.bind(f)):t.define(a,d,m)}};const s=(a,f)=>{n||(n=!0,o.forEach(i=>i()),a===!0&&oe.exit(128+f))},l=s.bind(null,!0,15),c=s.bind(null,!0,2);t.onExit=a=>(o.size===0&&(oe.once("SIGTERM",l),oe.once("SIGINT",c),oe.once("exit",s)),o.add(a),()=>{o.delete(a),o.size===0&&(oe.off("SIGTERM",l),oe.off("SIGINT",c),oe.off("exit",s))}),t.define=(a,f,i)=>{Reflect.defineProperty(a,f,{value:i})},t.defineExport=(a,f,i)=>{let d;Reflect.defineProperty(a,f,{enumerable:!0,configurable:!0,set(m){d=m},get(){return d?d():i()}})}})(rt);var la,Yc;function f1(){return Yc||(Yc=1,la=({onlyFirst:t=!1}={})=>{const e=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(e,t?void 0:"g")}),la}var ha,Jc;function _r(){if(Jc)return ha;Jc=1;const t=f1();return ha=e=>typeof e=="string"?e.replace(t(),""):e,ha}var vr={},Xc;function d1(){return Xc||(Xc=1,vr.ctrl={a:"first",b:"backward",c:"cancel",d:"deleteForward",e:"last",f:"forward",g:"reset",i:"tab",k:"cutForward",l:"reset",n:"newItem",m:"cancel",j:"submit",p:"search",r:"remove",s:"save",u:"undo",w:"cutLeft",x:"toggleCursor",v:"paste"},vr.shift={up:"shiftUp",down:"shiftDown",left:"shiftLeft",right:"shiftRight",tab:"prev"},vr.fn={up:"pageUp",down:"pageDown",left:"pageLeft",right:"pageRight",delete:"deleteForward"},vr.option={b:"backward",f:"forward",d:"cutRight",left:"cutLeft",up:"altUp",down:"altDown"},vr.keys={pageup:"pageUp",pagedown:"pageDown",home:"home",end:"end",cancel:"cancel",delete:"deleteForward",backspace:"delete",down:"down",enter:"submit",escape:"cancel",left:"left",space:"space",number:"number",return:"submit",right:"right",tab:"next",up:"up"}),vr}var ca,Zc;function p1(){return Zc||(Zc=1,ca=class{constructor(e){zr(this,"_queue",[]);zr(this,"_executing",!1);zr(this,"_jobRunner",null);zr(this,"enqueue",(...e)=>{this._queue.push(e),this._dequeue()});this._jobRunner=e}destroy(){this._queue.length=0,this._jobRunner=null}_dequeue(){this._executing||!this._queue.length||(this._executing=!0,this._jobRunner(...this._queue.shift()),setTimeout(()=>{this._executing=!1,this._dequeue()}))}}),ca}var fa,Qc;function ef(){if(Qc)return fa;Qc=1;const t=hc,e=d1(),r=p1(),n=/^(?:\x1b)([a-zA-Z0-9])$/,o=/^(?:\x1b+)(O|N|\[|\[\[)(?:(\d+)(?:;(\d+))?([~^$])|(?:1;)?(\d+)?([a-zA-Z]))/,h={OP:"f1",OQ:"f2",OR:"f3",OS:"f4","[11~":"f1","[12~":"f2","[13~":"f3","[14~":"f4","[[A":"f1","[[B":"f2","[[C":"f3","[[D":"f4","[[E":"f5","[15~":"f5","[17~":"f6","[18~":"f7","[19~":"f8","[20~":"f9","[21~":"f10","[23~":"f11","[24~":"f12","[A":"up","[B":"down","[C":"right","[D":"left","[E":"clear","[F":"end","[H":"home",OA:"up",OB:"down",OC:"right",OD:"left",OE:"clear",OF:"end",OH:"home","[1~":"home","[2~":"insert","[3~":"delete","[4~":"end","[5~":"pageup","[6~":"pagedown","[[5~":"pageup","[[6~":"pagedown","[7~":"home","[8~":"end","[a":"up","[b":"down","[c":"right","[d":"left","[e":"clear","[2$":"insert","[3$":"delete","[5$":"pageup","[6$":"pagedown","[7$":"home","[8$":"end",Oa:"up",Ob:"down",Oc:"right",Od:"left",Oe:"clear","[2^":"insert","[3^":"delete","[5^":"pageup","[6^":"pagedown","[7^":"home","[8^":"end","[Z":"tab"};function p(c){return["[a","[b","[c","[d","[e","[2$","[3$","[5$","[6$","[7$","[8$","[Z"].includes(c)}function s(c){return["Oa","Ob","Oc","Od","Oe","[2^","[3^","[5^","[6^","[7^","[8^"].includes(c)}const l=(c="",a={})=>{let f,i={name:a.name,ctrl:!1,meta:!1,shift:!1,option:!1,sequence:c,raw:c,...a};if(xs.isBuffer(c)?c[0]>127&&c[1]===void 0?(c[0]-=128,c="\x1B"+String(c)):c=String(c):c!==void 0&&typeof c!="string"?c=String(c):c||(c=i.sequence||""),i.sequence=i.sequence||c||i.name,c==="\r")i.raw=void 0,i.name="return";else if(c===`
`)i.name="enter";else if(c==="	")i.name="tab";else if(c==="\b"||c===""||c==="\x1B"||c==="\x1B\b")i.name="backspace",i.meta=c.charAt(0)==="\x1B";else if(c==="\x1B"||c==="\x1B\x1B")i.name="escape",i.meta=c.length===2;else if(c===" "||c==="\x1B ")i.name="space",i.meta=c.length===2;else if(c<="")i.name=String.fromCharCode(c.charCodeAt(0)+97-1),i.ctrl=!0;else if(c.length===1&&c>="0"&&c<="9")i.name="number";else if(c.length===1&&c>="a"&&c<="z")i.name=c;else if(c.length===1&&c>="A"&&c<="Z")i.name=c.toLowerCase(),i.shift=!0;else if(f=n.exec(c))i.meta=!0,i.shift=/^[A-Z]$/.test(f[1]);else if(f=o.exec(c)){let d=[...c];d[0]==="\x1B"&&d[1]==="\x1B"&&(i.option=!0);let m=[f[1],f[2],f[4],f[6]].filter(Boolean).join(""),D=(f[3]||f[5]||1)-1;i.ctrl=!!(D&4),i.meta=!!(D&10),i.shift=!!(D&1),i.code=m,i.name=h[m],i.shift=p(m)||i.shift,i.ctrl=s(m)||i.ctrl}return i};return l.listen=(c={},a)=>{let{stdin:f}=c;if(!f||f!==oe.stdin&&!f.isTTY)throw new Error("Invalid stream passed");let i=t.createInterface({terminal:!0,input:f});t.emitKeypressEvents(f,i);const d=new r((u,_)=>a(u,l(u,_),i));let m=f.isRaw;return f.isTTY&&f.setRawMode(!0),f.on("keypress",d.enqueue),i.resume(),()=>{f.isTTY&&f.setRawMode(m),f.removeListener("keypress",d.enqueue),d.destroy(),i.pause(),i.close()}},l.action=(c,a,f)=>{let i={...e,...f};return a.ctrl?(a.action=i.ctrl[a.name],a):a.option&&i.option?(a.action=i.option[a.name],a):a.shift?(a.action=i.shift[a.name],a):(a.action=i.keys[a.name],a)},fa=l,fa}var da,tf;function g1(){if(tf)return da;tf=1,da=e=>{e.timers=e.timers||{};let r=e.options.timers;if(r)for(let n of Object.keys(r)){let o=r[n];typeof o=="number"&&(o={interval:o}),t(e,n,o)}};function t(e,r,n={}){let o=e.timers[r]={name:r,start:Date.now(),ms:0,tick:0},h=n.interval||120;o.frames=n.frames||[],o.loading=!0;let p=setInterval(()=>{o.ms=Date.now()-o.start,o.tick++,e.render()},h);return o.stop=()=>{o.loading=!1,clearInterval(p)},Reflect.defineProperty(o,"interval",{value:p}),e.once("close",()=>o.stop()),o.stop}return da}var pa,rf;function m1(){if(rf)return pa;rf=1;const{define:t,width:e}=rt;class r{constructor(o){let h=o.options;t(this,"_prompt",o),this.type=o.type,this.name=o.name,this.message="",this.header="",this.footer="",this.error="",this.hint="",this.input="",this.cursor=0,this.index=0,this.lines=0,this.tick=0,this.prompt="",this.buffer="",this.width=e(h.stdout||oe.stdout),Object.assign(this,h),this.name=this.name||this.message,this.message=this.message||this.name,this.symbols=o.symbols,this.styles=o.styles,this.required=new Set,this.cancelled=!1,this.submitted=!1}clone(){let o={...this};return o.status=this.status,o.buffer=xs.from(o.buffer),delete o.clone,o}set color(o){this._color=o}get color(){let o=this.prompt.styles;if(this.cancelled)return o.cancelled;if(this.submitted)return o.submitted;let h=this._color||o[this.status];return typeof h=="function"?h:o.pending}set loading(o){this._loading=o}get loading(){return typeof this._loading=="boolean"?this._loading:this.loadingChoices?"choices":!1}get status(){return this.cancelled?"cancelled":this.submitted?"submitted":"pending"}}return pa=r,pa}var ga,sf;function _1(){if(sf)return ga;sf=1;const t=rt,e=ua,r={default:e.noop,noop:e.noop,set inverse(n){this._inverse=n},get inverse(){return this._inverse||t.inverse(this.primary)},set complement(n){this._complement=n},get complement(){return this._complement||t.complement(this.primary)},primary:e.cyan,success:e.green,danger:e.magenta,strong:e.bold,warning:e.yellow,muted:e.dim,disabled:e.gray,dark:e.dim.gray,underline:e.underline,set info(n){this._info=n},get info(){return this._info||this.primary},set em(n){this._em=n},get em(){return this._em||this.primary.underline},set heading(n){this._heading=n},get heading(){return this._heading||this.muted.underline},set pending(n){this._pending=n},get pending(){return this._pending||this.primary},set submitted(n){this._submitted=n},get submitted(){return this._submitted||this.success},set cancelled(n){this._cancelled=n},get cancelled(){return this._cancelled||this.danger},set typing(n){this._typing=n},get typing(){return this._typing||this.dim},set placeholder(n){this._placeholder=n},get placeholder(){return this._placeholder||this.primary.dim},set highlight(n){this._highlight=n},get highlight(){return this._highlight||this.inverse}};return r.merge=(n={})=>{n.styles&&typeof n.styles.enabled=="boolean"&&(e.enabled=n.styles.enabled),n.styles&&typeof n.styles.visible=="boolean"&&(e.visible=n.styles.visible);let o=t.merge({},r,n.styles);delete o.merge;for(let h of Object.keys(e))hasOwnProperty.call(o,h)||Reflect.defineProperty(o,h,{get:()=>e[h]});for(let h of Object.keys(e.styles))hasOwnProperty.call(o,h)||Reflect.defineProperty(o,h,{get:()=>e[h]});return o},ga=r,ga}var ma,nf;function v1(){if(nf)return ma;nf=1;const t=oe.platform==="win32",e=ua,r=rt,n={...e.symbols,upDownDoubleArrow:"â",upDownDoubleArrow2:"â¬",upDownArrow:"â",asterisk:"*",asterism:"â",bulletWhite:"â¦",electricArrow:"â",ellipsisLarge:"â¯",ellipsisSmall:"â¦",fullBlock:"â",identicalTo:"â¡",indicator:e.symbols.check,leftAngle:"â¹",mark:"â»",minus:"â",multiplication:"Ã",obelus:"Ã·",percent:"%",pilcrow:"Â¶",pilcrow2:"â¡",pencilUpRight:"â",pencilDownRight:"â",pencilRight:"â",plus:"+",plusMinus:"Â±",pointRight:"â",rightAngle:"âº",section:"Â§",hexagon:{off:"â¬¡",on:"â¬¢",disabled:"â¬¢"},ballot:{on:"â",off:"â",disabled:"â"},stars:{on:"â",off:"â",disabled:"â"},folder:{on:"â¼",off:"â¶",disabled:"â¶"},prefix:{pending:e.symbols.question,submitted:e.symbols.check,cancelled:e.symbols.cross},separator:{pending:e.symbols.pointerSmall,submitted:e.symbols.middot,cancelled:e.symbols.middot},radio:{off:t?"( )":"â¯",on:t?"(*)":"â",disabled:t?"(|)":"â¾"},numbers:["âª","â ","â¡","â¢","â£","â¤","â¥","â¦","â§","â¨","â©","âª","â«","â¬","â­","â®","â¯","â°","â±","â²","â³","ã","ã","ã","ã","ã","ã","ã","ã","ã","ã","ã","ã","ã","ã","ã","ã±","ã²","ã³","ã´","ãµ","ã¶","ã·","ã¸","ã¹","ãº","ã»","ã¼","ã½","ã¾","ã¿"]};return n.merge=o=>{let h=r.merge({},e.symbols,n,o.symbols);return delete h.merge,h},ma=n,ma}var _a,of;function D1(){if(of)return _a;of=1;const t=_1(),e=v1(),r=rt;return _a=n=>{n.options=r.merge({},n.options.theme,n.options),n.symbols=e.merge(n.options),n.styles=t.merge(n.options)},_a}var Cs={exports:{}},af;function y1(){return af||(af=1,function(t,e){const r=oe.env.TERM_PROGRAM==="Apple_Terminal",n=_r(),o=rt,h=t.exports=e,p="\x1B[",s="\x07";let l=!1;const c=h.code={bell:s,beep:s,beginning:`${p}G`,down:`${p}J`,esc:p,getPosition:`${p}6n`,hide:`${p}?25l`,line:`${p}2K`,lineEnd:`${p}K`,lineStart:`${p}1K`,restorePosition:p+(r?"8":"u"),savePosition:p+(r?"7":"s"),screen:`${p}2J`,show:`${p}?25h`,up:`${p}1J`},a=h.cursor={get hidden(){return l},hide(){return l=!0,c.hide},show(){return l=!1,c.show},forward:(i=1)=>`${p}${i}C`,backward:(i=1)=>`${p}${i}D`,nextLine:(i=1)=>`${p}E`.repeat(i),prevLine:(i=1)=>`${p}F`.repeat(i),up:(i=1)=>i?`${p}${i}A`:"",down:(i=1)=>i?`${p}${i}B`:"",right:(i=1)=>i?`${p}${i}C`:"",left:(i=1)=>i?`${p}${i}D`:"",to(i,d){return d?`${p}${d+1};${i+1}H`:`${p}${i+1}G`},move(i=0,d=0){let m="";return m+=i<0?a.left(-i):i>0?a.right(i):"",m+=d<0?a.up(-d):d>0?a.down(d):"",m},strLen(i){for(var d=0,m=i.length,D=-1,u=0;u<m;u++)D=i.charCodeAt(u),D>=0&&D<=128?d+=1:d+=2;return d},restore(i={}){let{after:d,cursor:m,initial:D,input:u,prompt:_,size:g,value:v}=i;if(D=o.isPrimitive(D)?String(D):"",u=o.isPrimitive(u)?String(u):"",v=o.isPrimitive(v)?String(v):"",g){let y=h.cursor.up(g)+h.cursor.to(this.strLen(_)),b=u.length-m;return b>0&&(y+=h.cursor.left(b)),y}if(v||d){let y=!u&&D?-this.strLen(D):-this.strLen(u)+m;return d&&(y-=this.strLen(d)),u===""&&D&&!_.includes(D)&&(y+=this.strLen(D)),h.cursor.move(y)}}},f=h.erase={screen:c.screen,up:c.up,down:c.down,line:c.line,lineEnd:c.lineEnd,lineStart:c.lineStart,lines(i){let d="";for(let m=0;m<i;m++)d+=h.erase.line+(m<i-1?h.cursor.up(1):"");return i&&(d+=h.code.beginning),d}};h.clear=(i="",d=oe.stdout.columns)=>{if(!d)return f.line+a.to(0);let m=_=>[...n(_)].length,D=i.split(/\r?\n/),u=0;for(let _ of D)u+=1+Math.floor(Math.max(m(_)-1,0)/d);return(f.line+a.prevLine()).repeat(u-1)+f.line+a.to(0)}}(Cs,Cs.exports)),Cs.exports}var va,uf;function Ci(){if(uf)return va;uf=1;const t=_i,e=_r(),r=ef(),n=g1(),o=m1(),h=D1(),p=rt,s=y1();class l extends t{constructor(i={}){super(),this.name=i.name,this.type=i.type,this.options=i,h(this),n(this),this.state=new o(this),this.initial=[i.initial,i.default].find(d=>d!=null),this.stdout=i.stdout||oe.stdout,this.stdin=i.stdin||oe.stdin,this.scale=i.scale||1,this.term=this.options.term||oe.env.TERM_PROGRAM,this.margin=a(this.options.margin),this.setMaxListeners(0),c(this)}async keypress(i,d={}){this.keypressed=!0;let m=r.action(i,r(i,d),this.options.actions);this.state.keypress=m,this.emit("keypress",i,m),this.emit("state",this.state.clone());const D=this.options[m.action]||this[m.action]||this.dispatch;if(typeof D=="function")return await D.call(this,i,m);this.alert()}alert(){delete this.state.alert,this.options.show===!1?this.emit("alert"):this.stdout.write(s.code.beep)}cursorHide(){this.stdout.write(s.cursor.hide());const i=p.onExit(()=>this.cursorShow());this.on("close",()=>{this.cursorShow(),i()})}cursorShow(){this.stdout.write(s.cursor.show())}write(i){i&&(this.stdout&&this.state.show!==!1&&this.stdout.write(i),this.state.buffer+=i)}clear(i=0){let d=this.state.buffer;this.state.buffer="",!(!d&&!i||this.options.show===!1)&&this.stdout.write(s.cursor.down(i)+s.clear(d,this.width))}restore(){if(this.state.closed||this.options.show===!1)return;let{prompt:i,after:d,rest:m}=this.sections(),{cursor:D,initial:u="",input:_="",value:g=""}=this,v=this.state.size=m.length,y={after:d,cursor:D,initial:u,input:_,prompt:i,size:v,value:g},b=s.cursor.restore(y);b&&this.stdout.write(b)}sections(){let{buffer:i,input:d,prompt:m}=this.state;m=e(m);let D=e(i),u=D.indexOf(m),_=D.slice(0,u),v=D.slice(u).split(`
`),y=v[0],b=v[v.length-1],F=(m+(d?" "+d:"")).length,C=F<y.length?y.slice(F+1):"";return{header:_,prompt:y,after:C,rest:v.slice(1),last:b}}async submit(){this.state.submitted=!0,this.state.validating=!0,this.options.onSubmit&&await this.options.onSubmit.call(this,this.name,this.value,this);let i=this.state.error||await this.validate(this.value,this.state);if(i!==!0){let d=`
`+this.symbols.pointer+" ";typeof i=="string"?d+=i.trim():d+="Invalid input",this.state.error=`
`+this.styles.danger(d),this.state.submitted=!1,await this.render(),await this.alert(),this.state.validating=!1,this.state.error=void 0;return}this.state.validating=!1,await this.render(),await this.close(),this.value=await this.result(this.value),this.emit("submit",this.value)}async cancel(i){this.state.cancelled=this.state.submitted=!0,await this.render(),await this.close(),typeof this.options.onCancel=="function"&&await this.options.onCancel.call(this,this.name,this.value,this),this.emit("cancel",await this.error(i))}async close(){this.state.closed=!0;try{let i=this.sections(),d=Math.ceil(i.prompt.length/this.width);i.rest&&this.write(s.cursor.down(i.rest.length)),this.write(`
`.repeat(d))}catch{}this.emit("close")}start(){!this.stop&&this.options.show!==!1&&(this.stop=r.listen(this,this.keypress.bind(this)),this.once("close",this.stop),this.emit("start",this))}async skip(){return this.skipped=this.options.skip===!0,typeof this.options.skip=="function"&&(this.skipped=await this.options.skip.call(this,this.name,this.value)),this.skipped}async initialize(){let{format:i,options:d,result:m}=this;if(this.format=()=>i.call(this,this.value),this.result=()=>m.call(this,this.value),typeof d.initial=="function"&&(this.initial=await d.initial.call(this,this)),typeof d.onRun=="function"&&await d.onRun.call(this,this),typeof d.onSubmit=="function"){let D=d.onSubmit.bind(this),u=this.submit.bind(this);delete this.options.onSubmit,this.submit=async()=>(await D(this.name,this.value,this),u())}await this.start(),await this.render()}render(){throw new Error("expected prompt to have a custom render method")}run(){return new Promise(async(i,d)=>{if(this.once("submit",i),this.once("cancel",d),await this.skip())return this.render=()=>{},this.submit();await this.initialize(),this.emit("run")})}async element(i,d,m){let{options:D,state:u,symbols:_,timers:g}=this,v=g&&g[i];u.timer=v;let y=D[i]||u[i]||_[i],b=d&&d[i]!=null?d[i]:await y;if(b==="")return b;let E=await this.resolve(b,u,d,m);return!E&&d&&d[i]?this.resolve(y,u,d,m):E}async prefix(){let i=await this.element("prefix")||this.symbols,d=this.timers&&this.timers.prefix,m=this.state;return m.timer=d,p.isObject(i)&&(i=i[m.status]||i.pending),p.hasColor(i)?i:(this.styles[m.status]||this.styles.pending)(i)}async message(){let i=await this.element("message");return p.hasColor(i)?i:this.styles.strong(i)}async separator(){let i=await this.element("separator")||this.symbols,d=this.timers&&this.timers.separator,m=this.state;m.timer=d;let D=i[m.status]||i.pending||m.separator,u=await this.resolve(D,m);return p.isObject(u)&&(u=u[m.status]||u.pending),p.hasColor(u)?u:this.styles.muted(u)}async pointer(i,d){let m=await this.element("pointer",i,d);if(typeof m=="string"&&p.hasColor(m))return m;if(m){let D=this.styles,u=this.index===d,_=u?D.primary:y=>y,g=await this.resolve(m[u?"on":"off"]||m,this.state),v=p.hasColor(g)?g:_(g);return u?v:" ".repeat(g.length)}}async indicator(i,d){let m=await this.element("indicator",i,d);if(typeof m=="string"&&p.hasColor(m))return m;if(m){let D=this.styles,u=i.enabled===!0,_=u?D.success:D.dark,g=m[u?"on":"off"]||m;return p.hasColor(g)?g:_(g)}return""}body(){return null}footer(){if(this.state.status==="pending")return this.element("footer")}header(){if(this.state.status==="pending")return this.element("header")}async hint(){if(this.state.status==="pending"&&!this.isValue(this.state.input)){let i=await this.element("hint");return p.hasColor(i)?i:this.styles.muted(i)}}error(i){return this.state.submitted?"":i||this.state.error}format(i){return i}result(i){return i}validate(i){return this.options.required===!0?this.isValue(i):!0}isValue(i){return i!=null&&i!==""}resolve(i,...d){return p.resolve(this,i,...d)}get base(){return l.prototype}get style(){return this.styles[this.state.status]}get height(){return this.options.rows||p.height(this.stdout,25)}get width(){return this.options.columns||p.width(this.stdout,80)}get size(){return{width:this.width,height:this.height}}set cursor(i){this.state.cursor=i}get cursor(){return this.state.cursor}set input(i){this.state.input=i}get input(){return this.state.input}set value(i){this.state.value=i}get value(){let{input:i,value:d}=this.state,m=[d,i].find(this.isValue.bind(this));return this.isValue(m)?m:this.initial}static get prompt(){return i=>new this(i).run()}}function c(f){let i=D=>f[D]===void 0||typeof f[D]=="function",d=["actions","choices","initial","margin","roles","styles","symbols","theme","timers","value"],m=["body","footer","error","header","hint","indicator","message","prefix","separator","skip"];for(let D of Object.keys(f.options)){if(d.includes(D)||/^on[A-Z]/.test(D))continue;let u=f.options[D];typeof u=="function"&&i(D)?m.includes(D)||(f[D]=u.bind(f)):typeof f[D]!="function"&&(f[D]=u)}}function a(f){typeof f=="number"&&(f=[f,f,f,f]);let i=[].concat(f||[]),d=D=>D%2===0?`
`:" ",m=[];for(let D=0;D<4;D++){let u=d(D);i[D]?m.push(u.repeat(i[D])):m.push("")}return m}return va=l,va}var Da={},ya,lf;function b1(){if(lf)return ya;lf=1;const t=rt,e={default(r,n){return n},checkbox(r,n){throw new Error("checkbox role is not implemented yet")},editable(r,n){throw new Error("editable role is not implemented yet")},expandable(r,n){throw new Error("expandable role is not implemented yet")},heading(r,n){return n.disabled="",n.indicator=[n.indicator," "].find(o=>o!=null),n.message=n.message||"",n},input(r,n){throw new Error("input role is not implemented yet")},option(r,n){return e.default(r,n)},radio(r,n){throw new Error("radio role is not implemented yet")},separator(r,n){return n.disabled="",n.indicator=[n.indicator," "].find(o=>o!=null),n.message=n.message||r.symbols.line.repeat(5),n},spacer(r,n){return n}};return ya=(r,n={})=>{let o=t.merge({},e,n.roles);return o[r]||o.default},ya}var ba,hf;function Ss(){if(hf)return ba;hf=1;const t=_r(),e=Ci(),r=b1(),n=rt,{reorder:o,scrollUp:h,scrollDown:p,isObject:s,swap:l}=n;class c extends e{constructor(i){super(i),this.cursorHide(),this.maxSelected=i.maxSelected||1/0,this.multiple=i.multiple||!1,this.initial=i.initial||0,this.delay=i.delay||0,this.longest=0,this.num=""}async initialize(){typeof this.options.initial=="function"&&(this.initial=await this.options.initial.call(this)),await this.reset(!0),await super.initialize()}async reset(){let{choices:i,initial:d,autofocus:m,suggest:D}=this.options;if(this.state._choices=[],this.state.choices=[],this.choices=await Promise.all(await this.toChoices(i)),this.choices.forEach(u=>u.enabled=!1),typeof D!="function"&&this.selectable.length===0)throw new Error("At least one choice must be selectable");s(d)&&(d=Object.keys(d)),Array.isArray(d)?(m!=null&&(this.index=this.findIndex(m)),d.forEach(u=>this.enable(this.find(u))),await this.render()):(m!=null&&(d=m),typeof d=="string"&&(d=this.findIndex(d)),typeof d=="number"&&d>-1&&(this.index=Math.max(0,Math.min(d,this.choices.length)),this.enable(this.find(this.index)))),this.isDisabled(this.focused)&&await this.down()}async toChoices(i,d){this.state.loadingChoices=!0;let m=[],D=0,u=async(_,g)=>{typeof _=="function"&&(_=await _.call(this)),_ instanceof Promise&&(_=await _);for(let v=0;v<_.length;v++){let y=_[v]=await this.toChoice(_[v],D++,g);m.push(y),y.choices&&await u(y.choices,y)}return m};return u(i,d).then(_=>(this.state.loadingChoices=!1,_))}async toChoice(i,d,m){if(typeof i=="function"&&(i=await i.call(this,this)),i instanceof Promise&&(i=await i),typeof i=="string"&&(i={name:i}),i.normalized)return i;i.normalized=!0;let D=i.value;if(i=r(i.role,this.options)(this,i),typeof i.disabled=="string"&&!i.hint&&(i.hint=i.disabled,i.disabled=!0),i.disabled===!0&&i.hint==null&&(i.hint="(disabled)"),i.index!=null)return i;i.name=i.name||i.key||i.title||i.value||i.message,i.message=i.message||i.name||"",i.value=[i.value,i.name].find(this.isValue.bind(this)),i.input="",i.index=d,i.cursor=0,n.define(i,"parent",m),i.level=m?m.level+1:1,i.indent==null&&(i.indent=m?m.indent+"  ":i.indent||""),i.path=m?m.path+"."+i.name:i.name,i.enabled=!!(this.multiple&&!this.isDisabled(i)&&(i.enabled||this.isSelected(i))),this.isDisabled(i)||(this.longest=Math.max(this.longest,t(i.message).length));let _={...i};return i.reset=(g=_.input,v=_.value)=>{for(let y of Object.keys(_))i[y]=_[y];i.input=g,i.value=v},D==null&&typeof i.initial=="function"&&(i.input=await i.initial.call(this,this.state,i,d)),i}async onChoice(i,d){this.emit("choice",i,d,this),typeof i.onChoice=="function"&&await i.onChoice.call(this,this.state,i,d)}async addChoice(i,d,m){let D=await this.toChoice(i,d,m);return this.choices.push(D),this.index=this.choices.length-1,this.limit=this.choices.length,D}async newItem(i,d,m){let D={name:"New choice name?",editable:!0,newChoice:!0,...i},u=await this.addChoice(D,d,m);return u.updateChoice=()=>{delete u.newChoice,u.name=u.message=u.input,u.input="",u.cursor=0},this.render()}indent(i){return i.indent==null?i.level>1?"  ".repeat(i.level-1):"":i.indent}dispatch(i,d){if(this.multiple&&this[d.name])return this[d.name]();this.alert()}focus(i,d){return typeof d!="boolean"&&(d=i.enabled),d&&!i.enabled&&this.selected.length>=this.maxSelected?this.alert():(this.index=i.index,i.enabled=d&&!this.isDisabled(i),i)}space(){if(!this.multiple)return this.alert();if(this.focused)return this.toggle(this.focused),this.render()}a(){if(this.maxSelected<this.choices.length)return this.alert();let i=this.selectable.every(d=>d.enabled);return this.choices.forEach(d=>d.enabled=!i),this.render()}i(){return this.choices.length-this.selected.length>this.maxSelected?this.alert():(this.choices.forEach(i=>i.enabled=!i.enabled),this.render())}g(){if(!this.choices.some(d=>!!d.parent))return this.a();const i=this.focused;return this.toggle(i.parent&&!i.choices?i.parent:i),this.render()}toggle(i,d){if(!i.enabled&&this.selected.length>=this.maxSelected)return this.alert();typeof d!="boolean"&&(d=!i.enabled),i.enabled=d,i.choices&&i.choices.forEach(D=>this.toggle(D,d));let m=i.parent;for(;m;){let D=m.choices.filter(u=>this.isDisabled(u));m.enabled=D.every(u=>u.enabled===!0),m=m.parent}return a(this,this.choices),this.emit("toggle",i,this),i}enable(i){return this.selected.length>=this.maxSelected?this.alert():(i.enabled=!this.isDisabled(i),i.choices&&i.choices.forEach(this.enable.bind(this)),i)}disable(i){return i.enabled=!1,i.choices&&i.choices.forEach(this.disable.bind(this)),i}number(i){this.num+=i;let d=m=>{let D=Number(m);if(D>this.choices.length-1)return this.alert();let u=this.focused,_=this.choices.find(g=>D===g.index);if(!_.enabled&&this.selected.length>=this.maxSelected)return this.alert();if(this.visible.indexOf(_)===-1){let g=o(this.choices),v=g.indexOf(_);if(u.index>v){let y=g.slice(v,v+this.limit),b=g.filter(E=>!y.includes(E));this.choices=y.concat(b)}else{let y=v-this.limit+1;this.choices=g.slice(y).concat(g.slice(0,y))}}return this.index=this.choices.indexOf(_),this.toggle(this.focused),this.render()};return clearTimeout(this.numberTimeout),new Promise(m=>{let D=this.choices.length,u=this.num,_=(g=!1,v)=>{clearTimeout(this.numberTimeout),g&&(v=d(u)),this.num="",m(v)};if(u==="0"||u.length===1&&+(u+"0")>D)return _(!0);if(Number(u)>D)return _(!1,this.alert());this.numberTimeout=setTimeout(()=>_(!0),this.delay)})}home(){return this.choices=o(this.choices),this.index=0,this.render()}end(){let i=this.choices.length-this.limit,d=o(this.choices);return this.choices=d.slice(i).concat(d.slice(0,i)),this.index=this.limit-1,this.render()}first(){return this.index=0,this.render()}last(){return this.index=this.visible.length-1,this.render()}prev(){return this.visible.length<=1?this.alert():this.up()}next(){return this.visible.length<=1?this.alert():this.down()}right(){return this.cursor>=this.input.length?this.alert():(this.cursor++,this.render())}left(){return this.cursor<=0?this.alert():(this.cursor--,this.render())}up(){let i=this.choices.length,d=this.visible.length,m=this.index;return this.options.scroll===!1&&m===0?this.alert():i>d&&m===0?this.scrollUp():(this.index=(m-1%i+i)%i,this.isDisabled()&&!this.allChoicesAreDisabled()?this.up():this.render())}down(){let i=this.choices.length,d=this.visible.length,m=this.index;return this.options.scroll===!1&&m===d-1?this.alert():i>d&&m===d-1?this.scrollDown():(this.index=(m+1)%i,this.isDisabled()&&!this.allChoicesAreDisabled()?this.down():this.render())}scrollUp(i=0){return this.choices=h(this.choices),this.index=i,this.isDisabled()?this.up():this.render()}scrollDown(i=this.visible.length-1){return this.choices=p(this.choices),this.index=i,this.isDisabled()?this.down():this.render()}async shiftUp(){if(this.options.sort===!0){this.sorting=!0,this.swap(this.index-1),await this.up(),this.sorting=!1;return}return this.scrollUp(this.index)}async shiftDown(){if(this.options.sort===!0){this.sorting=!0,this.swap(this.index+1),await this.down(),this.sorting=!1;return}return this.scrollDown(this.index)}pageUp(){return this.visible.length<=1?this.alert():(this.limit=Math.max(this.limit-1,0),this.index=Math.min(this.limit-1,this.index),this._limit=this.limit,this.isDisabled()?this.up():this.render())}pageDown(){return this.visible.length>=this.choices.length?this.alert():(this.index=Math.max(0,this.index),this.limit=Math.min(this.limit+1,this.choices.length),this._limit=this.limit,this.isDisabled()?this.down():this.render())}swap(i){l(this.choices,this.index,i)}allChoicesAreDisabled(i=this.choices){return i.every(d=>this.isDisabled(d))}isDisabled(i=this.focused){return i&&["disabled","collapsed","hidden","completing","readonly"].some(m=>i[m]===!0)?!0:i&&i.role==="heading"}isEnabled(i=this.focused){if(Array.isArray(i))return i.every(d=>this.isEnabled(d));if(i.choices){let d=i.choices.filter(m=>!this.isDisabled(m));return i.enabled&&d.every(m=>this.isEnabled(m))}return i.enabled&&!this.isDisabled(i)}isChoice(i,d){return i.name===d||i.index===Number(d)}isSelected(i){return Array.isArray(this.initial)?this.initial.some(d=>this.isChoice(i,d)):this.isChoice(i,this.initial)}map(i=[],d="value"){return[].concat(i||[]).reduce((m,D)=>(m[D]=this.find(D,d),m),{})}filter(i,d){let D=typeof i=="function"?i:(g,v)=>[g.name,v].includes(i),_=(this.options.multiple?this.state._choices:this.choices).filter(D);return d?_.map(g=>g[d]):_}find(i,d){if(s(i))return d?i[d]:i;let D=typeof i=="function"?i:(_,g)=>[_.name,g].includes(i),u=this.choices.find(D);if(u)return d?u[d]:u}findIndex(i){return this.choices.indexOf(this.find(i))}async submit(){let i=this.focused;if(!i)return this.alert();if(i.newChoice)return i.input?(i.updateChoice(),this.render()):this.alert();if(this.choices.some(_=>_.newChoice))return this.alert();let{reorder:d,sort:m}=this.options,D=this.multiple===!0,u=this.selected;return u===void 0?this.alert():(Array.isArray(u)&&d!==!1&&m!==!0&&(u=n.reorder(u)),this.value=D?u.map(_=>_.name):u.name,super.submit())}set choices(i=[]){this.state._choices=this.state._choices||[],this.state.choices=i;for(let d of i)this.state._choices.some(m=>m.name===d.name)||this.state._choices.push(d);if(!this._initial&&this.options.initial){this._initial=!0;let d=this.initial;if(typeof d=="string"||typeof d=="number"){let m=this.find(d);m&&(this.initial=m.index,this.focus(m,!0))}}}get choices(){return a(this,this.state.choices||[])}set visible(i){this.state.visible=i}get visible(){return(this.state.visible||this.choices).slice(0,this.limit)}set limit(i){this.state.limit=i}get limit(){let{state:i,options:d,choices:m}=this,D=i.limit||this._limit||d.limit||m.length;return Math.min(D,this.height)}set value(i){super.value=i}get value(){return typeof super.value!="string"&&super.value===this.initial?this.input:super.value}set index(i){this.state.index=i}get index(){return Math.max(0,this.state?this.state.index:0)}get enabled(){return this.filter(this.isEnabled.bind(this))}get focused(){let i=this.choices[this.index];return i&&this.state.submitted&&this.multiple!==!0&&(i.enabled=!0),i}get selectable(){return this.choices.filter(i=>!this.isDisabled(i))}get selected(){return this.multiple?this.enabled:this.focused}}function a(f,i){if(i instanceof Promise)return i;if(typeof i=="function"){if(n.isAsyncFn(i))return i;i=i.call(f,f)}for(let d of i){if(Array.isArray(d.choices)){let m=d.choices.filter(D=>!f.isDisabled(D));d.enabled=m.every(D=>D.enabled===!0)}f.isDisabled(d)===!0&&delete d.enabled}return i}return ba=c,ba}var Ca,cf;function Dr(){if(cf)return Ca;cf=1;const t=Ss(),e=rt;class r extends t{constructor(o){super(o),this.emptyError=this.options.emptyError||"No items were selected"}async dispatch(o,h){if(this.multiple)return this[h.name]?await this[h.name](o,h):await super.dispatch(o,h);this.alert()}separator(){if(this.options.separator)return super.separator();let o=this.styles.muted(this.symbols.ellipsis);return this.state.submitted?super.separator():o}pointer(o,h){return!this.multiple||this.options.pointer?super.pointer(o,h):""}indicator(o,h){return this.multiple?super.indicator(o,h):""}choiceMessage(o,h){let p=this.resolve(o.message,this.state,o,h);return o.role==="heading"&&!e.hasColor(p)&&(p=this.styles.strong(p)),this.resolve(p,this.state,o,h)}choiceSeparator(){return":"}async renderChoice(o,h){await this.onChoice(o,h);let p=this.index===h,s=await this.pointer(o,h),l=await this.indicator(o,h)+(o.pad||""),c=await this.resolve(o.hint,this.state,o,h);c&&!e.hasColor(c)&&(c=this.styles.muted(c));let a=this.indent(o),f=await this.choiceMessage(o,h),i=()=>[this.margin[3],a+s+l,f,this.margin[1],c].filter(Boolean).join(" ");return o.role==="heading"?i():o.disabled?(e.hasColor(f)||(f=this.styles.disabled(f)),i()):(p&&(f=this.styles.em(f)),i())}async renderChoices(){if(this.state.loading==="choices")return this.styles.warning("Loading choices");if(this.state.submitted)return"";let o=this.visible.map(async(l,c)=>await this.renderChoice(l,c)),h=await Promise.all(o);h.length||h.push(this.styles.danger("No matching choices"));let p=this.margin[0]+h.join(`
`),s;return this.options.choicesHeader&&(s=await this.resolve(this.options.choicesHeader,this.state)),[s,p].filter(Boolean).join(`
`)}format(){return!this.state.submitted||this.state.cancelled?"":Array.isArray(this.selected)?this.selected.map(o=>this.styles.primary(o.name)).join(", "):this.styles.primary(this.selected.name)}async render(){let{submitted:o,size:h}=this.state,p="",s=await this.header(),l=await this.prefix(),c=await this.separator(),a=await this.message();this.options.promptLine!==!1&&(p=[l,a,c,""].join(" "),this.state.prompt=p);let f=await this.format(),i=await this.error()||await this.hint(),d=await this.renderChoices(),m=await this.footer();f&&(p+=f),i&&!p.includes(i)&&(p+=" "+i),o&&!f&&!d.trim()&&this.multiple&&this.emptyError!=null&&(p+=this.styles.danger(this.emptyError)),this.clear(h),this.write([s,p,d,m].filter(Boolean).join(`
`)),this.write(this.margin[2]),this.restore()}}return Ca=r,Ca}var Sa,ff;function C1(){if(ff)return Sa;ff=1;const t=Dr(),e=(n,o)=>{const h=n?new RegExp(n,"ig"):/$^/;return p=>n?p.replace(h,s=>o(s)):p};class r extends t{constructor(o){super(o),this.cursorShow()}moveCursor(o){this.state.cursor+=o}dispatch(o){return this.append(o)}space(o){return this.options.multiple?super.space(o):this.append(o)}append(o){let{cursor:h,input:p}=this.state;return this.input=p.slice(0,h)+o+p.slice(h),this.moveCursor(1),this.complete()}delete(){let{cursor:o,input:h}=this.state;return h?(this.input=h.slice(0,o-1)+h.slice(o),this.moveCursor(-1),this.complete()):this.alert()}deleteForward(){let{cursor:o,input:h}=this.state;return h[o]===void 0?this.alert():(this.input=`${h}`.slice(0,o)+`${h}`.slice(o+1),this.complete())}number(o){return this.append(o)}async complete(){this.completing=!0,this.choices=await this.suggest(this.input,this.state._choices),this.state.limit=void 0,this.index=Math.min(Math.max(this.visible.length-1,0),this.index),await this.render(),this.completing=!1}suggest(o=this.input,h=this.state._choices){if(typeof this.options.suggest=="function")return this.options.suggest.call(this,o,h);let p=o.toLowerCase();return h.filter(s=>s.message.toLowerCase().includes(p))}pointer(){return""}format(){if(!this.focused)return this.input;if(this.options.multiple&&this.state.submitted)return this.selected.map(o=>this.styles.primary(o.message)).join(", ");if(this.state.submitted){let o=this.value=this.input=this.focused.value;return this.styles.primary(o)}return this.input}async render(){if(this.state.status!=="pending")return super.render();const o=this.options.highlight||this.styles.complement,h=(l,c)=>l&&(o.stack?o(l):o.call(this,l)),p=e(this.input,h),s=this.choices;this.choices=s.map(l=>({...l,message:p(l.message)})),await super.render(),this.choices=s}submit(){return this.options.multiple&&(this.value=this.selected.map(o=>o.name)),super.submit()}}return Sa=r,Sa}var wa,df;function pf(){if(df)return wa;df=1;const t=rt;return wa=(e,r={})=>{e.cursorHide();let{input:n="",initial:o="",pos:h,showCursor:p=!0,color:s}=r,l=s||e.styles.placeholder,c=t.inverse(e.styles.primary),a=u=>c(e.styles.black(u)),f=n,i=" ",d=a(i);if(e.blink&&e.blink.off===!0&&(a=u=>u,d=""),p&&h===0&&o===""&&n==="")return a(i);if(p&&h===0&&(n===o||n===""))return a(o[0])+l(o.slice(1));o=t.isPrimitive(o)?`${o}`:"",n=t.isPrimitive(n)?`${n}`:"";let m=o&&o.startsWith(n)&&o!==n,D=m?a(o[n.length]):d;if(h!==n.length&&p===!0&&(f=n.slice(0,h)+a(n[h])+n.slice(h+1),D=""),p===!1&&(D=""),m){let u=e.styles.unstyle(f+D);return f+D+l(o.slice(u.length))}return f+D},wa}var Ea,gf;function Fa(){if(gf)return Ea;gf=1;const t=_r(),e=Dr(),r=pf();class n extends e{constructor(h){super({...h,multiple:!0}),this.type="form",this.initial=this.options.initial,this.align=[this.options.align,"right"].find(p=>p!=null),this.emptyError="",this.values={}}async reset(h){return await super.reset(),h===!0&&(this._index=this.index),this.index=this._index,this.values={},this.choices.forEach(p=>p.reset&&p.reset()),this.render()}dispatch(h){return!!h&&this.append(h)}append(h){let p=this.focused;if(!p)return this.alert();let{cursor:s,input:l}=p;return p.value=p.input=l.slice(0,s)+h+l.slice(s),p.cursor++,this.render()}delete(){let h=this.focused;if(!h||h.cursor<=0)return this.alert();let{cursor:p,input:s}=h;return h.value=h.input=s.slice(0,p-1)+s.slice(p),h.cursor--,this.render()}deleteForward(){let h=this.focused;if(!h)return this.alert();let{cursor:p,input:s}=h;if(s[p]===void 0)return this.alert();let l=`${s}`.slice(0,p)+`${s}`.slice(p+1);return h.value=h.input=l,this.render()}right(){let h=this.focused;return h?h.cursor>=h.input.length?this.alert():(h.cursor++,this.render()):this.alert()}left(){let h=this.focused;return h?h.cursor<=0?this.alert():(h.cursor--,this.render()):this.alert()}space(h,p){return this.dispatch(h,p)}number(h,p){return this.dispatch(h,p)}next(){let h=this.focused;if(!h)return this.alert();let{initial:p,input:s}=h;return p&&p.startsWith(s)&&s!==p?(h.value=h.input=p,h.cursor=h.value.length,this.render()):super.next()}prev(){let h=this.focused;return h?h.cursor===0?super.prev():(h.value=h.input="",h.cursor=0,this.render()):this.alert()}separator(){return""}format(h){return this.state.submitted?"":super.format(h)}pointer(){return""}indicator(h){return h.input?"â¦¿":"â"}async choiceSeparator(h,p){let s=await this.resolve(h.separator,this.state,h,p)||":";return s?" "+this.styles.disabled(s):""}async renderChoice(h,p){await this.onChoice(h,p);let{state:s,styles:l}=this,{cursor:c,initial:a="",name:f,input:i=""}=h,{muted:d,submitted:m,primary:D,danger:u}=l,_=this.index===p,g=h.validate||(()=>!0),v=await this.choiceSeparator(h,p),y=h.message;this.align==="right"&&(y=y.padStart(this.longest+1," ")),this.align==="left"&&(y=y.padEnd(this.longest+1," "));let b=this.values[f]=i||a,E=i?"success":"dark";await g.call(h,b,this.state)!==!0&&(E="danger");let F=l[E],C=F(await this.indicator(h,p))+(h.pad||""),A=this.indent(h),L=()=>[A,C,y+v,i].filter(Boolean).join(" ");if(s.submitted)return y=t(y),i=m(i),L();if(h.format)i=await h.format.call(this,i,h,p);else{let T=this.styles.muted;i=r(this,{input:i,initial:a,pos:c,showCursor:_,color:T})}return this.isValue(i)||(i=this.styles.muted(this.symbols.ellipsis)),h.result&&(this.values[f]=await h.result.call(this,b,h,p)),_&&(y=D(y)),h.error?i+=(i?" ":"")+u(h.error.trim()):h.hint&&(i+=(i?" ":"")+d(h.hint.trim())),L()}async submit(){return this.value=this.values,super.base.submit.call(this)}}return Ea=n,Ea}var Aa,mf;function _f(){if(mf)return Aa;mf=1;const t=Fa(),e=()=>{throw new Error("expected prompt to have a custom authenticate method")},r=(n=e)=>{class o extends t{constructor(p){super(p)}async submit(){this.value=await n.call(this,this.values,this.state),super.base.submit.call(this)}static create(p){return r(p)}}return o};return Aa=r(),Aa}var xa,vf;function S1(){if(vf)return xa;vf=1;const t=_f();function e(n,o){return n.username===this.options.username&&n.password===this.options.password}const r=(n=e)=>{const o=[{name:"username",message:"username"},{name:"password",message:"password",format(p){return this.options.showPassword?p:(this.state.submitted?this.styles.primary:this.styles.muted)(this.symbols.asterisk.repeat(p.length))}}];class h extends t.create(n){constructor(s){super({...s,choices:o})}static create(s){return r(s)}}return h};return xa=r(),xa}var Ba,Df;function ka(){if(Df)return Ba;Df=1;const t=Ci(),{isPrimitive:e,hasColor:r}=rt;class n extends t{constructor(h){super(h),this.cursorHide()}async initialize(){let h=await this.resolve(this.initial,this.state);this.input=await this.cast(h),await super.initialize()}dispatch(h){return this.isValue(h)?(this.input=h,this.submit()):this.alert()}format(h){let{styles:p,state:s}=this;return s.submitted?p.success(h):p.primary(h)}cast(h){return this.isTrue(h)}isTrue(h){return/^[ty1]/i.test(h)}isFalse(h){return/^[fn0]/i.test(h)}isValue(h){return e(h)&&(this.isTrue(h)||this.isFalse(h))}async hint(){if(this.state.status==="pending"){let h=await this.element("hint");return r(h)?h:this.styles.muted(h)}}async render(){let{input:h,size:p}=this.state,s=await this.prefix(),l=await this.separator(),c=await this.message(),a=this.styles.muted(this.default),f=[s,c,a,l].filter(Boolean).join(" ");this.state.prompt=f;let i=await this.header(),d=this.value=this.cast(h),m=await this.format(d),D=await this.error()||await this.hint(),u=await this.footer();D&&!f.includes(D)&&(m+=" "+D),f+=" "+m,this.clear(p),this.write([i,f,u].filter(Boolean).join(`
`)),this.restore()}set value(h){super.value=h}get value(){return this.cast(super.value)}}return Ba=n,Ba}var Oa,yf;function w1(){if(yf)return Oa;yf=1;const t=ka();class e extends t{constructor(n){super(n),this.default=this.options.default||(this.initial?"(Y/n)":"(y/N)")}}return Oa=e,Oa}var Ra,bf;function E1(){if(bf)return Ra;bf=1;const t=Dr(),r=Fa().prototype;class n extends t{constructor(h){super({...h,multiple:!0}),this.align=[this.options.align,"left"].find(p=>p!=null),this.emptyError="",this.values={}}dispatch(h,p){let s=this.focused,l=s.parent||{};return!s.editable&&!l.editable&&(h==="a"||h==="i")?super[h]():r.dispatch.call(this,h,p)}append(h,p){return r.append.call(this,h,p)}delete(h,p){return r.delete.call(this,h,p)}space(h){return this.focused.editable?this.append(h):super.space()}number(h){return this.focused.editable?this.append(h):super.number(h)}next(){return this.focused.editable?r.next.call(this):super.next()}prev(){return this.focused.editable?r.prev.call(this):super.prev()}async indicator(h,p){let s=h.indicator||"",l=h.editable?s:super.indicator(h,p);return await this.resolve(l,this.state,h,p)||""}indent(h){return h.role==="heading"?"":h.editable?" ":"  "}async renderChoice(h,p){return h.indent="",h.editable?r.renderChoice.call(this,h,p):super.renderChoice(h,p)}error(){return""}footer(){return this.state.error}async validate(){let h=!0;for(let p of this.choices){if(typeof p.validate!="function"||p.role==="heading")continue;let s=p.parent?this.value[p.parent.name]:this.value;if(p.editable?s=p.value===p.name?p.initial||"":p.value:this.isDisabled(p)||(s=p.enabled===!0),h=await p.validate(s,this.state),h!==!0)break}return h!==!0&&(this.state.error=typeof h=="string"?h:"Invalid Input"),h}submit(){if(this.focused.newChoice===!0)return super.submit();if(this.choices.some(h=>h.newChoice))return this.alert();this.value={};for(let h of this.choices){let p=h.parent?this.value[h.parent.name]:this.value;if(h.role==="heading"){this.value[h.name]={};continue}h.editable?p[h.name]=h.value===h.name?h.initial||"":h.value:this.isDisabled(h)||(p[h.name]=h.enabled===!0)}return this.base.submit.call(this)}}return Ra=n,Ra}var Pa,Cf;function Wr(){if(Cf)return Pa;Cf=1;const t=Ci(),e=ef(),r=pf(),{isPrimitive:n}=rt;class o extends t{constructor(p){super(p),this.initial=n(this.initial)?String(this.initial):"",this.initial&&this.cursorHide(),this.state.prevCursor=0,this.state.clipboard=[],this.keypressTimeout=this.options.keypressTimeout!==void 0?this.options.keypressTimeout:null}async keypress(p,s=p?e(p,{}):{}){const l=Date.now(),c=l-this.lastKeypress;this.lastKeypress=l;const a=s.name==="return"||s.name==="enter";let f=this.state.prevKeypress,i;if(this.state.prevKeypress=s,this.keypressTimeout!=null&&a){if(c<this.keypressTimeout)return this.submit();this.state.multilineBuffer=this.state.multilineBuffer||"",this.state.multilineBuffer+=p,i=!0,f=null}return(i||this.options.multiline&&a)&&(!f||f.name!=="return")?this.append(`
`,s):super.keypress(p,s)}moveCursor(p){this.cursor+=p}reset(){return this.input=this.value="",this.cursor=0,this.render()}dispatch(p,s){if(!p||s.ctrl||s.code)return this.alert();this.append(p)}append(p){let{cursor:s,input:l}=this.state;this.input=`${l}`.slice(0,s)+p+`${l}`.slice(s),this.moveCursor(String(p).length),this.render()}insert(p){this.append(p)}delete(){let{cursor:p,input:s}=this.state;if(p<=0)return this.alert();this.input=`${s}`.slice(0,p-1)+`${s}`.slice(p),this.moveCursor(-1),this.render()}deleteForward(){let{cursor:p,input:s}=this.state;if(s[p]===void 0)return this.alert();this.input=`${s}`.slice(0,p)+`${s}`.slice(p+1),this.render()}cutForward(){let p=this.cursor;if(this.input.length<=p)return this.alert();this.state.clipboard.push(this.input.slice(p)),this.input=this.input.slice(0,p),this.render()}cutLeft(){let p=this.cursor;if(p===0)return this.alert();let s=this.input.slice(0,p),l=this.input.slice(p),c=s.split(" ");this.state.clipboard.push(c.pop()),this.input=c.join(" "),this.cursor=this.input.length,this.input+=l,this.render()}paste(){if(!this.state.clipboard.length)return this.alert();this.insert(this.state.clipboard.pop()),this.render()}toggleCursor(){this.state.prevCursor?(this.cursor=this.state.prevCursor,this.state.prevCursor=0):(this.state.prevCursor=this.cursor,this.cursor=0),this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.input.length-1,this.render()}next(){let p=this.initial!=null?String(this.initial):"";if(!p||!p.startsWith(this.input))return this.alert();this.input=this.initial,this.cursor=this.initial.length,this.render()}prev(){if(!this.input)return this.alert();this.reset()}backward(){return this.left()}forward(){return this.right()}right(){return this.cursor>=this.input.length?this.alert():(this.moveCursor(1),this.render())}left(){return this.cursor<=0?this.alert():(this.moveCursor(-1),this.render())}isValue(p){return!!p}async format(p=this.value){let s=await this.resolve(this.initial,this.state);return this.state.submitted?this.styles.submitted(p||s):r(this,{input:p,initial:s,pos:this.cursor})}async render(){let p=this.state.size,s=await this.prefix(),l=await this.separator(),c=await this.message(),a=[s,c,l].filter(Boolean).join(" ");this.state.prompt=a;let f=await this.header(),i=await this.format(),d=await this.error()||await this.hint(),m=await this.footer();d&&!i.includes(d)&&(i+=" "+d),a+=" "+i,this.clear(p),this.write([f,a,m].filter(Boolean).join(`
`)),this.restore()}}return Pa=o,Pa}var La,Sf;function F1(){if(Sf)return La;Sf=1;const t=r=>r.filter((n,o)=>r.lastIndexOf(n)===o),e=r=>t(r).filter(Boolean);return La=(r,n={},o="")=>{let{past:h=[],present:p=""}=n,s,l;switch(r){case"prev":case"undo":return s=h.slice(0,h.length-1),l=h[h.length-1]||"",{past:e([o,...s]),present:l};case"next":case"redo":return s=h.slice(1),l=h[0]||"",{past:e([...s,o]),present:l};case"save":return{past:e([...h,o]),present:""};case"remove":return l=e(h.filter(c=>c!==o)),p="",l.length&&(p=l.pop()),{past:l,present:p};default:throw new Error(`Invalid action: "${r}"`)}},La}var Ta,wf;function Ef(){if(wf)return Ta;wf=1;const t=Wr(),e=F1();class r extends t{constructor(o){super(o);let h=this.options.history;if(h&&h.store){let p=h.values||this.initial;this.autosave=!!h.autosave,this.store=h.store,this.data=this.store.get("values")||{past:[],present:p},this.initial=this.data.present||this.data.past[this.data.past.length-1]}}completion(o){return this.store?(this.data=e(o,this.data,this.input),this.data.present?(this.input=this.data.present,this.cursor=this.input.length,this.render()):this.alert()):this.alert()}altUp(){return this.completion("prev")}altDown(){return this.completion("next")}prev(){return this.save(),super.prev()}save(){this.store&&(this.data=e("save",this.data,this.input),this.store.set("values",this.data))}submit(){return this.store&&this.autosave===!0&&this.save(),super.submit()}}return Ta=r,Ta}var Ia,Ff;function A1(){if(Ff)return Ia;Ff=1;const t=Wr();class e extends t{format(){return""}}return Ia=e,Ia}var Ma,Af;function x1(){if(Af)return Ma;Af=1;const t=Wr();class e extends t{constructor(n={}){super(n),this.sep=this.options.separator||/, */,this.initial=n.initial||""}split(n=this.value){return n?String(n).split(this.sep):[]}format(){let n=this.state.submitted?this.styles.primary:o=>o;return this.list.map(n).join(", ")}async submit(n){let o=this.state.error||await this.validate(this.list,this.state);return o!==!0?(this.state.error=o,super.submit()):(this.value=this.list,super.submit())}get list(){return this.split()}}return Ma=e,Ma}var ja,xf;function B1(){if(xf)return ja;xf=1;const t=Dr();class e extends t{constructor(n){super({...n,multiple:!0})}}return ja=e,ja}var Ha,Bf;function kf(){if(Bf)return Ha;Bf=1;const t=Wr();class e extends t{constructor(n={}){super({style:"number",...n}),this.min=this.isValue(n.min)?this.toNumber(n.min):-1/0,this.max=this.isValue(n.max)?this.toNumber(n.max):1/0,this.delay=n.delay!=null?n.delay:1e3,this.float=n.float!==!1,this.round=n.round===!0||n.float===!1,this.major=n.major||10,this.minor=n.minor||1,this.initial=n.initial!=null?n.initial:"",this.input=String(this.initial),this.cursor=this.input.length,this.cursorShow()}append(n){return!/[-+.]/.test(n)||n==="."&&this.input.includes(".")?this.alert("invalid number"):super.append(n)}number(n){return super.append(n)}next(){return this.input&&this.input!==this.initial?this.alert():this.isValue(this.initial)?(this.input=this.initial,this.cursor=String(this.initial).length,this.render()):this.alert()}up(n){let o=n||this.minor,h=this.toNumber(this.input);return h>this.max+o?this.alert():(this.input=`${h+o}`,this.render())}down(n){let o=n||this.minor,h=this.toNumber(this.input);return h<this.min-o?this.alert():(this.input=`${h-o}`,this.render())}shiftDown(){return this.down(this.major)}shiftUp(){return this.up(this.major)}format(n=this.input){return typeof this.options.format=="function"?this.options.format.call(this,n):this.styles.info(n)}toNumber(n=""){return this.float?+n:Math.round(+n)}isValue(n){return/^[-+]?[0-9]+((\.)|(\.[0-9]+))?$/.test(n)}submit(){let n=[this.input,this.initial].find(o=>this.isValue(o));return this.value=this.toNumber(n||0),super.submit()}}return Ha=e,Ha}var Na,Of;function k1(){return Of||(Of=1,Na=kf()),Na}var Wa,Rf;function O1(){if(Rf)return Wa;Rf=1;const t=Wr();class e extends t{constructor(n){super(n),this.cursorShow()}format(n=this.input){return this.keypressed?(this.state.submitted?this.styles.primary:this.styles.muted)(this.symbols.asterisk.repeat(n.length)):""}}return Wa=e,Wa}var Ua,Pf;function R1(){if(Pf)return Ua;Pf=1;const t=_r(),e=Ss(),r=rt;class n extends e{constructor(h={}){super(h),this.widths=[].concat(h.messageWidth||50),this.align=[].concat(h.align||"left"),this.linebreak=h.linebreak||!1,this.edgeLength=h.edgeLength||3,this.newline=h.newline||`
   `;let p=h.startNumber||1;typeof this.scale=="number"&&(this.scaleKey=!1,this.scale=Array(this.scale).fill(0).map((s,l)=>({name:l+p})))}async reset(){return this.tableized=!1,await super.reset(),this.render()}tableize(){if(this.tableized===!0)return;this.tableized=!0;let h=0;for(let p of this.choices){h=Math.max(h,p.message.length),p.scaleIndex=p.initial||2,p.scale=[];for(let s=0;s<this.scale.length;s++)p.scale.push({index:s})}this.widths[0]=Math.min(this.widths[0],h+3)}async dispatch(h,p){if(this.multiple)return this[p.name]?await this[p.name](h,p):await super.dispatch(h,p);this.alert()}heading(h,p,s){return this.styles.strong(h)}separator(){return this.styles.muted(this.symbols.ellipsis)}right(){let h=this.focused;return h.scaleIndex>=this.scale.length-1?this.alert():(h.scaleIndex++,this.render())}left(){let h=this.focused;return h.scaleIndex<=0?this.alert():(h.scaleIndex--,this.render())}indent(){return""}format(){return this.state.submitted?this.choices.map(p=>this.styles.info(p.index)).join(", "):""}pointer(){return""}renderScaleKey(){return this.scaleKey===!1||this.state.submitted?"":["",...this.scale.map(s=>`   ${s.name} - ${s.message}`)].map(s=>this.styles.muted(s)).join(`
`)}renderScaleHeading(h){let p=this.scale.map(i=>i.name);typeof this.options.renderScaleHeading=="function"&&(p=this.options.renderScaleHeading.call(this,h));let s=this.scaleLength-p.join("").length,l=Math.round(s/(p.length-1)),a=p.map(i=>this.styles.strong(i)).join(" ".repeat(l)),f=" ".repeat(this.widths[0]);return this.margin[3]+f+this.margin[1]+a}scaleIndicator(h,p,s){if(typeof this.options.scaleIndicator=="function")return this.options.scaleIndicator.call(this,h,p,s);let l=h.scaleIndex===p.index;return p.disabled?this.styles.hint(this.symbols.radio.disabled):l?this.styles.success(this.symbols.radio.on):this.symbols.radio.off}renderScale(h,p){let s=h.scale.map(c=>this.scaleIndicator(h,c,p)),l=this.term==="Hyper"?"":" ";return s.join(l+this.symbols.line.repeat(this.edgeLength))}async renderChoice(h,p){await this.onChoice(h,p);let s=this.index===p,l=await this.pointer(h,p),c=await h.hint;c&&!r.hasColor(c)&&(c=this.styles.muted(c));let a=g=>this.margin[3]+g.replace(/\s+$/,"").padEnd(this.widths[0]," "),f=this.newline,i=this.indent(h),d=await this.resolve(h.message,this.state,h,p),m=await this.renderScale(h,p),D=this.margin[1]+this.margin[3];this.scaleLength=t(m).length,this.widths[0]=Math.min(this.widths[0],this.width-this.scaleLength-D.length);let _=r.wordWrap(d,{width:this.widths[0],newline:f}).split(`
`).map(g=>a(g)+this.margin[1]);return s&&(m=this.styles.info(m),_=_.map(g=>this.styles.info(g))),_[0]+=m,this.linebreak&&_.push(""),[i+l,_.join(`
`)].filter(Boolean)}async renderChoices(){if(this.state.submitted)return"";this.tableize();let h=this.visible.map(async(l,c)=>await this.renderChoice(l,c)),p=await Promise.all(h),s=await this.renderScaleHeading();return this.margin[0]+[s,...p.map(l=>l.join(" "))].join(`
`)}async render(){let{submitted:h,size:p}=this.state,s=await this.prefix(),l=await this.separator(),c=await this.message(),a="";this.options.promptLine!==!1&&(a=[s,c,l,""].join(" "),this.state.prompt=a);let f=await this.header(),i=await this.format(),d=await this.renderScaleKey(),m=await this.error()||await this.hint(),D=await this.renderChoices(),u=await this.footer(),_=this.emptyError;i&&(a+=i),m&&!a.includes(m)&&(a+=" "+m),h&&!i&&!D.trim()&&this.multiple&&_!=null&&(a+=this.styles.danger(_)),this.clear(p),this.write([f,a,d,D,u].filter(Boolean).join(`
`)),this.state.submitted||this.write(this.margin[2]),this.restore()}submit(){this.value={};for(let h of this.choices)this.value[h.name]=h.scaleIndex;return this.base.submit.call(this)}}return Ua=n,Ua}var $a,Lf;function P1(){if(Lf)return $a;Lf=1;const t=_r(),e=(h="")=>typeof h=="string"?h.replace(/^['"]|['"]$/g,""):"";class r{constructor(p){this.name=p.key,this.field=p.field||{},this.value=e(p.initial||this.field.initial||""),this.message=p.message||this.name,this.cursor=0,this.input="",this.lines=[]}}const n=async(h={},p={},s=l=>l)=>{let l=new Set,c=h.fields||[],a=h.template,f=[],i=[],d=[],m=1;typeof a=="function"&&(a=await a());let D=-1,u=()=>a[++D],_=()=>a[D+1],g=v=>{v.line=m,f.push(v)};for(g({type:"bos",value:""});D<a.length-1;){let v=u();if(/^[^\S\n ]$/.test(v)){g({type:"text",value:v});continue}if(v===`
`){g({type:"newline",value:v}),m++;continue}if(v==="\\"){v+=u(),g({type:"text",value:v});continue}if((v==="$"||v==="#"||v==="{")&&_()==="{"){let b=u();v+=b;let E={type:"template",open:v,inner:"",close:"",value:v},F;for(;F=u();){if(F==="}"){_()==="}"&&(F+=u()),E.value+=F,E.close=F;break}F===":"?(E.initial="",E.key=E.inner):E.initial!==void 0&&(E.initial+=F),E.value+=F,E.inner+=F}E.template=E.open+(E.initial||E.inner)+E.close,E.key=E.key||E.inner,hasOwnProperty.call(p,E.key)&&(E.initial=p[E.key]),E=s(E),g(E),d.push(E.key),l.add(E.key);let C=i.find(A=>A.name===E.key);E.field=c.find(A=>A.name===E.key),C||(C=new r(E),i.push(C)),C.lines.push(E.line-1);continue}let y=f[f.length-1];y.type==="text"&&y.line===m?y.value+=v:g({type:"text",value:v})}return g({type:"eos",value:""}),{input:a,tabstops:f,unique:l,keys:d,items:i}};$a=async h=>{let p=h.options,s=new Set(p.required===!0?[]:p.required||[]),l={...p.values,...p.initial},{tabstops:c,items:a,keys:f}=await n(p,l),i=o("result",h),d=o("format",h),m=o("validate",h,p,!0),D=h.isValue.bind(h);return async(u={},_=!1)=>{let g=0;u.required=s,u.items=a,u.keys=f,u.output="";let v=async(F,C,A,L)=>{let T=await m(F,C,A,L);return T===!1?"Invalid field "+A.name:T};for(let F of c){let C=F.value,A=F.key;if(F.type!=="template"){C&&(u.output+=C);continue}if(F.type==="template"){let L=a.find(Z=>Z.name===A);p.required===!0&&u.required.add(L.name);let T=[L.input,u.values[L.value],L.value,C].find(D),H=(L.field||{}).message||F.inner;if(_){let Z=await v(u.values[A],u,L,g);if(Z&&typeof Z=="string"||Z===!1){u.invalid.set(A,Z);continue}u.invalid.delete(A);let te=await i(u.values[A],u,L,g);u.output+=t(te);continue}L.placeholder=!1;let Y=C;C=await d(C,u,L,g),T!==C?(u.values[A]=T,C=h.styles.typing(T),u.missing.delete(H)):(u.values[A]=void 0,T=`<${H}>`,C=h.styles.primary(T),L.placeholder=!0,u.required.has(A)&&u.missing.add(H)),u.missing.has(H)&&u.validating&&(C=h.styles.warning(T)),u.invalid.has(A)&&u.validating&&(C=h.styles.danger(T)),g===u.index&&(Y!==C?C=h.styles.underline(C):C=h.styles.heading(t(C))),g++}C&&(u.output+=C)}let y=u.output.split(`
`).map(F=>" "+F),b=a.length,E=0;for(let F of a)u.invalid.has(F.name)&&F.lines.forEach(C=>{y[C][0]===" "&&(y[C]=u.styles.danger(u.symbols.bullet)+y[C].slice(1))}),h.isValue(u.values[F.name])&&E++;return u.completed=(E/b*100).toFixed(0),u.output=y.join(`
`),u.output}};function o(h,p,s,l){return(c,a,f,i)=>typeof f.field[h]=="function"?f.field[h].call(p,c,a,f,i):[l,c].find(d=>p.isValue(d))}return $a}var qa,Tf;function L1(){if(Tf)return qa;Tf=1;const t=_r(),e=P1(),r=Ci();class n extends r{constructor(h){super(h),this.cursorHide(),this.reset(!0)}async initialize(){this.interpolate=await e(this),await super.initialize()}async reset(h){this.state.keys=[],this.state.invalid=new Map,this.state.missing=new Set,this.state.completed=0,this.state.values={},h!==!0&&(await this.initialize(),await this.render())}moveCursor(h){let p=this.getItem();this.cursor+=h,p.cursor+=h}dispatch(h,p){if(!p.code&&!p.ctrl&&h!=null&&this.getItem()){this.append(h,p);return}this.alert()}append(h,p){let s=this.getItem(),l=s.input.slice(0,this.cursor),c=s.input.slice(this.cursor);this.input=s.input=`${l}${h}${c}`,this.moveCursor(1),this.render()}delete(){let h=this.getItem();if(this.cursor<=0||!h.input)return this.alert();let p=h.input.slice(this.cursor),s=h.input.slice(0,this.cursor-1);this.input=h.input=`${s}${p}`,this.moveCursor(-1),this.render()}increment(h){return h>=this.state.keys.length-1?0:h+1}decrement(h){return h<=0?this.state.keys.length-1:h-1}first(){this.state.index=0,this.render()}last(){this.state.index=this.state.keys.length-1,this.render()}right(){if(this.cursor>=this.input.length)return this.alert();this.moveCursor(1),this.render()}left(){if(this.cursor<=0)return this.alert();this.moveCursor(-1),this.render()}prev(){this.state.index=this.decrement(this.state.index),this.getItem(),this.render()}next(){this.state.index=this.increment(this.state.index),this.getItem(),this.render()}up(){this.prev()}down(){this.next()}format(h){let p=this.state.completed<100?this.styles.warning:this.styles.success;return this.state.submitted===!0&&this.state.completed!==100&&(p=this.styles.danger),p(`${this.state.completed}% completed`)}async render(){let{index:h,keys:p=[],submitted:s,size:l}=this.state,c=[this.options.newline,`
`].find(E=>E!=null),a=await this.prefix(),f=await this.separator(),i=await this.message(),d=[a,i,f].filter(Boolean).join(" ");this.state.prompt=d;let m=await this.header(),D=await this.error()||"",u=await this.hint()||"",_=s?"":await this.interpolate(this.state),g=this.state.key=p[h]||"",v=await this.format(g),y=await this.footer();v&&(d+=" "+v),u&&!v&&this.state.completed===0&&(d+=" "+u),this.clear(l);let b=[m,d,_,y,D.trim()];this.write(b.filter(Boolean).join(c)),this.restore()}getItem(h){let{items:p,keys:s,index:l}=this.state,c=p.find(a=>a.name===s[l]);return c&&c.input!=null&&(this.input=c.input,this.cursor=c.cursor),c}async submit(){typeof this.interpolate!="function"&&await this.initialize(),await this.interpolate(this.state,!0);let{invalid:h,missing:p,output:s,values:l}=this.state;if(h.size){let f="";for(let[i,d]of h)f+=`Invalid ${i}: ${d}
`;return this.state.error=f,super.submit()}if(p.size)return this.state.error="Required: "+[...p.keys()].join(", "),super.submit();let a=t(s).split(`
`).map(f=>f.slice(1)).join(`
`);return this.value={values:l,result:a},super.submit()}}return qa=n,qa}var za,If;function T1(){if(If)return za;If=1;const t="(Use <shift>+<up/down> to sort)",e=Dr();class r extends e{constructor(o){super({...o,reorder:!1,sort:!0,multiple:!0}),this.state.hint=[this.options.hint,t].find(this.isValue.bind(this))}indicator(){return""}async renderChoice(o,h){let p=await super.renderChoice(o,h),s=this.symbols.identicalTo+" ",l=this.index===h&&this.sorting?this.styles.muted(s):"  ";return this.options.drag===!1&&(l=""),this.options.numbered===!0?l+`${h+1} - `+p:l+p}get selected(){return this.choices}submit(){return this.value=this.choices.map(o=>o.value),super.submit()}}return za=r,za}var Ga,Mf;function I1(){if(Mf)return Ga;Mf=1;const t=Ss();class e extends t{constructor(o={}){if(super(o),this.emptyError=o.emptyError||"No items were selected",this.term=oe.env.TERM_PROGRAM,!this.options.header){let h=["","4 - Strongly Agree","3 - Agree","2 - Neutral","1 - Disagree","0 - Strongly Disagree",""];h=h.map(p=>this.styles.muted(p)),this.state.header=h.join(`
   `)}}async toChoices(...o){if(this.createdScales)return!1;this.createdScales=!0;let h=await super.toChoices(...o);for(let p of h)p.scale=r(5,this.options),p.scaleIdx=2;return h}dispatch(){this.alert()}space(){let o=this.focused,h=o.scale[o.scaleIdx],p=h.selected;return o.scale.forEach(s=>s.selected=!1),h.selected=!p,this.render()}indicator(){return""}pointer(){return""}separator(){return this.styles.muted(this.symbols.ellipsis)}right(){let o=this.focused;return o.scaleIdx>=o.scale.length-1?this.alert():(o.scaleIdx++,this.render())}left(){let o=this.focused;return o.scaleIdx<=0?this.alert():(o.scaleIdx--,this.render())}indent(){return"   "}async renderChoice(o,h){await this.onChoice(o,h);let p=this.index===h,s=this.term==="Hyper",l=s?9:8,c=s?"":" ",a=this.symbols.line.repeat(l),f=" ".repeat(l+(s?0:1)),i=E=>(E?this.styles.success("â"):"â¯")+c,d=h+1+".",m=p?this.styles.heading:this.styles.noop,D=await this.resolve(o.message,this.state,o,h),u=this.indent(o),_=u+o.scale.map((E,F)=>i(F===o.scaleIdx)).join(a),g=E=>E===o.scaleIdx?m(E):E,v=u+o.scale.map((E,F)=>g(F)).join(f),y=()=>[d,D].filter(Boolean).join(" "),b=()=>[y(),_,v," "].filter(Boolean).join(`
`);return p&&(_=this.styles.cyan(_),v=this.styles.cyan(v)),b()}async renderChoices(){if(this.state.submitted)return"";let o=this.visible.map(async(p,s)=>await this.renderChoice(p,s)),h=await Promise.all(o);return h.length||h.push(this.styles.danger("No matching choices")),h.join(`
`)}format(){return this.state.submitted?this.choices.map(h=>this.styles.info(h.scaleIdx)).join(", "):""}async render(){let{submitted:o,size:h}=this.state,p=await this.prefix(),s=await this.separator(),l=await this.message(),c=[p,l,s].filter(Boolean).join(" ");this.state.prompt=c;let a=await this.header(),f=await this.format(),i=await this.error()||await this.hint(),d=await this.renderChoices(),m=await this.footer();(f||!i)&&(c+=" "+f),i&&!c.includes(i)&&(c+=" "+i),o&&!f&&!d&&this.multiple&&this.type!=="form"&&(c+=this.styles.danger(this.emptyError)),this.clear(h),this.write([c,a,d,m].filter(Boolean).join(`
`)),this.restore()}submit(){this.value={};for(let o of this.choices)this.value[o.name]=o.scaleIdx;return this.base.submit.call(this)}}function r(n,o={}){if(Array.isArray(o.scale))return o.scale.map(p=>({...p}));let h=[];for(let p=1;p<n+1;p++)h.push({i:p,selected:!1});return h}return Ga=e,Ga}var Va,jf;function M1(){return jf||(jf=1,Va=Ef()),Va}var Ka,Hf;function j1(){if(Hf)return Ka;Hf=1;const t=ka();class e extends t{async initialize(){await super.initialize(),this.value=this.initial=this.resolve(this.options.initial),this.disabled=this.options.disabled||"no",this.enabled=this.options.enabled||"yes",await this.render()}reset(){this.value=this.initial,this.render()}delete(){this.alert()}toggle(){this.value=!this.value,this.render()}enable(){if(this.value===!0)return this.alert();this.value=!0,this.render()}disable(){if(this.value===!1)return this.alert();this.value=!1,this.render()}up(){this.toggle()}down(){this.toggle()}right(){this.toggle()}left(){this.toggle()}next(){this.toggle()}prev(){this.toggle()}dispatch(n="",o){switch(n.toLowerCase()){case" ":return this.toggle();case"1":case"y":case"t":return this.enable();case"0":case"n":case"f":return this.disable();default:return this.alert()}}format(){let n=h=>this.styles.primary.underline(h);return[this.value?this.disabled:n(this.disabled),this.value?n(this.enabled):this.enabled].join(this.styles.muted(" / "))}async render(){let{size:n}=this.state,o=await this.header(),h=await this.prefix(),p=await this.separator(),s=await this.message(),l=await this.format(),c=await this.error()||await this.hint(),a=await this.footer(),f=[h,s,p,l].join(" ");this.state.prompt=f,c&&!f.includes(c)&&(f+=" "+c),this.clear(n),this.write([o,f,a].filter(Boolean).join(`
`)),this.write(this.margin[2]),this.restore()}}return Ka=e,Ka}var Ya,Nf;function H1(){if(Nf)return Ya;Nf=1;const t=Dr();class e extends t{constructor(n){if(super(n),typeof this.options.correctChoice!="number"||this.options.correctChoice<0)throw new Error("Please specify the index of the correct answer from the list of choices")}async toChoices(n,o){let h=await super.toChoices(n,o);if(h.length<2)throw new Error("Please give at least two choices to the user");if(this.options.correctChoice>h.length)throw new Error("Please specify the index of the correct answer from the list of choices");return h}check(n){return n.index===this.options.correctChoice}async result(n){return{selectedAnswer:n,correctAnswer:this.options.choices[this.options.correctChoice].value,correct:await this.check(this.state)}}}return Ya=e,Ya}var Wf;function N1(){return Wf||(Wf=1,function(t){const e=rt,r=(n,o)=>{e.defineExport(t,n,o),e.defineExport(t,n.toLowerCase(),o)};r("AutoComplete",()=>C1()),r("BasicAuth",()=>S1()),r("Confirm",()=>w1()),r("Editable",()=>E1()),r("Form",()=>Fa()),r("Input",()=>Ef()),r("Invisible",()=>A1()),r("List",()=>x1()),r("MultiSelect",()=>B1()),r("Numeral",()=>k1()),r("Password",()=>O1()),r("Scale",()=>R1()),r("Select",()=>Dr()),r("Snippet",()=>L1()),r("Sort",()=>T1()),r("Survey",()=>I1()),r("Text",()=>M1()),r("Toggle",()=>j1()),r("Quiz",()=>H1())}(Da)),Da}var Ja,Uf;function W1(){return Uf||(Uf=1,Ja={ArrayPrompt:Ss(),AuthPrompt:_f(),BooleanPrompt:ka(),NumberPrompt:kf(),StringPrompt:Wr()}),Ja}const $f=fs(),Xa=_i,Kt=rt;class Nt extends Xa{constructor(e,r){super(),this.options=Kt.merge({},e),this.answers={...r}}register(e,r){if(Kt.isObject(e)){for(let o of Object.keys(e))this.register(o,e[o]);return this}$f.equal(typeof r,"function","expected a function");const n=e.toLowerCase();return r.prototype instanceof this.Prompt?this.prompts[n]=r:this.prompts[n]=r(this.Prompt,this),this}async prompt(e=[]){for(let r of[].concat(e))try{typeof r=="function"&&(r=await r.call(this)),await this.ask(Kt.merge({},this.options,r))}catch(n){return Promise.reject(n)}return this.answers}async ask(e){typeof e=="function"&&(e=await e.call(this));let r=Kt.merge({},this.options,e),{type:n,name:o}=e,{set:h,get:p}=Kt;if(typeof n=="function"&&(n=await n.call(this,e,this.answers)),!n)return this.answers[o];n==="number"&&(n="numeral"),$f(this.prompts[n],`Prompt "${n}" is not registered`);let s=new this.prompts[n](r),l=p(this.answers,o);s.state.answers=this.answers,s.enquirer=this,o&&s.on("submit",a=>{this.emit("answer",o,a,s),h(this.answers,o,a)});let c=s.emit.bind(s);return s.emit=(...a)=>(this.emit.call(this,...a),c(...a)),this.emit("prompt",s,this),r.autofill&&l!=null?(s.value=s.input=l,r.autofill==="show"&&await s.submit()):l=s.value=await s.run(),l}use(e){return e.call(this,this),this}set Prompt(e){this._Prompt=e}get Prompt(){return this._Prompt||this.constructor.Prompt}get prompts(){return this.constructor.prompts}static set Prompt(e){this._Prompt=e}static get Prompt(){return this._Prompt||Ci()}static get prompts(){return N1()}static get types(){return W1()}static get prompt(){const e=(r,...n)=>{let o=new this(...n),h=o.emit.bind(o);return o.emit=(...p)=>(e.emit(...p),h(...p)),o.prompt(r)};return Kt.mixinEmitter(e,new Xa),e}}Kt.mixinEmitter(Nt,new Xa);const Za=Nt.prompts;for(let t of Object.keys(Za)){let e=t.toLowerCase(),r=n=>new Za[t](n).run();Nt.prompt[e]=r,Nt[e]=r,Nt[t]||Reflect.defineProperty(Nt,t,{get:()=>Za[t]})}const Si=t=>{Kt.defineExport(Nt,t,()=>Nt.types[t])};Si("ArrayPrompt"),Si("AuthPrompt"),Si("BooleanPrompt"),Si("NumberPrompt"),Si("StringPrompt");var Qe=Nt;async function Qa(t,e,r,n){const o=Array.isArray(t)?t:[t];for(const s of o)switch(s.component){case"text":const l=$e(s.output,e,n);r.print(l+`
`),s.duration&&(s.duration==="random"?await pi():await pi(s.duration));break;case"progressBar":await new Promise(z=>{const x=new gD.SingleBar({hideCursor:!0},{format:$e(s.output,e,n)+" | "+Jr.cyan("{bar}")+" | {percentage}% | ETA: {eta}s",barCompleteChar:"â",barIncompleteChar:"â"}),j=s.duration==="random"?Math.floor(Math.random()*2900)+100:s.duration,U=200;x.start(U,0);let V=0;const re=()=>{const se=Math.random()<.6?Math.random()*.5+.1:Math.random()*2+2,he=j/U,me=Math.max(10,Math.floor(he*se));V+=me;const Se=Math.min(U,Math.floor(V/j*U));x.update(Se),Se>=U||V>=j?(x.update(U),x.stop(),z()):setTimeout(re,Math.random()*80)};re()});break;case"spinner":var h=s.duration==="random"?Math.floor(Math.random()*2900)+100:s.duration;const c=Array.isArray(s.output)?s.output:[s.output];c.forEach((z,x)=>{c[x]=$e(z,e,n)});const a=Mv({text:c[0],stream:oe.stdout,discardStdin:!1}).start();if(c.length>1){for(const[z,x]of c.entries())await pi(h/c.length,async()=>{z!==0&&(a.text=x)});await pi(h/c.length,async()=>{await lc(a,s)})}else await pi(h,async()=>{await lc(a,s)});break;case"table":let _=function(z,x,j){const U=i*j,V=d*(j+1),re=x-U-V-2*m,se=z.reduce((he,me)=>he+me,0);if(se>re){const he=re/se;return z.map(me=>Math.max(D,Math.floor(me*he)))}return z.map(he=>Math.max(D,he))};const f=oe.stdout.columns||80,i=2,d=1,m=1,D=3,u=s.output.map(z=>z.map(x=>$e(x,e,n)));let g;const v=u[0].length;s.colWidths?g=_([...s.colWidths],f,v):(g=u[0].map(()=>0),u.forEach(z=>{z.forEach((x,j)=>{const U=ac(x.toString());U>g[j]&&(g[j]=U)})}),g=_(g,f,v));const y={head:u[0],colWidths:g,wordWrap:!0,wrapOnWordBoundary:!1},b=new a1(y);b.push(...u.slice(1)),r.println(b.toString());break;case"conditional":const E=s.output.if,F={...e,...n};new Function(...Object.keys(F),`return ${E}`)(...Object.values(F))?await Qa(s.output.then,e,r,n):s.output.else&&await Qa(s.output.else,e,r,n);break;case"variable":for(var p in s.output)p in n?n[p]=s.output[p]:console.error(`Error: Attempt to set undefined global variable '${p}'`);break;case"autoComplete":const A=await Qe.prompt({type:"AutoComplete",name:s.name,message:$e(s.message,e,n),limit:s.limit?s.limit:5,initial:s.initial?s.initial:0,choices:s.choices,multiple:s.multiple?s.multiple:!1,footer:s.footer?()=>Jr.dim(s.footer):()=>{}});n[s.name]=A[s.name];break;case"basicAuth":const L=await Qe.prompt({type:"BasicAuth",name:s.name,message:$e(s.message,e,n),username:s.username,password:s.password,showPassword:s.showPassword?s.showPassword:!1});n[s.name]=L[s.name];break;case"confirm":const T=await Qe.prompt({type:"confirm",name:s.name,message:$e(s.message,e,n),initial:s.initial?s.initial:!1});n[s.name]=T[s.name];break;case"form":const O=await Qe.prompt({type:"form",name:s.name,message:$e(s.message,e,n),choices:s.choices});n[s.name]=O[s.name];break;case"input":const H=await Qe.prompt({type:"input",name:s.name,message:$e(s.message,e,n),initial:s.initial?s.initial:""});n[s.name]=H[s.name];break;case"invisible":const Y=await Qe.prompt({type:"invisible",name:s.name,message:$e(s.message,e,n)});n[s.name]=Y[s.name];break;case"list":const Z=await Qe.prompt({type:"list",name:s.name,message:$e(s.message,e,n)});n[s.name]=Z[s.name];break;case"multiSelect":const te=await Qe.prompt({type:"MultiSelect",name:s.name,message:$e(s.message,e,n),limit:s.limit?s.limit:5,choices:s.choices});n[s.name]=te[s.name];break;case"number":const ee=await Qe.prompt({type:"number",name:s.name,message:$e(s.message,e,n)});n[s.name]=ee[s.name];break;case"password":const k=await Qe.prompt({type:"password",name:s.name,message:$e(s.message,e,n)});n[s.name]=k[s.name];break;case"quiz":const R=await Qe.prompt({type:"quiz",name:s.name,message:$e(s.message,e,n),choices:s.choices,correctChoice:s.correctChoice});n[s.name]=R[s.name];break;case"survey":const P=await Qe.prompt({type:"survey",name:s.name,message:$e(s.message,e,n),scale:s.scale,margin:[0,0,2,1],choices:s.choices});n[s.name]=P[s.name];break;case"scale":const q=await Qe.prompt({type:"scale",name:s.name,message:$e(s.message,e,n),scale:s.scale,margin:[0,0,2,1],choices:s.choices});n[s.name]=q[s.name];break;case"select":const I=await Qe.prompt({type:"select",name:s.name,message:$e(s.message,e,n),choices:s.choices});n[s.name]=I[s.name];break;case"sort":const G=await Qe.prompt({type:"sort",name:s.name,message:$e(s.message,e,n),choices:s.choices});n[s.name]=G[s.name];break;case"snippet":const M=await Qe.prompt({type:"snippet",name:s.name,message:$e(s.message,e,n),required:!0,fields:s.fields,template:JSON.stringify(JSON.parse(s.template.replaceAll("\\n",`
`)),null,2)});n[s.name]=M[s.name];break;case"toggle":const $=await Qe.prompt({type:"toggle",name:s.name,message:$e(s.message,e,n),enabled:s.enabled,disabled:s.disabled});n[s.name]=$[s.name];break}}var qf={};function U1(t,e,r){qf=e.variables;function n(o,h){Object.entries(o).forEach(([p,s])=>{h.command(p,s.description||s.desc||s.describe||"",l=>(s.alias&&(Array.isArray(s.alias)?s.alias:[s.alias]).forEach(a=>{l.alias(p,a)}),s.positional&&Object.entries(s.positional).forEach(([c,a])=>{l.positional(c,a)}),s.options&&Object.entries(s.options).forEach(([c,a])=>{l.option(c,a)}),s.example&&(Array.isArray(s.example[0])?s.example:[s.example]).forEach(([a,f])=>{l.example(a,f)}),s.commands&&n(s.commands,l),l),s.handler?async l=>{try{await Qa(s.handler,l,r,qf)}catch(c){console.error("Error in command handler:",c)}}:()=>{h.showHelp()})})}n(e.commands,t),t.command("clear","Clears the terminal",()=>{},()=>r.clearTerminal())}function $1(t,e){const r=ag().usageConfiguration({"hide-types":!0});return U1(r,e,t),r}function q1(){if(typeof oe<"u"&&!oe.stdout){const t=globalThis.localEcho;if(typeof t<"u"){const e=new Proxy({},{get(n,o){return typeof t[o]=="function"?function(...h){return t[o].apply(t,h)}:t[o]}}),r=Object.create(e,{write:{value:function(n){t.print(n)},writable:!0,configurable:!0},isTTY:{value:!0,writable:!0,configurable:!0},setRawMode:{value:function(){},writable:!0,configurable:!0},columns:{get:function(){return t._termSize.cols||80},configurable:!0},rows:{get:function(){return t._termSize.rows||24},configurable:!0}});oe.stdout=oe.stdin=oe.stderr=r,globalThis.localEcho.term.onResize(({cols:n,rows:o})=>{t._termSize.cols=n,t._termSize.rows=o})}}}class z1{constructor(e,r={}){this.term=new Ed.Terminal({cursorBlink:!0,convertEol:!0,fontSize:16,fontFamily:'"Ubuntu Mono", monospace',fontWeight:"100",fontWeightBold:"bold",theme:{background:"#330F25",foreground:"#ffffff",cursor:"#ffffff",selection:"rgba(255, 255, 255, 0.3)",black:"#2e3436",red:"#cc0000",green:"#00975F",yellow:"#c4a000",blue:"#00407D",magenta:"#75507b",cyan:"#06989a",white:"#ffffff"}}),this.fitAddon=new wd.FitAddon,this.localEcho=new dp,this.term.loadAddon(this.fitAddon),this.term.loadAddon(this.localEcho),this.init(e,r)}init(e,r){this.term.open(e),r.welcome&&this.term.write(r.welcome+`

`),this.fitAddon.fit(),this.resizeHandler=()=>this.fitAddon.fit(),window.addEventListener("resize",this.resizeHandler),q1();const n=$1(this.localEcho,r);Hu(this.localEcho,this.term,n),this.term.focus()}destroy(){window.removeEventListener("resize",this.resizeHandler),this.term.dispose()}}Ce.Terminal=z1,Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"})});
